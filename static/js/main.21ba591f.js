/*! For license information please see main.21ba591f.js.LICENSE.txt */
(()=>{"use strict";var e={4:(e,t,n)=>{var r=n(853),i=n(43),o=n(950);function s(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}var l=Symbol.for("react.element"),u=Symbol.for("react.transitional.element"),c=Symbol.for("react.portal"),d=Symbol.for("react.fragment"),h=Symbol.for("react.strict_mode"),f=Symbol.for("react.profiler"),p=Symbol.for("react.provider"),m=Symbol.for("react.consumer"),g=Symbol.for("react.context"),v=Symbol.for("react.forward_ref"),y=Symbol.for("react.suspense"),_=Symbol.for("react.suspense_list"),b=Symbol.for("react.memo"),w=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var S=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.tracing_marker");var k=Symbol.for("react.memo_cache_sentinel"),C=Symbol.iterator;function E(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=C&&e[C]||e["@@iterator"])?e:null}var T=Symbol.for("react.client.reference");function I(e){if(null==e)return null;if("function"===typeof e)return e.$$typeof===T?null:e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case d:return"Fragment";case c:return"Portal";case f:return"Profiler";case h:return"StrictMode";case y:return"Suspense";case _:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case g:return(e.displayName||"Context")+".Provider";case m:return(e._context.displayName||"Context")+".Consumer";case v:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case b:return null!==(t=e.displayName||null)?t:I(e.type)||"Memo";case w:t=e._payload,e=e._init;try{return I(e(t))}catch(n){}}return null}var x,P,R=i.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,N=Object.assign;function O(e){if(void 0===x)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);x=t&&t[1]||"",P=-1<n.stack.indexOf("\n    at")?" (<anonymous>)":-1<n.stack.indexOf("@")?"@unknown:0:0":""}return"\n"+x+e+P}var A=!1;function D(e,t){if(!e||A)return"";A=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var r={DetermineComponentFrameRoot:function(){try{if(t){var n=function(){throw Error()};if(Object.defineProperty(n.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(n,[])}catch(i){var r=i}Reflect.construct(e,[],n)}else{try{n.call()}catch(o){r=o}e.call(n.prototype)}}else{try{throw Error()}catch(s){r=s}(n=e())&&"function"===typeof n.catch&&n.catch((function(){}))}}catch(a){if(a&&r&&"string"===typeof a.stack)return[a.stack,r.stack]}return[null,null]}};r.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var i=Object.getOwnPropertyDescriptor(r.DetermineComponentFrameRoot,"name");i&&i.configurable&&Object.defineProperty(r.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var o=r.DetermineComponentFrameRoot(),s=o[0],a=o[1];if(s&&a){var l=s.split("\n"),u=a.split("\n");for(i=r=0;r<l.length&&!l[r].includes("DetermineComponentFrameRoot");)r++;for(;i<u.length&&!u[i].includes("DetermineComponentFrameRoot");)i++;if(r===l.length||i===u.length)for(r=l.length-1,i=u.length-1;1<=r&&0<=i&&l[r]!==u[i];)i--;for(;1<=r&&0<=i;r--,i--)if(l[r]!==u[i]){if(1!==r||1!==i)do{if(r--,0>--i||l[r]!==u[i]){var c="\n"+l[r].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}}while(1<=r&&0<=i);break}}}finally{A=!1,Error.prepareStackTrace=n}return(n=e?e.displayName||e.name:"")?O(n):""}function L(e){switch(e.tag){case 26:case 27:case 5:return O(e.type);case 16:return O("Lazy");case 13:return O("Suspense");case 19:return O("SuspenseList");case 0:case 15:return e=D(e.type,!1);case 11:return e=D(e.type.render,!1);case 1:return e=D(e.type,!0);default:return""}}function M(e){try{var t="";do{t+=L(e),e=e.return}while(e);return t}catch(n){return"\nError generating stack: "+n.message+"\n"+n.stack}}function F(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function j(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function U(e){if(F(e)!==e)throw Error(s(188))}function z(e){var t=e.tag;if(5===t||26===t||27===t||6===t)return e;for(e=e.child;null!==e;){if(null!==(t=z(e)))return t;e=e.sibling}return null}var q=Array.isArray,H=o.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,$={pending:!1,data:null,method:null,action:null},V=[],W=-1;function B(e){return{current:e}}function Q(e){0>W||(e.current=V[W],V[W]=null,W--)}function K(e,t){W++,V[W]=e.current,e.current=t}var Y=B(null),G=B(null),J=B(null),X=B(null);function Z(e,t){switch(K(J,t),K(G,e),K(Y,null),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)&&(t=t.namespaceURI)?Jc(t):0;break;default:if(t=(e=8===e?t.parentNode:t).tagName,e=e.namespaceURI)t=Xc(e=Jc(e),t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}Q(Y),K(Y,t)}function ee(){Q(Y),Q(G),Q(J)}function te(e){null!==e.memoizedState&&K(X,e);var t=Y.current,n=Xc(t,e.type);t!==n&&(K(G,e),K(Y,n))}function ne(e){G.current===e&&(Q(Y),Q(G)),X.current===e&&(Q(X),Fd._currentValue=$)}var re=Object.prototype.hasOwnProperty,ie=r.unstable_scheduleCallback,oe=r.unstable_cancelCallback,se=r.unstable_shouldYield,ae=r.unstable_requestPaint,le=r.unstable_now,ue=r.unstable_getCurrentPriorityLevel,ce=r.unstable_ImmediatePriority,de=r.unstable_UserBlockingPriority,he=r.unstable_NormalPriority,fe=r.unstable_LowPriority,pe=r.unstable_IdlePriority,me=r.log,ge=r.unstable_setDisableYieldValue,ve=null,ye=null;function _e(e){if("function"===typeof me&&ge(e),ye&&"function"===typeof ye.setStrictMode)try{ye.setStrictMode(ve,e)}catch(t){}}var be=Math.clz32?Math.clz32:function(e){return 0===(e>>>=0)?32:31-(we(e)/Se|0)|0},we=Math.log,Se=Math.LN2;var ke=128,Ce=4194304;function Ee(e){var t=42&e;if(0!==t)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194176&e;case 4194304:case 8388608:case 16777216:case 33554432:return 62914560&e;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function Te(e,t){var n=e.pendingLanes;if(0===n)return 0;var r=0,i=e.suspendedLanes,o=e.pingedLanes,s=e.warmLanes;e=0!==e.finishedLanes;var a=134217727&n;return 0!==a?0!==(n=a&~i)?r=Ee(n):0!==(o&=a)?r=Ee(o):e||0!==(s=a&~s)&&(r=Ee(s)):0!==(a=n&~i)?r=Ee(a):0!==o?r=Ee(o):e||0!==(s=n&~s)&&(r=Ee(s)),0===r?0:0!==t&&t!==r&&0===(t&i)&&((i=r&-r)>=(s=t&-t)||32===i&&0!==(4194176&s))?t:r}function Ie(e,t){return 0===(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)}function xe(e,t){switch(e){case 1:case 2:case 4:case 8:return t+250;case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function Pe(){var e=ke;return 0===(4194176&(ke<<=1))&&(ke=128),e}function Re(){var e=Ce;return 0===(62914560&(Ce<<=1))&&(Ce=4194304),e}function Ne(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Oe(e,t){e.pendingLanes|=t,268435456!==t&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function Ae(e,t,n){e.pendingLanes|=t,e.suspendedLanes&=~t;var r=31-be(t);e.entangledLanes|=t,e.entanglements[r]=1073741824|e.entanglements[r]|4194218&n}function De(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-be(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}function Le(e){return 2<(e&=-e)?8<e?0!==(134217727&e)?32:268435456:8:2}function Me(){var e=H.p;return 0!==e?e:void 0===(e=window.event)?32:Xd(e.type)}var Fe=Math.random().toString(36).slice(2),je="__reactFiber$"+Fe,Ue="__reactProps$"+Fe,ze="__reactContainer$"+Fe,qe="__reactEvents$"+Fe,He="__reactListeners$"+Fe,$e="__reactHandles$"+Fe,Ve="__reactResources$"+Fe,We="__reactMarker$"+Fe;function Be(e){delete e[je],delete e[Ue],delete e[qe],delete e[He],delete e[$e]}function Qe(e){var t=e[je];if(t)return t;for(var n=e.parentNode;n;){if(t=n[ze]||n[je]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=ud(e);null!==e;){if(n=e[je])return n;e=ud(e)}return t}n=(e=n).parentNode}return null}function Ke(e){if(e=e[je]||e[ze]){var t=e.tag;if(5===t||6===t||13===t||26===t||27===t||3===t)return e}return null}function Ye(e){var t=e.tag;if(5===t||26===t||27===t||6===t)return e.stateNode;throw Error(s(33))}function Ge(e){var t=e[Ve];return t||(t=e[Ve]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function Je(e){e[We]=!0}var Xe=new Set,Ze={};function et(e,t){tt(e,t),tt(e+"Capture",t)}function tt(e,t){for(Ze[e]=t,e=0;e<t.length;e++)Xe.add(t[e])}var nt=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),rt=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),it={},ot={};function st(e,t,n){if(i=t,re.call(ot,i)||!re.call(it,i)&&(rt.test(i)?ot[i]=!0:(it[i]=!0,0)))if(null===n)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":return void e.removeAttribute(t);case"boolean":var r=t.toLowerCase().slice(0,5);if("data-"!==r&&"aria-"!==r)return void e.removeAttribute(t)}e.setAttribute(t,""+n)}var i}function at(e,t,n){if(null===n)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":case"boolean":return void e.removeAttribute(t)}e.setAttribute(t,""+n)}}function lt(e,t,n,r){if(null===r)e.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":case"boolean":return void e.removeAttribute(n)}e.setAttributeNS(t,n,""+r)}}function ut(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function ct(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function dt(e){e._valueTracker||(e._valueTracker=function(e){var t=ct(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var i=n.get,o=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,o.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function ht(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=ct(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function ft(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}var pt=/[\n"\\]/g;function mt(e){return e.replace(pt,(function(e){return"\\"+e.charCodeAt(0).toString(16)+" "}))}function gt(e,t,n,r,i,o,s,a){e.name="",null!=s&&"function"!==typeof s&&"symbol"!==typeof s&&"boolean"!==typeof s?e.type=s:e.removeAttribute("type"),null!=t?"number"===s?(0===t&&""===e.value||e.value!=t)&&(e.value=""+ut(t)):e.value!==""+ut(t)&&(e.value=""+ut(t)):"submit"!==s&&"reset"!==s||e.removeAttribute("value"),null!=t?yt(e,s,ut(t)):null!=n?yt(e,s,ut(n)):null!=r&&e.removeAttribute("value"),null==i&&null!=o&&(e.defaultChecked=!!o),null!=i&&(e.checked=i&&"function"!==typeof i&&"symbol"!==typeof i),null!=a&&"function"!==typeof a&&"symbol"!==typeof a&&"boolean"!==typeof a?e.name=""+ut(a):e.removeAttribute("name")}function vt(e,t,n,r,i,o,s,a){if(null!=o&&"function"!==typeof o&&"symbol"!==typeof o&&"boolean"!==typeof o&&(e.type=o),null!=t||null!=n){if(!("submit"!==o&&"reset"!==o||void 0!==t&&null!==t))return;n=null!=n?""+ut(n):"",t=null!=t?""+ut(t):n,a||t===e.value||(e.value=t),e.defaultValue=t}r="function"!==typeof(r=null!=r?r:i)&&"symbol"!==typeof r&&!!r,e.checked=a?e.checked:!!r,e.defaultChecked=!!r,null!=s&&"function"!==typeof s&&"symbol"!==typeof s&&"boolean"!==typeof s&&(e.name=s)}function yt(e,t,n){"number"===t&&ft(e.ownerDocument)===e||e.defaultValue===""+n||(e.defaultValue=""+n)}function _t(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+ut(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function bt(e,t,n){null==t||((t=""+ut(t))!==e.value&&(e.value=t),null!=n)?e.defaultValue=null!=n?""+ut(n):"":e.defaultValue!==t&&(e.defaultValue=t)}function wt(e,t,n,r){if(null==t){if(null!=r){if(null!=n)throw Error(s(92));if(q(r)){if(1<r.length)throw Error(s(93));r=r[0]}n=r}null==n&&(n=""),t=n}n=ut(t),e.defaultValue=n,(r=e.textContent)===n&&""!==r&&null!==r&&(e.value=r)}function St(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var kt=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Ct(e,t,n){var r=0===t.indexOf("--");null==n||"boolean"===typeof n||""===n?r?e.setProperty(t,""):"float"===t?e.cssFloat="":e[t]="":r?e.setProperty(t,n):"number"!==typeof n||0===n||kt.has(t)?"float"===t?e.cssFloat=n:e[t]=(""+n).trim():e[t]=n+"px"}function Et(e,t,n){if(null!=t&&"object"!==typeof t)throw Error(s(62));if(e=e.style,null!=n){for(var r in n)!n.hasOwnProperty(r)||null!=t&&t.hasOwnProperty(r)||(0===r.indexOf("--")?e.setProperty(r,""):"float"===r?e.cssFloat="":e[r]="");for(var i in t)r=t[i],t.hasOwnProperty(i)&&n[i]!==r&&Ct(e,i,r)}else for(var o in t)t.hasOwnProperty(o)&&Ct(e,o,t[o])}function Tt(e){if(-1===e.indexOf("-"))return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var It=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),xt=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Pt(e){return xt.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}var Rt=null;function Nt(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var Ot=null,At=null;function Dt(e){var t=Ke(e);if(t&&(e=t.stateNode)){var n=e[Ue]||null;e:switch(e=t.stateNode,t.type){case"input":if(gt(e,n.value,n.defaultValue,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll('input[name="'+mt(""+t)+'"][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=r[Ue]||null;if(!i)throw Error(s(90));gt(r,i.value,i.defaultValue,i.defaultValue,i.checked,i.defaultChecked,i.type,i.name)}}for(t=0;t<n.length;t++)(r=n[t]).form===e.form&&ht(r)}break e;case"textarea":bt(e,n.value,n.defaultValue);break e;case"select":null!=(t=n.value)&&_t(e,!!n.multiple,t,!1)}}}var Lt=!1;function Mt(e,t,n){if(Lt)return e(t,n);Lt=!0;try{return e(t)}finally{if(Lt=!1,(null!==Ot||null!==At)&&(Uu(),Ot&&(t=Ot,e=At,At=Ot=null,Dt(t),e)))for(t=0;t<e.length;t++)Dt(e[t])}}function Ft(e,t){var n=e.stateNode;if(null===n)return null;var r=n[Ue]||null;if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(s(231,t,typeof n));return n}var jt=!1;if(nt)try{var Ut={};Object.defineProperty(Ut,"passive",{get:function(){jt=!0}}),window.addEventListener("test",Ut,Ut),window.removeEventListener("test",Ut,Ut)}catch(Sh){jt=!1}var zt=null,qt=null,Ht=null;function $t(){if(Ht)return Ht;var e,t,n=qt,r=n.length,i="value"in zt?zt.value:zt.textContent,o=i.length;for(e=0;e<r&&n[e]===i[e];e++);var s=r-e;for(t=1;t<=s&&n[r-t]===i[o-t];t++);return Ht=i.slice(e,1<t?1-t:void 0)}function Vt(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function Wt(){return!0}function Bt(){return!1}function Qt(e){function t(t,n,r,i,o){for(var s in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=o,this.currentTarget=null,e)e.hasOwnProperty(s)&&(t=e[s],this[s]=t?t(i):i[s]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?Wt:Bt,this.isPropagationStopped=Bt,this}return N(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=Wt)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=Wt)},persist:function(){},isPersistent:Wt}),t}var Kt,Yt,Gt,Jt={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Xt=Qt(Jt),Zt=N({},Jt,{view:0,detail:0}),en=Qt(Zt),tn=N({},Zt,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:fn,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Gt&&(Gt&&"mousemove"===e.type?(Kt=e.screenX-Gt.screenX,Yt=e.screenY-Gt.screenY):Yt=Kt=0,Gt=e),Kt)},movementY:function(e){return"movementY"in e?e.movementY:Yt}}),nn=Qt(tn),rn=Qt(N({},tn,{dataTransfer:0})),on=Qt(N({},Zt,{relatedTarget:0})),sn=Qt(N({},Jt,{animationName:0,elapsedTime:0,pseudoElement:0})),an=Qt(N({},Jt,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}})),ln=Qt(N({},Jt,{data:0})),un={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},cn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},dn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function hn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=dn[e])&&!!t[e]}function fn(){return hn}var pn=Qt(N({},Zt,{key:function(e){if(e.key){var t=un[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=Vt(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?cn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:fn,charCode:function(e){return"keypress"===e.type?Vt(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?Vt(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}})),mn=Qt(N({},tn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),gn=Qt(N({},Zt,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:fn})),vn=Qt(N({},Jt,{propertyName:0,elapsedTime:0,pseudoElement:0})),yn=Qt(N({},tn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0})),_n=Qt(N({},Jt,{newState:0,oldState:0})),bn=[9,13,27,32],wn=nt&&"CompositionEvent"in window,Sn=null;nt&&"documentMode"in document&&(Sn=document.documentMode);var kn=nt&&"TextEvent"in window&&!Sn,Cn=nt&&(!wn||Sn&&8<Sn&&11>=Sn),En=String.fromCharCode(32),Tn=!1;function In(e,t){switch(e){case"keyup":return-1!==bn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function xn(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var Pn=!1;var Rn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Nn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Rn[e.type]:"textarea"===t}function On(e,t,n,r){Ot?At?At.push(r):At=[r]:Ot=r,0<(t=Fc(t,"onChange")).length&&(n=new Xt("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var An=null,Dn=null;function Ln(e){Pc(e,0)}function Mn(e){if(ht(Ye(e)))return e}function Fn(e,t){if("change"===e)return t}var jn=!1;if(nt){var Un;if(nt){var zn="oninput"in document;if(!zn){var qn=document.createElement("div");qn.setAttribute("oninput","return;"),zn="function"===typeof qn.oninput}Un=zn}else Un=!1;jn=Un&&(!document.documentMode||9<document.documentMode)}function Hn(){An&&(An.detachEvent("onpropertychange",$n),Dn=An=null)}function $n(e){if("value"===e.propertyName&&Mn(Dn)){var t=[];On(t,Dn,e,Nt(e)),Mt(Ln,t)}}function Vn(e,t,n){"focusin"===e?(Hn(),Dn=n,(An=t).attachEvent("onpropertychange",$n)):"focusout"===e&&Hn()}function Wn(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Mn(Dn)}function Bn(e,t){if("click"===e)return Mn(t)}function Qn(e,t){if("input"===e||"change"===e)return Mn(t)}var Kn="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function Yn(e,t){if(Kn(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!re.call(t,i)||!Kn(e[i],t[i]))return!1}return!0}function Gn(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Jn(e,t){var n,r=Gn(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=Gn(r)}}function Xn(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?Xn(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function Zn(e){for(var t=ft((e=null!=e&&null!=e.ownerDocument&&null!=e.ownerDocument.defaultView?e.ownerDocument.defaultView:window).document);t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=ft((e=t.contentWindow).document)}return t}function er(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function tr(e,t){var n=Zn(t);t=e.focusedElem;var r=e.selectionRange;if(n!==t&&t&&t.ownerDocument&&Xn(t.ownerDocument.documentElement,t)){if(null!==r&&er(t))if(e=r.start,void 0===(n=r.end)&&(n=e),"selectionStart"in t)t.selectionStart=e,t.selectionEnd=Math.min(n,t.value.length);else if((n=(e=t.ownerDocument||document)&&e.defaultView||window).getSelection){n=n.getSelection();var i=t.textContent.length,o=Math.min(r.start,i);r=void 0===r.end?o:Math.min(r.end,i),!n.extend&&o>r&&(i=r,r=o,o=i),i=Jn(t,o);var s=Jn(t,r);i&&s&&(1!==n.rangeCount||n.anchorNode!==i.node||n.anchorOffset!==i.offset||n.focusNode!==s.node||n.focusOffset!==s.offset)&&((e=e.createRange()).setStart(i.node,i.offset),n.removeAllRanges(),o>r?(n.addRange(e),n.extend(s.node,s.offset)):(e.setEnd(s.node,s.offset),n.addRange(e)))}for(e=[],n=t;n=n.parentNode;)1===n.nodeType&&e.push({element:n,left:n.scrollLeft,top:n.scrollTop});for("function"===typeof t.focus&&t.focus(),t=0;t<e.length;t++)(n=e[t]).element.scrollLeft=n.left,n.element.scrollTop=n.top}}var nr=nt&&"documentMode"in document&&11>=document.documentMode,rr=null,ir=null,or=null,sr=!1;function ar(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;sr||null==rr||rr!==ft(r)||("selectionStart"in(r=rr)&&er(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},or&&Yn(or,r)||(or=r,0<(r=Fc(ir,"onSelect")).length&&(t=new Xt("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=rr)))}function lr(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var ur={animationend:lr("Animation","AnimationEnd"),animationiteration:lr("Animation","AnimationIteration"),animationstart:lr("Animation","AnimationStart"),transitionrun:lr("Transition","TransitionRun"),transitionstart:lr("Transition","TransitionStart"),transitioncancel:lr("Transition","TransitionCancel"),transitionend:lr("Transition","TransitionEnd")},cr={},dr={};function hr(e){if(cr[e])return cr[e];if(!ur[e])return e;var t,n=ur[e];for(t in n)if(n.hasOwnProperty(t)&&t in dr)return cr[e]=n[t];return e}nt&&(dr=document.createElement("div").style,"AnimationEvent"in window||(delete ur.animationend.animation,delete ur.animationiteration.animation,delete ur.animationstart.animation),"TransitionEvent"in window||delete ur.transitionend.transition);var fr=hr("animationend"),pr=hr("animationiteration"),mr=hr("animationstart"),gr=hr("transitionrun"),vr=hr("transitionstart"),yr=hr("transitioncancel"),_r=hr("transitionend"),br=new Map,wr="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll scrollEnd toggle touchMove waiting wheel".split(" ");function Sr(e,t){br.set(e,t),et(t,[e])}var kr=[],Cr=0,Er=0;function Tr(){for(var e=Cr,t=Er=Cr=0;t<e;){var n=kr[t];kr[t++]=null;var r=kr[t];kr[t++]=null;var i=kr[t];kr[t++]=null;var o=kr[t];if(kr[t++]=null,null!==r&&null!==i){var s=r.pending;null===s?i.next=i:(i.next=s.next,s.next=i),r.pending=i}0!==o&&Rr(n,i,o)}}function Ir(e,t,n,r){kr[Cr++]=e,kr[Cr++]=t,kr[Cr++]=n,kr[Cr++]=r,Er|=r,e.lanes|=r,null!==(e=e.alternate)&&(e.lanes|=r)}function xr(e,t,n,r){return Ir(e,t,n,r),Nr(e)}function Pr(e,t){return Ir(e,null,null,t),Nr(e)}function Rr(e,t,n){e.lanes|=n;var r=e.alternate;null!==r&&(r.lanes|=n);for(var i=!1,o=e.return;null!==o;)o.childLanes|=n,null!==(r=o.alternate)&&(r.childLanes|=n),22===o.tag&&(null===(e=o.stateNode)||1&e._visibility||(i=!0)),e=o,o=o.return;i&&null!==t&&3===e.tag&&(o=e.stateNode,i=31-be(n),null===(e=(o=o.hiddenUpdates)[i])?o[i]=[t]:e.push(t),t.lane=536870912|n)}function Nr(e){if(50<Pu)throw Pu=0,Ru=null,Error(s(185));for(var t=e.return;null!==t;)t=(e=t).return;return 3===e.tag?e.stateNode:null}var Or={},Ar=new WeakMap;function Dr(e,t){if("object"===typeof e&&null!==e){var n=Ar.get(e);return void 0!==n?n:(t={value:e,source:t,stack:M(t)},Ar.set(e,t),t)}return{value:e,source:t,stack:M(t)}}var Lr=[],Mr=0,Fr=null,jr=0,Ur=[],zr=0,qr=null,Hr=1,$r="";function Vr(e,t){Lr[Mr++]=jr,Lr[Mr++]=Fr,Fr=e,jr=t}function Wr(e,t,n){Ur[zr++]=Hr,Ur[zr++]=$r,Ur[zr++]=qr,qr=e;var r=Hr;e=$r;var i=32-be(r)-1;r&=~(1<<i),n+=1;var o=32-be(t)+i;if(30<o){var s=i-i%5;o=(r&(1<<s)-1).toString(32),r>>=s,i-=s,Hr=1<<32-be(t)+i|n<<i|r,$r=o+e}else Hr=1<<o|n<<i|r,$r=e}function Br(e){null!==e.return&&(Vr(e,1),Wr(e,1,0))}function Qr(e){for(;e===Fr;)Fr=Lr[--Mr],Lr[Mr]=null,jr=Lr[--Mr],Lr[Mr]=null;for(;e===qr;)qr=Ur[--zr],Ur[zr]=null,$r=Ur[--zr],Ur[zr]=null,Hr=Ur[--zr],Ur[zr]=null}var Kr=null,Yr=null,Gr=!1,Jr=null,Xr=!1,Zr=Error(s(519));function ei(e){throw oi(Dr(Error(s(418,"")),e)),Zr}function ti(e){var t=e.stateNode,n=e.type,r=e.memoizedProps;switch(t[je]=e,t[Ue]=r,n){case"dialog":Rc("cancel",t),Rc("close",t);break;case"iframe":case"object":case"embed":Rc("load",t);break;case"video":case"audio":for(n=0;n<Ic.length;n++)Rc(Ic[n],t);break;case"source":Rc("error",t);break;case"img":case"image":case"link":Rc("error",t),Rc("load",t);break;case"details":Rc("toggle",t);break;case"input":Rc("invalid",t),vt(t,r.value,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name,!0),dt(t);break;case"select":Rc("invalid",t);break;case"textarea":Rc("invalid",t),wt(t,r.value,r.defaultValue,r.children),dt(t)}"string"!==typeof(n=r.children)&&"number"!==typeof n&&"bigint"!==typeof n||t.textContent===""+n||!0===r.suppressHydrationWarning||$c(t.textContent,n)?(null!=r.popover&&(Rc("beforetoggle",t),Rc("toggle",t)),null!=r.onScroll&&Rc("scroll",t),null!=r.onScrollEnd&&Rc("scrollend",t),null!=r.onClick&&(t.onclick=Vc),t=!0):t=!1,t||ei(e)}function ni(e){for(Kr=e.return;Kr;)switch(Kr.tag){case 3:case 27:return void(Xr=!0);case 5:case 13:return void(Xr=!1);default:Kr=Kr.return}}function ri(e){if(e!==Kr)return!1;if(!Gr)return ni(e),Gr=!0,!1;var t,n=!1;if((t=3!==e.tag&&27!==e.tag)&&((t=5===e.tag)&&(t=!("form"!==(t=e.type)&&"button"!==t)||Zc(e.type,e.memoizedProps)),t=!t),t&&(n=!0),n&&Yr&&ei(e),ni(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(s(317));e:{for(e=e.nextSibling,n=0;e;){if(8===e.nodeType)if("/$"===(t=e.data)){if(0===n){Yr=ld(e.nextSibling);break e}n--}else"$"!==t&&"$!"!==t&&"$?"!==t||n++;e=e.nextSibling}Yr=null}}else Yr=Kr?ld(e.stateNode.nextSibling):null;return!0}function ii(){Yr=Kr=null,Gr=!1}function oi(e){null===Jr?Jr=[e]:Jr.push(e)}var si=Error(s(460)),ai=Error(s(474)),li={then:function(){}};function ui(e){return"fulfilled"===(e=e.status)||"rejected"===e}function ci(){}function di(e,t,n){switch(void 0===(n=e[n])?e.push(t):n!==t&&(t.then(ci,ci),t=n),t.status){case"fulfilled":return t.value;case"rejected":if((e=t.reason)===si)throw Error(s(483));throw e;default:if("string"===typeof t.status)t.then(ci,ci);else{if(null!==(e=nu)&&100<e.shellSuspendCounter)throw Error(s(482));(e=t).status="pending",e.then((function(e){if("pending"===t.status){var n=t;n.status="fulfilled",n.value=e}}),(function(e){if("pending"===t.status){var n=t;n.status="rejected",n.reason=e}}))}switch(t.status){case"fulfilled":return t.value;case"rejected":if((e=t.reason)===si)throw Error(s(483));throw e}throw hi=t,si}}var hi=null;function fi(){if(null===hi)throw Error(s(459));var e=hi;return hi=null,e}var pi=null,mi=0;function gi(e){var t=mi;return mi+=1,null===pi&&(pi=[]),di(pi,e,t)}function vi(e,t){t=t.props.ref,e.ref=void 0!==t?t:null}function yi(e,t){if(t.$$typeof===l)throw Error(s(525));throw e=Object.prototype.toString.call(t),Error(s(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function _i(e){return(0,e._init)(e._payload)}function bi(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e){for(var t=new Map;null!==e;)null!==e.key?t.set(e.key,e):t.set(e.index,e),e=e.sibling;return t}function i(e,t){return(e=Fl(e,t)).index=0,e.sibling=null,e}function o(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=33554434,n):r:(t.flags|=33554434,n):(t.flags|=1048576,n)}function a(t){return e&&null===t.alternate&&(t.flags|=33554434),t}function l(e,t,n,r){return null===t||6!==t.tag?((t=Hl(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function h(e,t,n,r){var o=n.type;return o===d?p(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===o||"object"===typeof o&&null!==o&&o.$$typeof===w&&_i(o)===t.type)?(vi(t=i(t,n.props),n),t.return=e,t):(vi(t=Ul(n.type,n.key,n.props,null,e.mode,r),n),t.return=e,t)}function f(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=$l(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function p(e,t,n,r,o){return null===t||7!==t.tag?((t=zl(n,e.mode,r,o)).return=e,t):((t=i(t,n)).return=e,t)}function m(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t||"bigint"===typeof t)return(t=Hl(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case u:return vi(n=Ul(t.type,t.key,t.props,null,e.mode,n),t),n.return=e,n;case c:return(t=$l(t,e.mode,n)).return=e,t;case w:return m(e,t=(0,t._init)(t._payload),n)}if(q(t)||E(t))return(t=zl(t,e.mode,n,null)).return=e,t;if("function"===typeof t.then)return m(e,gi(t),n);if(t.$$typeof===g)return m(e,Ta(e,t),n);yi(e,t)}return null}function v(e,t,n,r){var i=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n||"bigint"===typeof n)return null!==i?null:l(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case u:return n.key===i?h(e,t,n,r):null;case c:return n.key===i?f(e,t,n,r):null;case w:return v(e,t,n=(i=n._init)(n._payload),r)}if(q(n)||E(n))return null!==i?null:p(e,t,n,r,null);if("function"===typeof n.then)return v(e,t,gi(n),r);if(n.$$typeof===g)return v(e,t,Ta(e,n),r);yi(e,n)}return null}function y(e,t,n,r,i){if("string"===typeof r&&""!==r||"number"===typeof r||"bigint"===typeof r)return l(t,e=e.get(n)||null,""+r,i);if("object"===typeof r&&null!==r){switch(r.$$typeof){case u:return h(t,e=e.get(null===r.key?n:r.key)||null,r,i);case c:return f(t,e=e.get(null===r.key?n:r.key)||null,r,i);case w:return y(e,t,n,r=(0,r._init)(r._payload),i)}if(q(r)||E(r))return p(t,e=e.get(n)||null,r,i,null);if("function"===typeof r.then)return y(e,t,n,gi(r),i);if(r.$$typeof===g)return y(e,t,n,Ta(t,r),i);yi(t,r)}return null}function _(l,h,f,p){if("object"===typeof f&&null!==f&&f.type===d&&null===f.key&&(f=f.props.children),"object"===typeof f&&null!==f){switch(f.$$typeof){case u:e:{for(var b=f.key;null!==h;){if(h.key===b){if((b=f.type)===d){if(7===h.tag){n(l,h.sibling),(p=i(h,f.props.children)).return=l,l=p;break e}}else if(h.elementType===b||"object"===typeof b&&null!==b&&b.$$typeof===w&&_i(b)===h.type){n(l,h.sibling),vi(p=i(h,f.props),f),p.return=l,l=p;break e}n(l,h);break}t(l,h),h=h.sibling}f.type===d?((p=zl(f.props.children,l.mode,p,f.key)).return=l,l=p):(vi(p=Ul(f.type,f.key,f.props,null,l.mode,p),f),p.return=l,l=p)}return a(l);case c:e:{for(b=f.key;null!==h;){if(h.key===b){if(4===h.tag&&h.stateNode.containerInfo===f.containerInfo&&h.stateNode.implementation===f.implementation){n(l,h.sibling),(p=i(h,f.children||[])).return=l,l=p;break e}n(l,h);break}t(l,h),h=h.sibling}(p=$l(f,l.mode,p)).return=l,l=p}return a(l);case w:return _(l,h,f=(b=f._init)(f._payload),p)}if(q(f))return function(i,s,a,l){for(var u=null,c=null,d=s,h=s=0,f=null;null!==d&&h<a.length;h++){d.index>h?(f=d,d=null):f=d.sibling;var p=v(i,d,a[h],l);if(null===p){null===d&&(d=f);break}e&&d&&null===p.alternate&&t(i,d),s=o(p,s,h),null===c?u=p:c.sibling=p,c=p,d=f}if(h===a.length)return n(i,d),Gr&&Vr(i,h),u;if(null===d){for(;h<a.length;h++)null!==(d=m(i,a[h],l))&&(s=o(d,s,h),null===c?u=d:c.sibling=d,c=d);return Gr&&Vr(i,h),u}for(d=r(d);h<a.length;h++)null!==(f=y(d,i,h,a[h],l))&&(e&&null!==f.alternate&&d.delete(null===f.key?h:f.key),s=o(f,s,h),null===c?u=f:c.sibling=f,c=f);return e&&d.forEach((function(e){return t(i,e)})),Gr&&Vr(i,h),u}(l,h,f,p);if(E(f)){if("function"!==typeof(b=E(f)))throw Error(s(150));return function(i,a,l,u){if(null==l)throw Error(s(151));for(var c=null,d=null,h=a,f=a=0,p=null,g=l.next();null!==h&&!g.done;f++,g=l.next()){h.index>f?(p=h,h=null):p=h.sibling;var _=v(i,h,g.value,u);if(null===_){null===h&&(h=p);break}e&&h&&null===_.alternate&&t(i,h),a=o(_,a,f),null===d?c=_:d.sibling=_,d=_,h=p}if(g.done)return n(i,h),Gr&&Vr(i,f),c;if(null===h){for(;!g.done;f++,g=l.next())null!==(g=m(i,g.value,u))&&(a=o(g,a,f),null===d?c=g:d.sibling=g,d=g);return Gr&&Vr(i,f),c}for(h=r(h);!g.done;f++,g=l.next())null!==(g=y(h,i,f,g.value,u))&&(e&&null!==g.alternate&&h.delete(null===g.key?f:g.key),a=o(g,a,f),null===d?c=g:d.sibling=g,d=g);return e&&h.forEach((function(e){return t(i,e)})),Gr&&Vr(i,f),c}(l,h,f=b.call(f),p)}if("function"===typeof f.then)return _(l,h,gi(f),p);if(f.$$typeof===g)return _(l,h,Ta(l,f),p);yi(l,f)}return"string"===typeof f&&""!==f||"number"===typeof f||"bigint"===typeof f?(f=""+f,null!==h&&6===h.tag?(n(l,h.sibling),(p=i(h,f)).return=l,l=p):(n(l,h),(p=Hl(f,l.mode,p)).return=l,l=p),a(l)):n(l,h)}return function(e,t,n,r){try{mi=0;var i=_(e,t,n,r);return pi=null,i}catch(s){if(s===si)throw s;var o=Ll(29,s,null,e.mode);return o.lanes=r,o.return=e,o}}}var wi=bi(!0),Si=bi(!1),ki=B(null),Ci=B(0);function Ei(e,t){K(Ci,e=cu),K(ki,t),cu=e|t.baseLanes}function Ti(){K(Ci,cu),K(ki,ki.current)}function Ii(){cu=Ci.current,Q(ki),Q(Ci)}var xi=B(null),Pi=null;function Ri(e){var t=e.alternate;K(Di,1&Di.current),K(xi,e),null===Pi&&(null===t||null!==ki.current||null!==t.memoizedState)&&(Pi=e)}function Ni(e){if(22===e.tag){if(K(Di,Di.current),K(xi,e),null===Pi){var t=e.alternate;null!==t&&null!==t.memoizedState&&(Pi=e)}}else Oi()}function Oi(){K(Di,Di.current),K(xi,xi.current)}function Ai(e){Q(xi),Pi===e&&(Pi=null),Q(Di)}var Di=B(0);function Li(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Mi="undefined"!==typeof AbortController?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(t,n){e.push(n)}};this.abort=function(){t.aborted=!0,e.forEach((function(e){return e()}))}},Fi=r.unstable_scheduleCallback,ji=r.unstable_NormalPriority,Ui={$$typeof:g,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function zi(){return{controller:new Mi,data:new Map,refCount:0}}function qi(e){e.refCount--,0===e.refCount&&Fi(ji,(function(){e.controller.abort()}))}var Hi=null,$i=0,Vi=0,Wi=null;function Bi(){if(0===--$i&&null!==Hi){null!==Wi&&(Wi.status="fulfilled");var e=Hi;Hi=null,Vi=0,Wi=null;for(var t=0;t<e.length;t++)(0,e[t])()}}var Qi=R.S;R.S=function(e,t){"object"===typeof t&&null!==t&&"function"===typeof t.then&&function(e,t){if(null===Hi){var n=Hi=[];$i=0,Vi=Sc(),Wi={status:"pending",value:void 0,then:function(e){n.push(e)}}}$i++,t.then(Bi,Bi)}(0,t),null!==Qi&&Qi(e,t)};var Ki=B(null);function Yi(){var e=Ki.current;return null!==e?e:nu.pooledCache}function Gi(e,t){K(Ki,null===t?Ki.current:t.pool)}function Ji(){var e=Yi();return null===e?null:{parent:Ui._currentValue,pool:e}}var Xi=0,Zi=null,eo=null,to=null,no=!1,ro=!1,io=!1,oo=0,so=0,ao=null,lo=0;function uo(){throw Error(s(321))}function co(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Kn(e[n],t[n]))return!1;return!0}function ho(e,t,n,r,i,o){return Xi=o,Zi=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,R.H=null===e||null===e.memoizedState?Ts:Is,io=!1,o=n(r,i),io=!1,ro&&(o=po(t,n,r,i)),fo(e),o}function fo(e){R.H=Es;var t=null!==eo&&null!==eo.next;if(Xi=0,to=eo=Zi=null,no=!1,so=0,ao=null,t)throw Error(s(300));null===e||Vs||null!==(e=e.dependencies)&&ka(e)&&(Vs=!0)}function po(e,t,n,r){Zi=e;var i=0;do{if(ro&&(ao=null),so=0,ro=!1,25<=i)throw Error(s(301));if(i+=1,to=eo=null,null!=e.updateQueue){var o=e.updateQueue;o.lastEffect=null,o.events=null,o.stores=null,null!=o.memoCache&&(o.memoCache.index=0)}R.H=xs,o=t(n,r)}while(ro);return o}function mo(){var e=R.H,t=e.useState()[0];return t="function"===typeof t.then?wo(t):t,e=e.useState()[0],(null!==eo?eo.memoizedState:null)!==e&&(Zi.flags|=1024),t}function go(){var e=0!==oo;return oo=0,e}function vo(e,t,n){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~n}function yo(e){if(no){for(e=e.memoizedState;null!==e;){var t=e.queue;null!==t&&(t.pending=null),e=e.next}no=!1}Xi=0,to=eo=Zi=null,ro=!1,so=oo=0,ao=null}function _o(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===to?Zi.memoizedState=to=e:to=to.next=e,to}function bo(){if(null===eo){var e=Zi.alternate;e=null!==e?e.memoizedState:null}else e=eo.next;var t=null===to?Zi.memoizedState:to.next;if(null!==t)to=t,eo=e;else{if(null===e){if(null===Zi.alternate)throw Error(s(467));throw Error(s(310))}e={memoizedState:(eo=e).memoizedState,baseState:eo.baseState,baseQueue:eo.baseQueue,queue:eo.queue,next:null},null===to?Zi.memoizedState=to=e:to=to.next=e}return to}function wo(e){var t=so;return so+=1,null===ao&&(ao=[]),e=di(ao,e,t),t=Zi,null===(null===to?t.memoizedState:to.next)&&(t=t.alternate,R.H=null===t||null===t.memoizedState?Ts:Is),e}function So(e){if(null!==e&&"object"===typeof e){if("function"===typeof e.then)return wo(e);if(e.$$typeof===g)return Ea(e)}throw Error(s(438,String(e)))}function ko(e){var t=null,n=Zi.updateQueue;if(null!==n&&(t=n.memoCache),null==t){var r=Zi.alternate;null!==r&&(null!==(r=r.updateQueue)&&(null!=(r=r.memoCache)&&(t={data:r.data.map((function(e){return e.slice()})),index:0})))}if(null==t&&(t={data:[],index:0}),null===n&&(n={lastEffect:null,events:null,stores:null,memoCache:null},Zi.updateQueue=n),n.memoCache=t,void 0===(n=t.data[t.index]))for(n=t.data[t.index]=Array(e),r=0;r<e;r++)n[r]=k;return t.index++,n}function Co(e,t){return"function"===typeof t?t(e):t}function Eo(e){return To(bo(),eo,e)}function To(e,t,n){var r=e.queue;if(null===r)throw Error(s(311));r.lastRenderedReducer=n;var i=e.baseQueue,o=r.pending;if(null!==o){if(null!==i){var a=i.next;i.next=o.next,o.next=a}t.baseQueue=i=o,r.pending=null}if(o=e.baseState,null===i)e.memoizedState=o;else{var l=a=null,u=null,c=t=i.next,d=!1;do{var h=-536870913&c.lane;if(h!==c.lane?(iu&h)===h:(Xi&h)===h){var f=c.revertLane;if(0===f)null!==u&&(u=u.next={lane:0,revertLane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),h===Vi&&(d=!0);else{if((Xi&f)===f){c=c.next,f===Vi&&(d=!0);continue}h={lane:0,revertLane:c.revertLane,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null},null===u?(l=u=h,a=o):u=u.next=h,Zi.lanes|=f,hu|=f}h=c.action,io&&n(o,h),o=c.hasEagerState?c.eagerState:n(o,h)}else f={lane:h,revertLane:c.revertLane,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null},null===u?(l=u=f,a=o):u=u.next=f,Zi.lanes|=h,hu|=h;c=c.next}while(null!==c&&c!==t);if(null===u?a=o:u.next=l,!Kn(o,e.memoizedState)&&(Vs=!0,d&&null!==(n=Wi)))throw n;e.memoizedState=o,e.baseState=a,e.baseQueue=u,r.lastRenderedState=o}return null===i&&(r.lanes=0),[e.memoizedState,r.dispatch]}function Io(e){var t=bo(),n=t.queue;if(null===n)throw Error(s(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,o=t.memoizedState;if(null!==i){n.pending=null;var a=i=i.next;do{o=e(o,a.action),a=a.next}while(a!==i);Kn(o,t.memoizedState)||(Vs=!0),t.memoizedState=o,null===t.baseQueue&&(t.baseState=o),n.lastRenderedState=o}return[o,r]}function xo(e,t,n){var r=Zi,i=bo(),o=Gr;if(o){if(void 0===n)throw Error(s(407));n=n()}else n=t();var a=!Kn((eo||i).memoizedState,n);if(a&&(i.memoizedState=n,Vs=!0),i=i.queue,Zo(No.bind(null,r,i,e),[e]),i.getSnapshot!==t||a||null!==to&&1&to.memoizedState.tag){if(r.flags|=2048,Ko(9,Ro.bind(null,r,i,n,t),{destroy:void 0},null),null===nu)throw Error(s(349));o||0!==(60&Xi)||Po(r,t,n)}return n}function Po(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=Zi.updateQueue)?(t={lastEffect:null,events:null,stores:null,memoCache:null},Zi.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function Ro(e,t,n,r){t.value=n,t.getSnapshot=r,Oo(t)&&Ao(e)}function No(e,t,n){return n((function(){Oo(t)&&Ao(e)}))}function Oo(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Kn(e,n)}catch(Wl){return!0}}function Ao(e){var t=Pr(e,2);null!==t&&Au(t,e,2)}function Do(e){var t=_o();if("function"===typeof e){var n=e;if(e=n(),io){_e(!0);try{n()}finally{_e(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Co,lastRenderedState:e},t}function Lo(e,t,n,r){return e.baseState=n,To(e,eo,"function"===typeof r?r:Co)}function Mo(e,t,n,r,i){if(Ss(e))throw Error(s(485));if(null!==(e=t.action)){var o={payload:i,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(e){o.listeners.push(e)}};null!==R.T?n(!0):o.isTransition=!1,r(o),null===(n=t.pending)?(o.next=t.pending=o,Fo(t,o)):(o.next=n.next,t.pending=n.next=o)}}function Fo(e,t){var n=t.action,r=t.payload,i=e.state;if(t.isTransition){var o=R.T,s={};R.T=s;try{var a=n(i,r),l=R.S;null!==l&&l(s,a),jo(e,t,a)}catch(Wl){zo(e,t,Wl)}finally{R.T=o}}else try{jo(e,t,o=n(i,r))}catch(u){zo(e,t,u)}}function jo(e,t,n){null!==n&&"object"===typeof n&&"function"===typeof n.then?n.then((function(n){Uo(e,t,n)}),(function(n){return zo(e,t,n)})):Uo(e,t,n)}function Uo(e,t,n){t.status="fulfilled",t.value=n,qo(t),e.state=n,null!==(t=e.pending)&&((n=t.next)===t?e.pending=null:(n=n.next,t.next=n,Fo(e,n)))}function zo(e,t,n){var r=e.pending;if(e.pending=null,null!==r){r=r.next;do{t.status="rejected",t.reason=n,qo(t),t=t.next}while(t!==r)}e.action=null}function qo(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function Ho(e,t){return t}function $o(e,t){if(Gr){var n=nu.formState;if(null!==n){e:{var r=Zi;if(Gr){if(Yr){t:{for(var i=Yr,o=Xr;8!==i.nodeType;){if(!o){i=null;break t}if(null===(i=ld(i.nextSibling))){i=null;break t}}i="F!"===(o=i.data)||"F"===o?i:null}if(i){Yr=ld(i.nextSibling),r="F!"===i.data;break e}}ei(r)}r=!1}r&&(t=n[0])}}return(n=_o()).memoizedState=n.baseState=t,r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ho,lastRenderedState:t},n.queue=r,n=_s.bind(null,Zi,r),r.dispatch=n,r=Do(!1),o=ws.bind(null,Zi,!1,r.queue),i={state:t,dispatch:null,action:e,pending:null},(r=_o()).queue=i,n=Mo.bind(null,Zi,i,o,n),i.dispatch=n,r.memoizedState=e,[t,n,!1]}function Vo(e){return Wo(bo(),eo,e)}function Wo(e,t,n){t=To(e,t,Ho)[0],e=Eo(Co)[0],t="object"===typeof t&&null!==t&&"function"===typeof t.then?wo(t):t;var r=bo(),i=r.queue,o=i.dispatch;return n!==r.memoizedState&&(Zi.flags|=2048,Ko(9,Bo.bind(null,i,n),{destroy:void 0},null)),[t,o,e]}function Bo(e,t){e.action=t}function Qo(e){var t=bo(),n=eo;if(null!==n)return Wo(t,n,e);bo(),t=t.memoizedState;var r=(n=bo()).queue.dispatch;return n.memoizedState=e,[t,r,!1]}function Ko(e,t,n,r){return e={tag:e,create:t,inst:n,deps:r,next:null},null===(t=Zi.updateQueue)&&(t={lastEffect:null,events:null,stores:null,memoCache:null},Zi.updateQueue=t),null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function Yo(){return bo().memoizedState}function Go(e,t,n,r){var i=_o();Zi.flags|=e,i.memoizedState=Ko(1|t,n,{destroy:void 0},void 0===r?null:r)}function Jo(e,t,n,r){var i=bo();r=void 0===r?null:r;var o=i.memoizedState.inst;null!==eo&&null!==r&&co(r,eo.memoizedState.deps)?i.memoizedState=Ko(t,n,o,r):(Zi.flags|=e,i.memoizedState=Ko(1|t,n,o,r))}function Xo(e,t){Go(8390656,8,e,t)}function Zo(e,t){Jo(2048,8,e,t)}function es(e,t){return Jo(4,2,e,t)}function ts(e,t){return Jo(4,4,e,t)}function ns(e,t){if("function"===typeof t){e=e();var n=t(e);return function(){"function"===typeof n?n():t(null)}}if(null!==t&&void 0!==t)return e=e(),t.current=e,function(){t.current=null}}function rs(e,t,n){n=null!==n&&void 0!==n?n.concat([e]):null,Jo(4,4,ns.bind(null,t,e),n)}function is(){}function os(e,t){var n=bo();t=void 0===t?null:t;var r=n.memoizedState;return null!==t&&co(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function ss(e,t){var n=bo();t=void 0===t?null:t;var r=n.memoizedState;if(null!==t&&co(t,r[1]))return r[0];if(r=e(),io){_e(!0);try{e()}finally{_e(!1)}}return n.memoizedState=[r,t],r}function as(e,t,n){return void 0===n||0!==(1073741824&Xi)?e.memoizedState=t:(e.memoizedState=n,e=Ou(),Zi.lanes|=e,hu|=e,n)}function ls(e,t,n,r){return Kn(n,t)?n:null!==ki.current?(e=as(e,n,r),Kn(e,t)||(Vs=!0),e):0===(42&Xi)?(Vs=!0,e.memoizedState=n):(e=Ou(),Zi.lanes|=e,hu|=e,t)}function us(e,t,n,r,i){var o=H.p;H.p=0!==o&&8>o?o:8;var s=R.T,a={};R.T=a,ws(e,!1,t,n);try{var l=i(),u=R.S;if(null!==u&&u(a,l),null!==l&&"object"===typeof l&&"function"===typeof l.then){var c=function(e,t){var n=[],r={status:"pending",value:null,reason:null,then:function(e){n.push(e)}};return e.then((function(){r.status="fulfilled",r.value=t;for(var e=0;e<n.length;e++)(0,n[e])(t)}),(function(e){for(r.status="rejected",r.reason=e,e=0;e<n.length;e++)(0,n[e])(void 0)})),r}(l,r);bs(e,t,c,Nu())}else bs(e,t,r,Nu())}catch(Wl){bs(e,t,{then:function(){},status:"rejected",reason:Wl},Nu())}finally{H.p=o,R.T=s}}function cs(){}function ds(e,t,n,r){if(5!==e.tag)throw Error(s(476));var i=hs(e).queue;us(e,i,t,$,null===n?cs:function(){return fs(e),n(r)})}function hs(e){var t=e.memoizedState;if(null!==t)return t;var n={};return(t={memoizedState:$,baseState:$,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Co,lastRenderedState:$},next:null}).next={memoizedState:n,baseState:n,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Co,lastRenderedState:n},next:null},e.memoizedState=t,null!==(e=e.alternate)&&(e.memoizedState=t),t}function fs(e){bs(e,hs(e).next.queue,{},Nu())}function ps(){return Ea(Fd)}function ms(){return bo().memoizedState}function gs(){return bo().memoizedState}function vs(e){for(var t=e.return;null!==t;){switch(t.tag){case 24:case 3:var n=Nu(),r=Oa(t,e=Na(n),n);return null!==r&&(Au(r,t,n),Aa(r,t,n)),t={cache:zi()},void(e.payload=t)}t=t.return}}function ys(e,t,n){var r=Nu();n={lane:r,revertLane:0,action:n,hasEagerState:!1,eagerState:null,next:null},Ss(e)?ks(t,n):null!==(n=xr(e,t,n,r))&&(Au(n,e,r),Cs(n,t,r))}function _s(e,t,n){bs(e,t,n,Nu())}function bs(e,t,n,r){var i={lane:r,revertLane:0,action:n,hasEagerState:!1,eagerState:null,next:null};if(Ss(e))ks(t,i);else{var o=e.alternate;if(0===e.lanes&&(null===o||0===o.lanes)&&null!==(o=t.lastRenderedReducer))try{var s=t.lastRenderedState,a=o(s,n);if(i.hasEagerState=!0,i.eagerState=a,Kn(a,s))return Ir(e,t,i,0),null===nu&&Tr(),!1}catch(Wl){}if(null!==(n=xr(e,t,i,r)))return Au(n,e,r),Cs(n,t,r),!0}return!1}function ws(e,t,n,r){if(r={lane:2,revertLane:Sc(),action:r,hasEagerState:!1,eagerState:null,next:null},Ss(e)){if(t)throw Error(s(479))}else null!==(t=xr(e,n,r,2))&&Au(t,e,2)}function Ss(e){var t=e.alternate;return e===Zi||null!==t&&t===Zi}function ks(e,t){ro=no=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Cs(e,t,n){if(0!==(4194176&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,De(e,n)}}var Es={readContext:Ea,use:So,useCallback:uo,useContext:uo,useEffect:uo,useImperativeHandle:uo,useLayoutEffect:uo,useInsertionEffect:uo,useMemo:uo,useReducer:uo,useRef:uo,useState:uo,useDebugValue:uo,useDeferredValue:uo,useTransition:uo,useSyncExternalStore:uo,useId:uo};Es.useCacheRefresh=uo,Es.useMemoCache=uo,Es.useHostTransitionStatus=uo,Es.useFormState=uo,Es.useActionState=uo,Es.useOptimistic=uo;var Ts={readContext:Ea,use:So,useCallback:function(e,t){return _o().memoizedState=[e,void 0===t?null:t],e},useContext:Ea,useEffect:Xo,useImperativeHandle:function(e,t,n){n=null!==n&&void 0!==n?n.concat([e]):null,Go(4194308,4,ns.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Go(4194308,4,e,t)},useInsertionEffect:function(e,t){Go(4,2,e,t)},useMemo:function(e,t){var n=_o();t=void 0===t?null:t;var r=e();if(io){_e(!0);try{e()}finally{_e(!1)}}return n.memoizedState=[r,t],r},useReducer:function(e,t,n){var r=_o();if(void 0!==n){var i=n(t);if(io){_e(!0);try{n(t)}finally{_e(!1)}}}else i=t;return r.memoizedState=r.baseState=i,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:i},r.queue=e,e=e.dispatch=ys.bind(null,Zi,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},_o().memoizedState=e},useState:function(e){var t=(e=Do(e)).queue,n=_s.bind(null,Zi,t);return t.dispatch=n,[e.memoizedState,n]},useDebugValue:is,useDeferredValue:function(e,t){return as(_o(),e,t)},useTransition:function(){var e=Do(!1);return e=us.bind(null,Zi,e.queue,!0,!1),_o().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,n){var r=Zi,i=_o();if(Gr){if(void 0===n)throw Error(s(407));n=n()}else{if(n=t(),null===nu)throw Error(s(349));0!==(60&iu)||Po(r,t,n)}i.memoizedState=n;var o={value:n,getSnapshot:t};return i.queue=o,Xo(No.bind(null,r,o,e),[e]),r.flags|=2048,Ko(9,Ro.bind(null,r,o,n,t),{destroy:void 0},null),n},useId:function(){var e=_o(),t=nu.identifierPrefix;if(Gr){var n=$r;t=":"+t+"R"+(n=(Hr&~(1<<32-be(Hr)-1)).toString(32)+n),0<(n=oo++)&&(t+="H"+n.toString(32)),t+=":"}else t=":"+t+"r"+(n=lo++).toString(32)+":";return e.memoizedState=t},useCacheRefresh:function(){return _o().memoizedState=vs.bind(null,Zi)}};Ts.useMemoCache=ko,Ts.useHostTransitionStatus=ps,Ts.useFormState=$o,Ts.useActionState=$o,Ts.useOptimistic=function(e){var t=_o();t.memoizedState=t.baseState=e;var n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=n,t=ws.bind(null,Zi,!0,n),n.dispatch=t,[e,t]};var Is={readContext:Ea,use:So,useCallback:os,useContext:Ea,useEffect:Zo,useImperativeHandle:rs,useInsertionEffect:es,useLayoutEffect:ts,useMemo:ss,useReducer:Eo,useRef:Yo,useState:function(){return Eo(Co)},useDebugValue:is,useDeferredValue:function(e,t){return ls(bo(),eo.memoizedState,e,t)},useTransition:function(){var e=Eo(Co)[0],t=bo().memoizedState;return["boolean"===typeof e?e:wo(e),t]},useSyncExternalStore:xo,useId:ms};Is.useCacheRefresh=gs,Is.useMemoCache=ko,Is.useHostTransitionStatus=ps,Is.useFormState=Vo,Is.useActionState=Vo,Is.useOptimistic=function(e,t){return Lo(bo(),0,e,t)};var xs={readContext:Ea,use:So,useCallback:os,useContext:Ea,useEffect:Zo,useImperativeHandle:rs,useInsertionEffect:es,useLayoutEffect:ts,useMemo:ss,useReducer:Io,useRef:Yo,useState:function(){return Io(Co)},useDebugValue:is,useDeferredValue:function(e,t){var n=bo();return null===eo?as(n,e,t):ls(n,eo.memoizedState,e,t)},useTransition:function(){var e=Io(Co)[0],t=bo().memoizedState;return["boolean"===typeof e?e:wo(e),t]},useSyncExternalStore:xo,useId:ms};function Ps(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:N({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}xs.useCacheRefresh=gs,xs.useMemoCache=ko,xs.useHostTransitionStatus=ps,xs.useFormState=Qo,xs.useActionState=Qo,xs.useOptimistic=function(e,t){var n=bo();return null!==eo?Lo(n,0,e,t):(n.baseState=e,[e,n.queue.dispatch])};var Rs={isMounted:function(e){return!!(e=e._reactInternals)&&F(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=Nu(),i=Na(r);i.payload=t,void 0!==n&&null!==n&&(i.callback=n),null!==(t=Oa(e,i,r))&&(Au(t,e,r),Aa(t,e,r))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=Nu(),i=Na(r);i.tag=1,i.payload=t,void 0!==n&&null!==n&&(i.callback=n),null!==(t=Oa(e,i,r))&&(Au(t,e,r),Aa(t,e,r))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Nu(),r=Na(n);r.tag=2,void 0!==t&&null!==t&&(r.callback=t),null!==(t=Oa(e,r,n))&&(Au(t,e,n),Aa(t,e,n))}};function Ns(e,t,n,r,i,o,s){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,o,s):!t.prototype||!t.prototype.isPureReactComponent||(!Yn(n,r)||!Yn(i,o))}function Os(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&Rs.enqueueReplaceState(t,t.state,null)}function As(e,t){var n=t;if("ref"in t)for(var r in n={},t)"ref"!==r&&(n[r]=t[r]);if(e=e.defaultProps)for(var i in n===t&&(n=N({},n)),e)void 0===n[i]&&(n[i]=e[i]);return n}var Ds="function"===typeof reportError?reportError:function(e){if("object"===typeof window&&"function"===typeof window.ErrorEvent){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:"object"===typeof e&&null!==e&&"string"===typeof e.message?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if("object"===typeof process&&"function"===typeof process.emit)return void process.emit("uncaughtException",e);console.error(e)};function Ls(e){Ds(e)}function Ms(e){console.error(e)}function Fs(e){Ds(e)}function js(e,t){try{(0,e.onUncaughtError)(t.value,{componentStack:t.stack})}catch(n){setTimeout((function(){throw n}))}}function Us(e,t,n){try{(0,e.onCaughtError)(n.value,{componentStack:n.stack,errorBoundary:1===t.tag?t.stateNode:null})}catch(r){setTimeout((function(){throw r}))}}function zs(e,t,n){return(n=Na(n)).tag=3,n.payload={element:null},n.callback=function(){js(e,t)},n}function qs(e){return(e=Na(e)).tag=3,e}function Hs(e,t,n,r){var i=n.type.getDerivedStateFromError;if("function"===typeof i){var o=r.value;e.payload=function(){return i(o)},e.callback=function(){Us(t,n,r)}}var s=n.stateNode;null!==s&&"function"===typeof s.componentDidCatch&&(e.callback=function(){Us(t,n,r),"function"!==typeof i&&(null===ku?ku=new Set([this]):ku.add(this));var e=r.stack;this.componentDidCatch(r.value,{componentStack:null!==e?e:""})})}var $s=Error(s(461)),Vs=!1;function Ws(e,t,n,r){t.child=null===e?Si(t,null,n,r):wi(t,e.child,n,r)}function Bs(e,t,n,r,i){n=n.render;var o=t.ref;if("ref"in r){var s={};for(var a in r)"ref"!==a&&(s[a]=r[a])}else s=r;return Ca(t),r=ho(e,t,n,s,o,i),a=go(),null===e||Vs?(Gr&&a&&Br(t),t.flags|=1,Ws(e,t,r,i),t.child):(vo(e,t,i),ha(e,t,i))}function Qs(e,t,n,r,i){if(null===e){var o=n.type;return"function"!==typeof o||Ml(o)||void 0!==o.defaultProps||null!==n.compare?((e=Ul(n.type,null,r,t,t.mode,i)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=o,Ks(e,t,o,r,i))}if(o=e.child,!fa(e,i)){var s=o.memoizedProps;if((n=null!==(n=n.compare)?n:Yn)(s,r)&&e.ref===t.ref)return ha(e,t,i)}return t.flags|=1,(e=Fl(o,r)).ref=t.ref,e.return=t,t.child=e}function Ks(e,t,n,r,i){if(null!==e){var o=e.memoizedProps;if(Yn(o,r)&&e.ref===t.ref){if(Vs=!1,t.pendingProps=r=o,!fa(e,i))return t.lanes=e.lanes,ha(e,t,i);0!==(131072&e.flags)&&(Vs=!0)}}return Xs(e,t,n,r,i)}function Ys(e,t,n){var r=t.pendingProps,i=r.children,o=0!==(2&t.stateNode._pendingVisibility),s=null!==e?e.memoizedState:null;if(Js(e,t),"hidden"===r.mode||o){if(0!==(128&t.flags)){if(r=null!==s?s.baseLanes|n:n,null!==e){for(i=t.child=e.child,o=0;null!==i;)o=o|i.lanes|i.childLanes,i=i.sibling;t.childLanes=o&~r}else t.childLanes=0,t.child=null;return Gs(e,t,r,n)}if(0===(536870912&n))return t.lanes=t.childLanes=536870912,Gs(e,t,null!==s?s.baseLanes|n:n,n);t.memoizedState={baseLanes:0,cachePool:null},null!==e&&Gi(0,null!==s?s.cachePool:null),null!==s?Ei(t,s):Ti(),Ni(t)}else null!==s?(Gi(0,s.cachePool),Ei(t,s),Oi(),t.memoizedState=null):(null!==e&&Gi(0,null),Ti(),Oi());return Ws(e,t,i,n),t.child}function Gs(e,t,n,r){var i=Yi();return i=null===i?null:{parent:Ui._currentValue,pool:i},t.memoizedState={baseLanes:n,cachePool:i},null!==e&&Gi(0,null),Ti(),Ni(t),null!==e&&Sa(e,t,r,!0),null}function Js(e,t){var n=t.ref;if(null===n)null!==e&&null!==e.ref&&(t.flags|=2097664);else{if("function"!==typeof n&&"object"!==typeof n)throw Error(s(284));null!==e&&e.ref===n||(t.flags|=2097664)}}function Xs(e,t,n,r,i){return Ca(t),n=ho(e,t,n,r,void 0,i),r=go(),null===e||Vs?(Gr&&r&&Br(t),t.flags|=1,Ws(e,t,n,i),t.child):(vo(e,t,i),ha(e,t,i))}function Zs(e,t,n,r,i,o){return Ca(t),t.updateQueue=null,n=po(t,r,n,i),fo(e),r=go(),null===e||Vs?(Gr&&r&&Br(t),t.flags|=1,Ws(e,t,n,o),t.child):(vo(e,t,o),ha(e,t,o))}function ea(e,t,n,r,i){if(Ca(t),null===t.stateNode){var o=Or,s=n.contextType;"object"===typeof s&&null!==s&&(o=Ea(s)),o=new n(r,o),t.memoizedState=null!==o.state&&void 0!==o.state?o.state:null,o.updater=Rs,t.stateNode=o,o._reactInternals=t,(o=t.stateNode).props=r,o.state=t.memoizedState,o.refs={},Pa(t),s=n.contextType,o.context="object"===typeof s&&null!==s?Ea(s):Or,o.state=t.memoizedState,"function"===typeof(s=n.getDerivedStateFromProps)&&(Ps(t,n,s,r),o.state=t.memoizedState),"function"===typeof n.getDerivedStateFromProps||"function"===typeof o.getSnapshotBeforeUpdate||"function"!==typeof o.UNSAFE_componentWillMount&&"function"!==typeof o.componentWillMount||(s=o.state,"function"===typeof o.componentWillMount&&o.componentWillMount(),"function"===typeof o.UNSAFE_componentWillMount&&o.UNSAFE_componentWillMount(),s!==o.state&&Rs.enqueueReplaceState(o,o.state,null),Fa(t,r,o,i),Ma(),o.state=t.memoizedState),"function"===typeof o.componentDidMount&&(t.flags|=4194308),r=!0}else if(null===e){o=t.stateNode;var a=t.memoizedProps,l=As(n,a);o.props=l;var u=o.context,c=n.contextType;s=Or,"object"===typeof c&&null!==c&&(s=Ea(c));var d=n.getDerivedStateFromProps;c="function"===typeof d||"function"===typeof o.getSnapshotBeforeUpdate,a=t.pendingProps!==a,c||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(a||u!==s)&&Os(t,o,r,s),xa=!1;var h=t.memoizedState;o.state=h,Fa(t,r,o,i),Ma(),u=t.memoizedState,a||h!==u||xa?("function"===typeof d&&(Ps(t,n,d,r),u=t.memoizedState),(l=xa||Ns(t,n,l,r,h,u,s))?(c||"function"!==typeof o.UNSAFE_componentWillMount&&"function"!==typeof o.componentWillMount||("function"===typeof o.componentWillMount&&o.componentWillMount(),"function"===typeof o.UNSAFE_componentWillMount&&o.UNSAFE_componentWillMount()),"function"===typeof o.componentDidMount&&(t.flags|=4194308)):("function"===typeof o.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=u),o.props=r,o.state=u,o.context=s,r=l):("function"===typeof o.componentDidMount&&(t.flags|=4194308),r=!1)}else{o=t.stateNode,Ra(e,t),c=As(n,s=t.memoizedProps),o.props=c,d=t.pendingProps,h=o.context,u=n.contextType,l=Or,"object"===typeof u&&null!==u&&(l=Ea(u)),(u="function"===typeof(a=n.getDerivedStateFromProps)||"function"===typeof o.getSnapshotBeforeUpdate)||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(s!==d||h!==l)&&Os(t,o,r,l),xa=!1,h=t.memoizedState,o.state=h,Fa(t,r,o,i),Ma();var f=t.memoizedState;s!==d||h!==f||xa||null!==e&&null!==e.dependencies&&ka(e.dependencies)?("function"===typeof a&&(Ps(t,n,a,r),f=t.memoizedState),(c=xa||Ns(t,n,c,r,h,f,l)||null!==e&&null!==e.dependencies&&ka(e.dependencies))?(u||"function"!==typeof o.UNSAFE_componentWillUpdate&&"function"!==typeof o.componentWillUpdate||("function"===typeof o.componentWillUpdate&&o.componentWillUpdate(r,f,l),"function"===typeof o.UNSAFE_componentWillUpdate&&o.UNSAFE_componentWillUpdate(r,f,l)),"function"===typeof o.componentDidUpdate&&(t.flags|=4),"function"===typeof o.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof o.componentDidUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=f),o.props=r,o.state=f,o.context=l,r=c):("function"!==typeof o.componentDidUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),r=!1)}return o=r,Js(e,t),r=0!==(128&t.flags),o||r?(o=t.stateNode,n=r&&"function"!==typeof n.getDerivedStateFromError?null:o.render(),t.flags|=1,null!==e&&r?(t.child=wi(t,e.child,null,i),t.child=wi(t,null,n,i)):Ws(e,t,n,i),t.memoizedState=o.state,e=t.child):e=ha(e,t,i),e}function ta(e,t,n,r){return ii(),t.flags|=256,Ws(e,t,n,r),t.child}var na={dehydrated:null,treeContext:null,retryLane:0};function ra(e){return{baseLanes:e,cachePool:Ji()}}function ia(e,t,n){return e=null!==e?e.childLanes&~n:0,t&&(e|=mu),e}function oa(e,t,n){var r,i=t.pendingProps,o=!1,a=0!==(128&t.flags);if((r=a)||(r=(null===e||null!==e.memoizedState)&&0!==(2&Di.current)),r&&(o=!0,t.flags&=-129),r=0!==(32&t.flags),t.flags&=-33,null===e){if(Gr){if(o?Ri(t):Oi(),Gr){var l,u=Yr;if(l=u){e:{for(l=u,u=Xr;8!==l.nodeType;){if(!u){u=null;break e}if(null===(l=ld(l.nextSibling))){u=null;break e}}u=l}null!==u?(t.memoizedState={dehydrated:u,treeContext:null!==qr?{id:Hr,overflow:$r}:null,retryLane:536870912},(l=Ll(18,null,null,0)).stateNode=u,l.return=t,t.child=l,Kr=t,Yr=null,l=!0):l=!1}l||ei(t)}if(null!==(u=t.memoizedState)&&null!==(u=u.dehydrated))return"$!"===u.data?t.lanes=16:t.lanes=536870912,null;Ai(t)}return u=i.children,i=i.fallback,o?(Oi(),u=aa({mode:"hidden",children:u},o=t.mode),i=zl(i,o,n,null),u.return=t,i.return=t,u.sibling=i,t.child=u,(o=t.child).memoizedState=ra(n),o.childLanes=ia(e,r,n),t.memoizedState=na,i):(Ri(t),sa(t,u))}if(null!==(l=e.memoizedState)&&null!==(u=l.dehydrated)){if(a)256&t.flags?(Ri(t),t.flags&=-257,t=la(e,t,n)):null!==t.memoizedState?(Oi(),t.child=e.child,t.flags|=128,t=null):(Oi(),o=i.fallback,u=t.mode,i=aa({mode:"visible",children:i.children},u),(o=zl(o,u,n,null)).flags|=2,i.return=t,o.return=t,i.sibling=o,t.child=i,wi(t,e.child,null,n),(i=t.child).memoizedState=ra(n),i.childLanes=ia(e,r,n),t.memoizedState=na,t=o);else if(Ri(t),"$!"===u.data){if(r=u.nextSibling&&u.nextSibling.dataset)var c=r.dgst;r=c,(i=Error(s(419))).stack="",i.digest=r,oi({value:i,source:null,stack:null}),t=la(e,t,n)}else if(Vs||Sa(e,t,n,!1),r=0!==(n&e.childLanes),Vs||r){if(null!==(r=nu)){if(0!==(42&(i=n&-n)))i=1;else switch(i){case 2:i=1;break;case 8:i=4;break;case 32:i=16;break;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:i=64;break;case 268435456:i=134217728;break;default:i=0}if(0!==(i=0!==(i&(r.suspendedLanes|n))?0:i)&&i!==l.retryLane)throw l.retryLane=i,Pr(e,i),Au(r,e,i),$s}"$?"===u.data||Wu(),t=la(e,t,n)}else"$?"===u.data?(t.flags|=128,t.child=e.child,t=lc.bind(null,e),u._reactRetry=t,t=null):(e=l.treeContext,Yr=ld(u.nextSibling),Kr=t,Gr=!0,Jr=null,Xr=!1,null!==e&&(Ur[zr++]=Hr,Ur[zr++]=$r,Ur[zr++]=qr,Hr=e.id,$r=e.overflow,qr=t),(t=sa(t,i.children)).flags|=4096);return t}return o?(Oi(),o=i.fallback,u=t.mode,c=(l=e.child).sibling,(i=Fl(l,{mode:"hidden",children:i.children})).subtreeFlags=31457280&l.subtreeFlags,null!==c?o=Fl(c,o):(o=zl(o,u,n,null)).flags|=2,o.return=t,i.return=t,i.sibling=o,t.child=i,i=o,o=t.child,null===(u=e.child.memoizedState)?u=ra(n):(null!==(l=u.cachePool)?(c=Ui._currentValue,l=l.parent!==c?{parent:c,pool:c}:l):l=Ji(),u={baseLanes:u.baseLanes|n,cachePool:l}),o.memoizedState=u,o.childLanes=ia(e,r,n),t.memoizedState=na,i):(Ri(t),e=(n=e.child).sibling,(n=Fl(n,{mode:"visible",children:i.children})).return=t,n.sibling=null,null!==e&&(null===(r=t.deletions)?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n,t.memoizedState=null,n)}function sa(e,t){return(t=aa({mode:"visible",children:t},e.mode)).return=e,e.child=t}function aa(e,t){return ql(e,t,0,null)}function la(e,t,n){return wi(t,e.child,null,n),(e=sa(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function ua(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),ba(e.return,t,n)}function ca(e,t,n,r,i){var o=e.memoizedState;null===o?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=i)}function da(e,t,n){var r=t.pendingProps,i=r.revealOrder,o=r.tail;if(Ws(e,t,r.children,n),0!==(2&(r=Di.current)))r=1&r|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&ua(e,n,t);else if(19===e.tag)ua(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}switch(K(Di,r),i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===Li(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),ca(t,!1,i,n,o);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===Li(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}ca(t,!0,n,null,o);break;case"together":ca(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function ha(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),hu|=t.lanes,0===(n&t.childLanes)){if(null===e)return null;if(Sa(e,t,n,!1),0===(n&t.childLanes))return null}if(null!==e&&t.child!==e.child)throw Error(s(153));if(null!==t.child){for(n=Fl(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Fl(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function fa(e,t){return 0!==(e.lanes&t)||!(null===(e=e.dependencies)||!ka(e))}function pa(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps)Vs=!0;else{if(!fa(e,n)&&0===(128&t.flags))return Vs=!1,function(e,t,n){switch(t.tag){case 3:Z(t,t.stateNode.containerInfo),ya(t,Ui,e.memoizedState.cache),ii();break;case 27:case 5:te(t);break;case 4:Z(t,t.stateNode.containerInfo);break;case 10:ya(t,t.type,t.memoizedProps.value);break;case 13:var r=t.memoizedState;if(null!==r)return null!==r.dehydrated?(Ri(t),t.flags|=128,null):0!==(n&t.child.childLanes)?oa(e,t,n):(Ri(t),null!==(e=ha(e,t,n))?e.sibling:null);Ri(t);break;case 19:var i=0!==(128&e.flags);if((r=0!==(n&t.childLanes))||(Sa(e,t,n,!1),r=0!==(n&t.childLanes)),i){if(r)return da(e,t,n);t.flags|=128}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),K(Di,Di.current),r)break;return null;case 22:case 23:return t.lanes=0,Ys(e,t,n);case 24:ya(t,Ui,e.memoizedState.cache)}return ha(e,t,n)}(e,t,n);Vs=0!==(131072&e.flags)}else Vs=!1,Gr&&0!==(1048576&t.flags)&&Wr(t,jr,t.index);switch(t.lanes=0,t.tag){case 16:e:{e=t.pendingProps;var r=t.elementType,i=r._init;if(r=i(r._payload),t.type=r,"function"!==typeof r){if(void 0!==r&&null!==r){if((i=r.$$typeof)===v){t.tag=11,t=Bs(null,t,r,e,n);break e}if(i===b){t.tag=14,t=Qs(null,t,r,e,n);break e}}throw t=I(r)||r,Error(s(306,t,""))}Ml(r)?(e=As(r,e),t.tag=1,t=ea(null,t,r,e,n)):(t.tag=0,t=Xs(null,t,r,e,n))}return t;case 0:return Xs(e,t,t.type,t.pendingProps,n);case 1:return ea(e,t,r=t.type,i=As(r,t.pendingProps),n);case 3:e:{if(Z(t,t.stateNode.containerInfo),null===e)throw Error(s(387));var o=t.pendingProps;r=(i=t.memoizedState).element,Ra(e,t),Fa(t,o,null,n);var a=t.memoizedState;if(o=a.cache,ya(t,Ui,o),o!==i.cache&&wa(t,[Ui],n,!0),Ma(),o=a.element,i.isDehydrated){if(i={element:o,isDehydrated:!1,cache:a.cache},t.updateQueue.baseState=i,t.memoizedState=i,256&t.flags){t=ta(e,t,o,n);break e}if(o!==r){oi(r=Dr(Error(s(424)),t)),t=ta(e,t,o,n);break e}for(Yr=ld(t.stateNode.containerInfo.firstChild),Kr=t,Gr=!0,Jr=null,Xr=!0,n=Si(t,null,o,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(ii(),o===r){t=ha(e,t,n);break e}Ws(e,t,o,n)}t=t.child}return t;case 26:return Js(e,t),null===e?(n=vd(t.type,null,t.pendingProps,null))?t.memoizedState=n:Gr||(n=t.type,e=t.pendingProps,(r=Gc(J.current).createElement(n))[je]=t,r[Ue]=e,Qc(r,n,e),Je(r),t.stateNode=r):t.memoizedState=vd(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return te(t),null===e&&Gr&&(r=t.stateNode=cd(t.type,t.pendingProps,J.current),Kr=t,Xr=!0,Yr=ld(r.firstChild)),r=t.pendingProps.children,null!==e||Gr?Ws(e,t,r,n):t.child=wi(t,null,r,n),Js(e,t),t.child;case 5:return null===e&&Gr&&((i=r=Yr)&&(null!==(r=function(e,t,n,r){for(;1===e.nodeType;){var i=n;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!r&&("INPUT"!==e.nodeName||"hidden"!==e.type))break}else if(r){if(!e[We])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if("stylesheet"===(o=e.getAttribute("rel"))&&e.hasAttribute("data-precedence"))break;if(o!==i.rel||e.getAttribute("href")!==(null==i.href?null:i.href)||e.getAttribute("crossorigin")!==(null==i.crossOrigin?null:i.crossOrigin)||e.getAttribute("title")!==(null==i.title?null:i.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(((o=e.getAttribute("src"))!==(null==i.src?null:i.src)||e.getAttribute("type")!==(null==i.type?null:i.type)||e.getAttribute("crossorigin")!==(null==i.crossOrigin?null:i.crossOrigin))&&o&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else{if("input"!==t||"hidden"!==e.type)return e;var o=null==i.name?null:""+i.name;if("hidden"===i.type&&e.getAttribute("name")===o)return e}if(null===(e=ld(e.nextSibling)))break}return null}(r,t.type,t.pendingProps,Xr))?(t.stateNode=r,Kr=t,Yr=ld(r.firstChild),Xr=!1,i=!0):i=!1),i||ei(t)),te(t),i=t.type,o=t.pendingProps,a=null!==e?e.memoizedProps:null,r=o.children,Zc(i,o)?r=null:null!==a&&Zc(i,a)&&(t.flags|=32),null!==t.memoizedState&&(i=ho(e,t,mo,null,null,n),Fd._currentValue=i),Js(e,t),Ws(e,t,r,n),t.child;case 6:return null===e&&Gr&&((e=n=Yr)&&(null!==(n=function(e,t,n){if(""===t)return null;for(;3!==e.nodeType;){if((1!==e.nodeType||"INPUT"!==e.nodeName||"hidden"!==e.type)&&!n)return null;if(null===(e=ld(e.nextSibling)))return null}return e}(n,t.pendingProps,Xr))?(t.stateNode=n,Kr=t,Yr=null,e=!0):e=!1),e||ei(t)),null;case 13:return oa(e,t,n);case 4:return Z(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=wi(t,null,r,n):Ws(e,t,r,n),t.child;case 11:return Bs(e,t,t.type,t.pendingProps,n);case 7:return Ws(e,t,t.pendingProps,n),t.child;case 8:case 12:return Ws(e,t,t.pendingProps.children,n),t.child;case 10:return r=t.pendingProps,ya(t,t.type,r.value),Ws(e,t,r.children,n),t.child;case 9:return i=t.type._context,r=t.pendingProps.children,Ca(t),r=r(i=Ea(i)),t.flags|=1,Ws(e,t,r,n),t.child;case 14:return Qs(e,t,t.type,t.pendingProps,n);case 15:return Ks(e,t,t.type,t.pendingProps,n);case 19:return da(e,t,n);case 22:return Ys(e,t,n);case 24:return Ca(t),r=Ea(Ui),null===e?(null===(i=Yi())&&(i=nu,o=zi(),i.pooledCache=o,o.refCount++,null!==o&&(i.pooledCacheLanes|=n),i=o),t.memoizedState={parent:r,cache:i},Pa(t),ya(t,Ui,i)):(0!==(e.lanes&n)&&(Ra(e,t),Fa(t,null,null,n),Ma()),i=e.memoizedState,o=t.memoizedState,i.parent!==r?(i={parent:r,cache:r},t.memoizedState=i,0===t.lanes&&(t.memoizedState=t.updateQueue.baseState=i),ya(t,Ui,r)):(r=o.cache,ya(t,Ui,r),r!==i.cache&&wa(t,[Ui],n,!0))),Ws(e,t,t.pendingProps.children,n),t.child;case 29:throw t.pendingProps}throw Error(s(156,t.tag))}var ma=B(null),ga=null,va=null;function ya(e,t,n){K(ma,t._currentValue),t._currentValue=n}function _a(e){e._currentValue=ma.current,Q(ma)}function ba(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function wa(e,t,n,r){var i=e.child;for(null!==i&&(i.return=e);null!==i;){var o=i.dependencies;if(null!==o){var a=i.child;o=o.firstContext;e:for(;null!==o;){var l=o;o=i;for(var u=0;u<t.length;u++)if(l.context===t[u]){o.lanes|=n,null!==(l=o.alternate)&&(l.lanes|=n),ba(o.return,n,e),r||(a=null);break e}o=l.next}}else if(18===i.tag){if(null===(a=i.return))throw Error(s(341));a.lanes|=n,null!==(o=a.alternate)&&(o.lanes|=n),ba(a,n,e),a=null}else a=i.child;if(null!==a)a.return=i;else for(a=i;null!==a;){if(a===e){a=null;break}if(null!==(i=a.sibling)){i.return=a.return,a=i;break}a=a.return}i=a}}function Sa(e,t,n,r){e=null;for(var i=t,o=!1;null!==i;){if(!o)if(0!==(524288&i.flags))o=!0;else if(0!==(262144&i.flags))break;if(10===i.tag){var a=i.alternate;if(null===a)throw Error(s(387));if(null!==(a=a.memoizedProps)){var l=i.type;Kn(i.pendingProps.value,a.value)||(null!==e?e.push(l):e=[l])}}else if(i===X.current){if(null===(a=i.alternate))throw Error(s(387));a.memoizedState.memoizedState!==i.memoizedState.memoizedState&&(null!==e?e.push(Fd):e=[Fd])}i=i.return}null!==e&&wa(t,e,n,r),t.flags|=262144}function ka(e){for(e=e.firstContext;null!==e;){if(!Kn(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Ca(e){ga=e,va=null,null!==(e=e.dependencies)&&(e.firstContext=null)}function Ea(e){return Ia(ga,e)}function Ta(e,t){return null===ga&&Ca(e),Ia(e,t)}function Ia(e,t){var n=t._currentValue;if(t={context:t,memoizedValue:n,next:null},null===va){if(null===e)throw Error(s(308));va=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else va=va.next=t;return n}var xa=!1;function Pa(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Ra(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function Na(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function Oa(e,t,n){var r=e.updateQueue;if(null===r)return null;if(r=r.shared,0!==(2&tu)){var i=r.pending;return null===i?t.next=t:(t.next=i.next,i.next=t),r.pending=t,t=Nr(e),Rr(e,null,n),t}return Ir(e,r,t,n),Nr(e)}function Aa(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194176&n))){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,De(e,n)}}function Da(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,o=null;if(null!==(n=n.firstBaseUpdate)){do{var s={lane:n.lane,tag:n.tag,payload:n.payload,callback:null,next:null};null===o?i=o=s:o=o.next=s,n=n.next}while(null!==n);null===o?i=o=t:o=o.next=t}else i=o=t;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:r.shared,callbacks:r.callbacks},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}var La=!1;function Ma(){if(La){if(null!==Wi)throw Wi}}function Fa(e,t,n,r){La=!1;var i=e.updateQueue;xa=!1;var o=i.firstBaseUpdate,s=i.lastBaseUpdate,a=i.shared.pending;if(null!==a){i.shared.pending=null;var l=a,u=l.next;l.next=null,null===s?o=u:s.next=u,s=l;var c=e.alternate;null!==c&&((a=(c=c.updateQueue).lastBaseUpdate)!==s&&(null===a?c.firstBaseUpdate=u:a.next=u,c.lastBaseUpdate=l))}if(null!==o){var d=i.baseState;for(s=0,c=u=l=null,a=o;;){var h=-536870913&a.lane,f=h!==a.lane;if(f?(iu&h)===h:(r&h)===h){0!==h&&h===Vi&&(La=!0),null!==c&&(c=c.next={lane:0,tag:a.tag,payload:a.payload,callback:null,next:null});e:{var p=e,m=a;h=t;var g=n;switch(m.tag){case 1:if("function"===typeof(p=m.payload)){d=p.call(g,d,h);break e}d=p;break e;case 3:p.flags=-65537&p.flags|128;case 0:if(null===(h="function"===typeof(p=m.payload)?p.call(g,d,h):p)||void 0===h)break e;d=N({},d,h);break e;case 2:xa=!0}}null!==(h=a.callback)&&(e.flags|=64,f&&(e.flags|=8192),null===(f=i.callbacks)?i.callbacks=[h]:f.push(h))}else f={lane:h,tag:a.tag,payload:a.payload,callback:a.callback,next:null},null===c?(u=c=f,l=d):c=c.next=f,s|=h;if(null===(a=a.next)){if(null===(a=i.shared.pending))break;a=(f=a).next,f.next=null,i.lastBaseUpdate=f,i.shared.pending=null}}null===c&&(l=d),i.baseState=l,i.firstBaseUpdate=u,i.lastBaseUpdate=c,null===o&&(i.shared.lanes=0),hu|=s,e.lanes=s,e.memoizedState=d}}function ja(e,t){if("function"!==typeof e)throw Error(s(191,e));e.call(t)}function Ua(e,t){var n=e.callbacks;if(null!==n)for(e.callbacks=null,e=0;e<n.length;e++)ja(n[e],t)}function za(e,t){try{var n=t.updateQueue,r=null!==n?n.lastEffect:null;if(null!==r){var i=r.next;n=i;do{if((n.tag&e)===e){r=void 0;var o=n.create,s=n.inst;r=o(),s.destroy=r}n=n.next}while(n!==i)}}catch(Wl){ic(t,t.return,Wl)}}function qa(e,t,n){try{var r=t.updateQueue,i=null!==r?r.lastEffect:null;if(null!==i){var o=i.next;r=o;do{if((r.tag&e)===e){var s=r.inst,a=s.destroy;if(void 0!==a){s.destroy=void 0,i=t;var l=n;try{a()}catch(Wl){ic(i,l,Wl)}}}r=r.next}while(r!==o)}}catch(Wl){ic(t,t.return,Wl)}}function Ha(e){var t=e.updateQueue;if(null!==t){var n=e.stateNode;try{Ua(t,n)}catch(Wl){ic(e,e.return,Wl)}}}function $a(e,t,n){n.props=As(e.type,e.memoizedProps),n.state=e.memoizedState;try{n.componentWillUnmount()}catch(Wl){ic(e,t,Wl)}}function Va(e,t){try{var n=e.ref;if(null!==n){var r=e.stateNode;switch(e.tag){case 26:case 27:case 5:var i=r;break;default:i=r}"function"===typeof n?e.refCleanup=n(i):n.current=i}}catch(Wl){ic(e,t,Wl)}}function Wa(e,t){var n=e.ref,r=e.refCleanup;if(null!==n)if("function"===typeof r)try{r()}catch(Wl){ic(e,t,Wl)}finally{e.refCleanup=null,null!=(e=e.alternate)&&(e.refCleanup=null)}else if("function"===typeof n)try{n(null)}catch(i){ic(e,t,i)}else n.current=null}function Ba(e){var t=e.type,n=e.memoizedProps,r=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":n.autoFocus&&r.focus();break e;case"img":n.src?r.src=n.src:n.srcSet&&(r.srcset=n.srcSet)}}catch(Wl){ic(e,e.return,Wl)}}function Qa(e,t,n){try{var r=e.stateNode;!function(e,t,n,r){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var i=null,o=null,a=null,l=null,u=null,c=null,d=null;for(p in n){var h=n[p];if(n.hasOwnProperty(p)&&null!=h)switch(p){case"checked":case"value":break;case"defaultValue":u=h;default:r.hasOwnProperty(p)||Wc(e,t,p,null,r,h)}}for(var f in r){var p=r[f];if(h=n[f],r.hasOwnProperty(f)&&(null!=p||null!=h))switch(f){case"type":o=p;break;case"name":i=p;break;case"checked":c=p;break;case"defaultChecked":d=p;break;case"value":a=p;break;case"defaultValue":l=p;break;case"children":case"dangerouslySetInnerHTML":if(null!=p)throw Error(s(137,t));break;default:p!==h&&Wc(e,t,f,p,r,h)}}return void gt(e,a,l,u,c,d,o,i);case"select":for(o in p=a=l=f=null,n)if(u=n[o],n.hasOwnProperty(o)&&null!=u)switch(o){case"value":break;case"multiple":p=u;default:r.hasOwnProperty(o)||Wc(e,t,o,null,r,u)}for(i in r)if(o=r[i],u=n[i],r.hasOwnProperty(i)&&(null!=o||null!=u))switch(i){case"value":f=o;break;case"defaultValue":l=o;break;case"multiple":a=o;default:o!==u&&Wc(e,t,i,o,r,u)}return t=l,n=a,r=p,void(null!=f?_t(e,!!n,f,!1):!!r!==!!n&&(null!=t?_t(e,!!n,t,!0):_t(e,!!n,n?[]:"",!1)));case"textarea":for(l in p=f=null,n)if(i=n[l],n.hasOwnProperty(l)&&null!=i&&!r.hasOwnProperty(l))switch(l){case"value":case"children":break;default:Wc(e,t,l,null,r,i)}for(a in r)if(i=r[a],o=n[a],r.hasOwnProperty(a)&&(null!=i||null!=o))switch(a){case"value":f=i;break;case"defaultValue":p=i;break;case"children":break;case"dangerouslySetInnerHTML":if(null!=i)throw Error(s(91));break;default:i!==o&&Wc(e,t,a,i,r,o)}return void bt(e,f,p);case"option":for(var m in n)if(f=n[m],n.hasOwnProperty(m)&&null!=f&&!r.hasOwnProperty(m))if("selected"===m)e.selected=!1;else Wc(e,t,m,null,r,f);for(u in r)if(f=r[u],p=n[u],r.hasOwnProperty(u)&&f!==p&&(null!=f||null!=p))if("selected"===u)e.selected=f&&"function"!==typeof f&&"symbol"!==typeof f;else Wc(e,t,u,f,r,p);return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var g in n)f=n[g],n.hasOwnProperty(g)&&null!=f&&!r.hasOwnProperty(g)&&Wc(e,t,g,null,r,f);for(c in r)if(f=r[c],p=n[c],r.hasOwnProperty(c)&&f!==p&&(null!=f||null!=p))switch(c){case"children":case"dangerouslySetInnerHTML":if(null!=f)throw Error(s(137,t));break;default:Wc(e,t,c,f,r,p)}return;default:if(Tt(t)){for(var v in n)f=n[v],n.hasOwnProperty(v)&&void 0!==f&&!r.hasOwnProperty(v)&&Bc(e,t,v,void 0,r,f);for(d in r)f=r[d],p=n[d],!r.hasOwnProperty(d)||f===p||void 0===f&&void 0===p||Bc(e,t,d,f,r,p);return}}for(var y in n)f=n[y],n.hasOwnProperty(y)&&null!=f&&!r.hasOwnProperty(y)&&Wc(e,t,y,null,r,f);for(h in r)f=r[h],p=n[h],!r.hasOwnProperty(h)||f===p||null==f&&null==p||Wc(e,t,h,f,r,p)}(r,e.type,n,t),r[Ue]=t}catch(Wl){ic(e,e.return,Wl)}}function Ka(e){return 5===e.tag||3===e.tag||26===e.tag||27===e.tag||4===e.tag}function Ya(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||Ka(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&27!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function Ga(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=Vc));else if(4!==r&&27!==r&&null!==(e=e.child))for(Ga(e,t,n),e=e.sibling;null!==e;)Ga(e,t,n),e=e.sibling}function Ja(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&27!==r&&null!==(e=e.child))for(Ja(e,t,n),e=e.sibling;null!==e;)Ja(e,t,n),e=e.sibling}var Xa=!1,Za=!1,el=!1,tl="function"===typeof WeakSet?WeakSet:Set,nl=null,rl=!1;function il(e,t,n){var r=n.flags;switch(n.tag){case 0:case 11:case 15:vl(e,n),4&r&&za(5,n);break;case 1:if(vl(e,n),4&r)if(e=n.stateNode,null===t)try{e.componentDidMount()}catch(Wl){ic(n,n.return,Wl)}else{var i=As(n.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(i,t,e.__reactInternalSnapshotBeforeUpdate)}catch(a){ic(n,n.return,a)}}64&r&&Ha(n),512&r&&Va(n,n.return);break;case 3:if(vl(e,n),64&r&&null!==(r=n.updateQueue)){if(e=null,null!==n.child)switch(n.child.tag){case 27:case 5:case 1:e=n.child.stateNode}try{Ua(r,e)}catch(Wl){ic(n,n.return,Wl)}}break;case 26:vl(e,n),512&r&&Va(n,n.return);break;case 27:case 5:vl(e,n),null===t&&4&r&&Ba(n),512&r&&Va(n,n.return);break;case 12:default:vl(e,n);break;case 13:vl(e,n),4&r&&cl(e,n);break;case 22:if(!(i=null!==n.memoizedState||Xa)){t=null!==t&&null!==t.memoizedState||Za;var o=Xa,s=Za;Xa=i,(Za=t)&&!s?_l(e,n,0!==(8772&n.subtreeFlags)):vl(e,n),Xa=o,Za=s}512&r&&("manual"===n.memoizedProps.mode?Va(n,n.return):Wa(n,n.return))}}function ol(e){var t=e.alternate;null!==t&&(e.alternate=null,ol(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&Be(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var sl=null,al=!1;function ll(e,t,n){for(n=n.child;null!==n;)ul(e,t,n),n=n.sibling}function ul(e,t,n){if(ye&&"function"===typeof ye.onCommitFiberUnmount)try{ye.onCommitFiberUnmount(ve,n)}catch(s){}switch(n.tag){case 26:Za||Wa(n,t),ll(e,t,n),n.memoizedState?n.memoizedState.count--:n.stateNode&&(n=n.stateNode).parentNode.removeChild(n);break;case 27:Za||Wa(n,t);var r=sl,i=al;for(sl=n.stateNode,ll(e,t,n),t=(n=n.stateNode).attributes;t.length;)n.removeAttributeNode(t[0]);Be(n),sl=r,al=i;break;case 5:Za||Wa(n,t);case 6:i=sl;var o=al;if(sl=null,ll(e,t,n),al=o,null!==(sl=i))if(al)try{e=sl,r=n.stateNode,8===e.nodeType?e.parentNode.removeChild(r):e.removeChild(r)}catch(Wl){ic(n,t,Wl)}else try{sl.removeChild(n.stateNode)}catch(Wl){ic(n,t,Wl)}break;case 18:null!==sl&&(al?(t=sl,n=n.stateNode,8===t.nodeType?sd(t.parentNode,n):1===t.nodeType&&sd(t,n),gh(t)):sd(sl,n.stateNode));break;case 4:r=sl,i=al,sl=n.stateNode.containerInfo,al=!0,ll(e,t,n),sl=r,al=i;break;case 0:case 11:case 14:case 15:Za||qa(2,n,t),Za||qa(4,n,t),ll(e,t,n);break;case 1:Za||(Wa(n,t),"function"===typeof(r=n.stateNode).componentWillUnmount&&$a(n,t,r)),ll(e,t,n);break;case 21:ll(e,t,n);break;case 22:Za||Wa(n,t),Za=(r=Za)||null!==n.memoizedState,ll(e,t,n),Za=r;break;default:ll(e,t,n)}}function cl(e,t){if(null===t.memoizedState&&(null!==(e=t.alternate)&&(null!==(e=e.memoizedState)&&null!==(e=e.dehydrated))))try{gh(e)}catch(Wl){ic(t,t.return,Wl)}}function dl(e,t){var n=function(e){switch(e.tag){case 13:case 19:var t=e.stateNode;return null===t&&(t=e.stateNode=new tl),t;case 22:return null===(t=(e=e.stateNode)._retryCache)&&(t=e._retryCache=new tl),t;default:throw Error(s(435,e.tag))}}(e);t.forEach((function(t){var r=uc.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}function hl(e,t){var n=t.deletions;if(null!==n)for(var r=0;r<n.length;r++){var i=n[r],o=e,a=t,l=a;e:for(;null!==l;){switch(l.tag){case 27:case 5:sl=l.stateNode,al=!1;break e;case 3:case 4:sl=l.stateNode.containerInfo,al=!0;break e}l=l.return}if(null===sl)throw Error(s(160));ul(o,a,i),sl=null,al=!1,null!==(o=i.alternate)&&(o.return=null),i.return=null}if(13878&t.subtreeFlags)for(t=t.child;null!==t;)pl(t,e),t=t.sibling}var fl=null;function pl(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:hl(t,e),ml(e),4&r&&(qa(3,e,e.return),za(3,e),qa(5,e,e.return));break;case 1:hl(t,e),ml(e),512&r&&(Za||null===n||Wa(n,n.return)),64&r&&Xa&&(null!==(e=e.updateQueue)&&(null!==(r=e.callbacks)&&(n=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=null===n?r:n.concat(r))));break;case 26:var i=fl;if(hl(t,e),ml(e),512&r&&(Za||null===n||Wa(n,n.return)),4&r){var o=null!==n?n.memoizedState:null;if(r=e.memoizedState,null===n)if(null===r)if(null===e.stateNode){e:{r=e.type,n=e.memoizedProps,i=i.ownerDocument||i;t:switch(r){case"title":(!(o=i.getElementsByTagName("title")[0])||o[We]||o[je]||"http://www.w3.org/2000/svg"===o.namespaceURI||o.hasAttribute("itemprop"))&&(o=i.createElement(r),i.head.insertBefore(o,i.querySelector("head > title"))),Qc(o,r,n),o[je]=e,Je(o),r=o;break e;case"link":var a=xd("link","href",i).get(r+(n.href||""));if(a)for(var l=0;l<a.length;l++)if((o=a[l]).getAttribute("href")===(null==n.href?null:n.href)&&o.getAttribute("rel")===(null==n.rel?null:n.rel)&&o.getAttribute("title")===(null==n.title?null:n.title)&&o.getAttribute("crossorigin")===(null==n.crossOrigin?null:n.crossOrigin)){a.splice(l,1);break t}Qc(o=i.createElement(r),r,n),i.head.appendChild(o);break;case"meta":if(a=xd("meta","content",i).get(r+(n.content||"")))for(l=0;l<a.length;l++)if((o=a[l]).getAttribute("content")===(null==n.content?null:""+n.content)&&o.getAttribute("name")===(null==n.name?null:n.name)&&o.getAttribute("property")===(null==n.property?null:n.property)&&o.getAttribute("http-equiv")===(null==n.httpEquiv?null:n.httpEquiv)&&o.getAttribute("charset")===(null==n.charSet?null:n.charSet)){a.splice(l,1);break t}Qc(o=i.createElement(r),r,n),i.head.appendChild(o);break;default:throw Error(s(468,r))}o[je]=e,Je(o),r=o}e.stateNode=r}else Pd(i,e.type,e.stateNode);else e.stateNode=kd(i,r,e.memoizedProps);else o!==r?(null===o?null!==n.stateNode&&(n=n.stateNode).parentNode.removeChild(n):o.count--,null===r?Pd(i,e.type,e.stateNode):kd(i,r,e.memoizedProps)):null===r&&null!==e.stateNode&&Qa(e,e.memoizedProps,n.memoizedProps)}break;case 27:if(4&r&&null===e.alternate){i=e.stateNode,o=e.memoizedProps;try{for(var u=i.firstChild;u;){var c=u.nextSibling,d=u.nodeName;u[We]||"HEAD"===d||"BODY"===d||"SCRIPT"===d||"STYLE"===d||"LINK"===d&&"stylesheet"===u.rel.toLowerCase()||i.removeChild(u),u=c}for(var h=e.type,f=i.attributes;f.length;)i.removeAttributeNode(f[0]);Qc(i,h,o),i[je]=e,i[Ue]=o}catch(Wl){ic(e,e.return,Wl)}}case 5:if(hl(t,e),ml(e),512&r&&(Za||null===n||Wa(n,n.return)),32&e.flags){i=e.stateNode;try{St(i,"")}catch(Wl){ic(e,e.return,Wl)}}4&r&&null!=e.stateNode&&Qa(e,i=e.memoizedProps,null!==n?n.memoizedProps:i),1024&r&&(el=!0);break;case 6:if(hl(t,e),ml(e),4&r){if(null===e.stateNode)throw Error(s(162));r=e.memoizedProps,n=e.stateNode;try{n.nodeValue=r}catch(Wl){ic(e,e.return,Wl)}}break;case 3:if(Id=null,i=fl,fl=fd(t.containerInfo),hl(t,e),fl=i,ml(e),4&r&&null!==n&&n.memoizedState.isDehydrated)try{gh(t.containerInfo)}catch(Wl){ic(e,e.return,Wl)}el&&(el=!1,gl(e));break;case 4:r=fl,fl=fd(e.stateNode.containerInfo),hl(t,e),ml(e),fl=r;break;case 12:hl(t,e),ml(e);break;case 13:hl(t,e),ml(e),8192&e.child.flags&&null!==e.memoizedState!==(null!==n&&null!==n.memoizedState)&&(bu=le()),4&r&&(null!==(r=e.updateQueue)&&(e.updateQueue=null,dl(e,r)));break;case 22:if(512&r&&(Za||null===n||Wa(n,n.return)),u=null!==e.memoizedState,c=null!==n&&null!==n.memoizedState,Xa=(d=Xa)||u,Za=(h=Za)||c,hl(t,e),Za=h,Xa=d,ml(e),(t=e.stateNode)._current=e,t._visibility&=-3,t._visibility|=2&t._pendingVisibility,8192&r&&(t._visibility=u?-2&t._visibility:1|t._visibility,u&&(t=Xa||Za,null===n||c||t||yl(e)),null===e.memoizedProps||"manual"!==e.memoizedProps.mode))e:for(n=null,t=e;;){if(5===t.tag||26===t.tag||27===t.tag){if(null===n){c=n=t;try{if(i=c.stateNode,u)"function"===typeof(o=i.style).setProperty?o.setProperty("display","none","important"):o.display="none";else{a=c.stateNode;var p=void 0!==(l=c.memoizedProps.style)&&null!==l&&l.hasOwnProperty("display")?l.display:null;a.style.display=null==p||"boolean"===typeof p?"":(""+p).trim()}}catch(Wl){ic(c,c.return,Wl)}}}else if(6===t.tag){if(null===n){c=t;try{c.stateNode.nodeValue=u?"":c.memoizedProps}catch(Wl){ic(c,c.return,Wl)}}}else if((22!==t.tag&&23!==t.tag||null===t.memoizedState||t===e)&&null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;null===t.sibling;){if(null===t.return||t.return===e)break e;n===t&&(n=null),t=t.return}n===t&&(n=null),t.sibling.return=t.return,t=t.sibling}4&r&&(null!==(r=e.updateQueue)&&(null!==(n=r.retryQueue)&&(r.retryQueue=null,dl(e,n))));break;case 19:hl(t,e),ml(e),4&r&&(null!==(r=e.updateQueue)&&(e.updateQueue=null,dl(e,r)));break;case 21:break;default:hl(t,e),ml(e)}}function ml(e){var t=e.flags;if(2&t){try{if(27!==e.tag){e:{for(var n=e.return;null!==n;){if(Ka(n)){var r=n;break e}n=n.return}throw Error(s(160))}switch(r.tag){case 27:var i=r.stateNode;Ja(e,Ya(e),i);break;case 5:var o=r.stateNode;32&r.flags&&(St(o,""),r.flags&=-33),Ja(e,Ya(e),o);break;case 3:case 4:var a=r.stateNode.containerInfo;Ga(e,Ya(e),a);break;default:throw Error(s(161))}}}catch(Wl){ic(e,e.return,Wl)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function gl(e){if(1024&e.subtreeFlags)for(e=e.child;null!==e;){var t=e;gl(t),5===t.tag&&1024&t.flags&&t.stateNode.reset(),e=e.sibling}}function vl(e,t){if(8772&t.subtreeFlags)for(t=t.child;null!==t;)il(e,t.alternate,t),t=t.sibling}function yl(e){for(e=e.child;null!==e;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:qa(4,t,t.return),yl(t);break;case 1:Wa(t,t.return);var n=t.stateNode;"function"===typeof n.componentWillUnmount&&$a(t,t.return,n),yl(t);break;case 26:case 27:case 5:Wa(t,t.return),yl(t);break;case 22:Wa(t,t.return),null===t.memoizedState&&yl(t);break;default:yl(t)}e=e.sibling}}function _l(e,t,n){for(n=n&&0!==(8772&t.subtreeFlags),t=t.child;null!==t;){var r=t.alternate,i=e,o=t,s=o.flags;switch(o.tag){case 0:case 11:case 15:_l(i,o,n),za(4,o);break;case 1:if(_l(i,o,n),"function"===typeof(i=(r=o).stateNode).componentDidMount)try{i.componentDidMount()}catch(Wl){ic(r,r.return,Wl)}if(null!==(i=(r=o).updateQueue)){var a=r.stateNode;try{var l=i.shared.hiddenCallbacks;if(null!==l)for(i.shared.hiddenCallbacks=null,i=0;i<l.length;i++)ja(l[i],a)}catch(Wl){ic(r,r.return,Wl)}}n&&64&s&&Ha(o),Va(o,o.return);break;case 26:case 27:case 5:_l(i,o,n),n&&null===r&&4&s&&Ba(o),Va(o,o.return);break;case 12:default:_l(i,o,n);break;case 13:_l(i,o,n),n&&4&s&&cl(i,o);break;case 22:null===o.memoizedState&&_l(i,o,n),Va(o,o.return)}t=t.sibling}}function bl(e,t){var n=null;null!==e&&null!==e.memoizedState&&null!==e.memoizedState.cachePool&&(n=e.memoizedState.cachePool.pool),e=null,null!==t.memoizedState&&null!==t.memoizedState.cachePool&&(e=t.memoizedState.cachePool.pool),e!==n&&(null!=e&&e.refCount++,null!=n&&qi(n))}function wl(e,t){e=null,null!==t.alternate&&(e=t.alternate.memoizedState.cache),(t=t.memoizedState.cache)!==e&&(t.refCount++,null!=e&&qi(e))}function Sl(e,t,n,r){if(10256&t.subtreeFlags)for(t=t.child;null!==t;)kl(e,t,n,r),t=t.sibling}function kl(e,t,n,r){var i=t.flags;switch(t.tag){case 0:case 11:case 15:Sl(e,t,n,r),2048&i&&za(9,t);break;case 3:Sl(e,t,n,r),2048&i&&(e=null,null!==t.alternate&&(e=t.alternate.memoizedState.cache),(t=t.memoizedState.cache)!==e&&(t.refCount++,null!=e&&qi(e)));break;case 12:if(2048&i){Sl(e,t,n,r),e=t.stateNode;try{var o=t.memoizedProps,s=o.id,a=o.onPostCommit;"function"===typeof a&&a(s,null===t.alternate?"mount":"update",e.passiveEffectDuration,-0)}catch(Wl){ic(t,t.return,Wl)}}else Sl(e,t,n,r);break;case 23:break;case 22:o=t.stateNode,null!==t.memoizedState?4&o._visibility?Sl(e,t,n,r):El(e,t):4&o._visibility?Sl(e,t,n,r):(o._visibility|=4,Cl(e,t,n,r,0!==(10256&t.subtreeFlags))),2048&i&&bl(t.alternate,t);break;case 24:Sl(e,t,n,r),2048&i&&wl(t.alternate,t);break;default:Sl(e,t,n,r)}}function Cl(e,t,n,r,i){for(i=i&&0!==(10256&t.subtreeFlags),t=t.child;null!==t;){var o=e,s=t,a=n,l=r,u=s.flags;switch(s.tag){case 0:case 11:case 15:Cl(o,s,a,l,i),za(8,s);break;case 23:break;case 22:var c=s.stateNode;null!==s.memoizedState?4&c._visibility?Cl(o,s,a,l,i):El(o,s):(c._visibility|=4,Cl(o,s,a,l,i)),i&&2048&u&&bl(s.alternate,s);break;case 24:Cl(o,s,a,l,i),i&&2048&u&&wl(s.alternate,s);break;default:Cl(o,s,a,l,i)}t=t.sibling}}function El(e,t){if(10256&t.subtreeFlags)for(t=t.child;null!==t;){var n=e,r=t,i=r.flags;switch(r.tag){case 22:El(n,r),2048&i&&bl(r.alternate,r);break;case 24:El(n,r),2048&i&&wl(r.alternate,r);break;default:El(n,r)}t=t.sibling}}var Tl=8192;function Il(e){if(e.subtreeFlags&Tl)for(e=e.child;null!==e;)xl(e),e=e.sibling}function xl(e){switch(e.tag){case 26:Il(e),e.flags&Tl&&null!==e.memoizedState&&function(e,t,n){if(null===Nd)throw Error(s(475));var r=Nd;if("stylesheet"===t.type&&("string"!==typeof n.media||!1!==matchMedia(n.media).matches)&&0===(4&t.state.loading)){if(null===t.instance){var i=yd(n.href),o=e.querySelector(_d(i));if(o)return null!==(e=o._p)&&"object"===typeof e&&"function"===typeof e.then&&(r.count++,r=Ad.bind(r),e.then(r,r)),t.state.loading|=4,t.instance=o,void Je(o);o=e.ownerDocument||e,n=bd(n),(i=dd.get(i))&&Ed(n,i),Je(o=o.createElement("link"));var a=o;a._p=new Promise((function(e,t){a.onload=e,a.onerror=t})),Qc(o,"link",n),t.instance=o}null===r.stylesheets&&(r.stylesheets=new Map),r.stylesheets.set(t,e),(e=t.state.preload)&&0===(3&t.state.loading)&&(r.count++,t=Ad.bind(r),e.addEventListener("load",t),e.addEventListener("error",t))}}(fl,e.memoizedState,e.memoizedProps);break;case 5:default:Il(e);break;case 3:case 4:var t=fl;fl=fd(e.stateNode.containerInfo),Il(e),fl=t;break;case 22:null===e.memoizedState&&(null!==(t=e.alternate)&&null!==t.memoizedState?(t=Tl,Tl=16777216,Il(e),Tl=t):Il(e))}}function Pl(e){var t=e.alternate;if(null!==t&&null!==(e=t.child)){t.child=null;do{t=e.sibling,e.sibling=null,e=t}while(null!==e)}}function Rl(e){var t=e.deletions;if(0!==(16&e.flags)){if(null!==t)for(var n=0;n<t.length;n++){var r=t[n];nl=r,Al(r,e)}Pl(e)}if(10256&e.subtreeFlags)for(e=e.child;null!==e;)Nl(e),e=e.sibling}function Nl(e){switch(e.tag){case 0:case 11:case 15:Rl(e),2048&e.flags&&qa(9,e,e.return);break;case 3:case 12:default:Rl(e);break;case 22:var t=e.stateNode;null!==e.memoizedState&&4&t._visibility&&(null===e.return||13!==e.return.tag)?(t._visibility&=-5,Ol(e)):Rl(e)}}function Ol(e){var t=e.deletions;if(0!==(16&e.flags)){if(null!==t)for(var n=0;n<t.length;n++){var r=t[n];nl=r,Al(r,e)}Pl(e)}for(e=e.child;null!==e;){switch((t=e).tag){case 0:case 11:case 15:qa(8,t,t.return),Ol(t);break;case 22:4&(n=t.stateNode)._visibility&&(n._visibility&=-5,Ol(t));break;default:Ol(t)}e=e.sibling}}function Al(e,t){for(;null!==nl;){var n=nl;switch(n.tag){case 0:case 11:case 15:qa(8,n,t);break;case 23:case 22:if(null!==n.memoizedState&&null!==n.memoizedState.cachePool){var r=n.memoizedState.cachePool.pool;null!=r&&r.refCount++}break;case 24:qi(n.memoizedState.cache)}if(null!==(r=n.child))r.return=n,nl=r;else e:for(n=e;null!==nl;){var i=(r=nl).sibling,o=r.return;if(ol(r),r===n){nl=null;break e}if(null!==i){i.return=o,nl=i;break e}nl=o}}}function Dl(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ll(e,t,n,r){return new Dl(e,t,n,r)}function Ml(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Fl(e,t){var n=e.alternate;return null===n?((n=Ll(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=31457280&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n.refCleanup=e.refCleanup,n}function jl(e,t){e.flags&=31457282;var n=e.alternate;return null===n?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=n.childLanes,e.lanes=n.lanes,e.child=n.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=n.memoizedProps,e.memoizedState=n.memoizedState,e.updateQueue=n.updateQueue,e.type=n.type,t=n.dependencies,e.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function Ul(e,t,n,r,i,o){var a=0;if(r=e,"function"===typeof e)Ml(e)&&(a=1);else if("string"===typeof e)a=function(e,t,n){if(1===n||null!=t.itemProp)return!1;switch(e){case"meta":case"title":return!0;case"style":if("string"!==typeof t.precedence||"string"!==typeof t.href||""===t.href)break;return!0;case"link":if("string"!==typeof t.rel||"string"!==typeof t.href||""===t.href||t.onLoad||t.onError)break;return"stylesheet"!==t.rel||(e=t.disabled,"string"===typeof t.precedence&&null==e);case"script":if(t.async&&"function"!==typeof t.async&&"symbol"!==typeof t.async&&!t.onLoad&&!t.onError&&t.src&&"string"===typeof t.src)return!0}return!1}(e,n,Y.current)?26:"html"===e||"head"===e||"body"===e?27:5;else e:switch(e){case d:return zl(n.children,i,o,t);case h:a=8,i|=24;break;case f:return(e=Ll(12,n,t,2|i)).elementType=f,e.lanes=o,e;case y:return(e=Ll(13,n,t,i)).elementType=y,e.lanes=o,e;case _:return(e=Ll(19,n,t,i)).elementType=_,e.lanes=o,e;case S:return ql(n,i,o,t);default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case p:case g:a=10;break e;case m:a=9;break e;case v:a=11;break e;case b:a=14;break e;case w:a=16,r=null;break e}a=29,n=Error(s(130,null===e?"null":typeof e,"")),r=null}return(t=Ll(a,n,t,i)).elementType=e,t.type=r,t.lanes=o,t}function zl(e,t,n,r){return(e=Ll(7,e,r,t)).lanes=n,e}function ql(e,t,n,r){(e=Ll(22,e,r,t)).elementType=S,e.lanes=n;var i={_visibility:1,_pendingVisibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null,_current:null,detach:function(){var e=i._current;if(null===e)throw Error(s(456));if(0===(2&i._pendingVisibility)){var t=Pr(e,2);null!==t&&(i._pendingVisibility|=2,Au(t,e,2))}},attach:function(){var e=i._current;if(null===e)throw Error(s(456));if(0!==(2&i._pendingVisibility)){var t=Pr(e,2);null!==t&&(i._pendingVisibility&=-3,Au(t,e,2))}}};return e.stateNode=i,e}function Hl(e,t,n){return(e=Ll(6,e,null,t)).lanes=n,e}function $l(e,t,n){return(t=Ll(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Vl(e){e.flags|=4}function Bl(e,t){if("stylesheet"!==t.type||0!==(4&t.state.loading))e.flags&=-16777217;else if(e.flags|=16777216,!Rd(t)){if(null!==(t=xi.current)&&((4194176&iu)===iu?null!==Pi:(62914560&iu)!==iu&&0===(536870912&iu)||t!==Pi))throw hi=li,ai;e.flags|=8192}}function Ql(e,t){null!==t&&(e.flags|=4),16384&e.flags&&(t=22!==e.tag?Re():536870912,e.lanes|=t,gu|=t)}function Kl(e,t){if(!Gr)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Yl(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=31457280&i.subtreeFlags,r|=31457280&i.flags,i.return=e,i=i.sibling;else for(i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Gl(e,t,n){var r=t.pendingProps;switch(Qr(t),t.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:case 1:return Yl(t),null;case 3:return n=t.stateNode,r=null,null!==e&&(r=e.memoizedState.cache),t.memoizedState.cache!==r&&(t.flags|=2048),_a(Ui),ee(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),null!==e&&null!==e.child||(ri(t)?Vl(t):null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,null!==Jr&&(Lu(Jr),Jr=null))),Yl(t),null;case 26:return n=t.memoizedState,null===e?(Vl(t),null!==n?(Yl(t),Bl(t,n)):(Yl(t),t.flags&=-16777217)):n?n!==e.memoizedState?(Vl(t),Yl(t),Bl(t,n)):(Yl(t),t.flags&=-16777217):(e.memoizedProps!==r&&Vl(t),Yl(t),t.flags&=-16777217),null;case 27:ne(t),n=J.current;var i=t.type;if(null!==e&&null!=t.stateNode)e.memoizedProps!==r&&Vl(t);else{if(!r){if(null===t.stateNode)throw Error(s(166));return Yl(t),null}e=Y.current,ri(t)?ti(t):(e=cd(i,r,n),t.stateNode=e,Vl(t))}return Yl(t),null;case 5:if(ne(t),n=t.type,null!==e&&null!=t.stateNode)e.memoizedProps!==r&&Vl(t);else{if(!r){if(null===t.stateNode)throw Error(s(166));return Yl(t),null}if(e=Y.current,ri(t))ti(t);else{switch(i=Gc(J.current),e){case 1:e=i.createElementNS("http://www.w3.org/2000/svg",n);break;case 2:e=i.createElementNS("http://www.w3.org/1998/Math/MathML",n);break;default:switch(n){case"svg":e=i.createElementNS("http://www.w3.org/2000/svg",n);break;case"math":e=i.createElementNS("http://www.w3.org/1998/Math/MathML",n);break;case"script":(e=i.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild);break;case"select":e="string"===typeof r.is?i.createElement("select",{is:r.is}):i.createElement("select"),r.multiple?e.multiple=!0:r.size&&(e.size=r.size);break;default:e="string"===typeof r.is?i.createElement(n,{is:r.is}):i.createElement(n)}}e[je]=t,e[Ue]=r;e:for(i=t.child;null!==i;){if(5===i.tag||6===i.tag)e.appendChild(i.stateNode);else if(4!==i.tag&&27!==i.tag&&null!==i.child){i.child.return=i,i=i.child;continue}if(i===t)break e;for(;null===i.sibling;){if(null===i.return||i.return===t)break e;i=i.return}i.sibling.return=i.return,i=i.sibling}t.stateNode=e;e:switch(Qc(e,n,r),n){case"button":case"input":case"select":case"textarea":e=!!r.autoFocus;break e;case"img":e=!0;break e;default:e=!1}e&&Vl(t)}}return Yl(t),t.flags&=-16777217,null;case 6:if(e&&null!=t.stateNode)e.memoizedProps!==r&&Vl(t);else{if("string"!==typeof r&&null===t.stateNode)throw Error(s(166));if(e=J.current,ri(t)){if(e=t.stateNode,n=t.memoizedProps,r=null,null!==(i=Kr))switch(i.tag){case 27:case 5:r=i.memoizedProps}e[je]=t,(e=!!(e.nodeValue===n||null!==r&&!0===r.suppressHydrationWarning||$c(e.nodeValue,n)))||ei(t)}else(e=Gc(e).createTextNode(r))[je]=t,t.stateNode=e}return Yl(t),null;case 13:if(r=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(i=ri(t),null!==r&&null!==r.dehydrated){if(null===e){if(!i)throw Error(s(318));if(!(i=null!==(i=t.memoizedState)?i.dehydrated:null))throw Error(s(317));i[je]=t}else ii(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;Yl(t),i=!1}else null!==Jr&&(Lu(Jr),Jr=null),i=!0;if(!i)return 256&t.flags?(Ai(t),t):(Ai(t),null)}if(Ai(t),0!==(128&t.flags))return t.lanes=n,t;if(n=null!==r,e=null!==e&&null!==e.memoizedState,n){i=null,null!==(r=t.child).alternate&&null!==r.alternate.memoizedState&&null!==r.alternate.memoizedState.cachePool&&(i=r.alternate.memoizedState.cachePool.pool);var o=null;null!==r.memoizedState&&null!==r.memoizedState.cachePool&&(o=r.memoizedState.cachePool.pool),o!==i&&(r.flags|=2048)}return n!==e&&n&&(t.child.flags|=8192),Ql(t,t.updateQueue),Yl(t),null;case 4:return ee(),null===e&&Ac(t.stateNode.containerInfo),Yl(t),null;case 10:return _a(t.type),Yl(t),null;case 19:if(Q(Di),null===(i=t.memoizedState))return Yl(t),null;if(r=0!==(128&t.flags),null===(o=i.rendering))if(r)Kl(i,!1);else{if(0!==du||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(o=Li(e))){for(t.flags|=128,Kl(i,!1),e=o.updateQueue,t.updateQueue=e,Ql(t,e),t.subtreeFlags=0,e=n,n=t.child;null!==n;)jl(n,e),n=n.sibling;return K(Di,1&Di.current|2),t.child}e=e.sibling}null!==i.tail&&le()>wu&&(t.flags|=128,r=!0,Kl(i,!1),t.lanes=4194304)}else{if(!r)if(null!==(e=Li(o))){if(t.flags|=128,r=!0,e=e.updateQueue,t.updateQueue=e,Ql(t,e),Kl(i,!0),null===i.tail&&"hidden"===i.tailMode&&!o.alternate&&!Gr)return Yl(t),null}else 2*le()-i.renderingStartTime>wu&&536870912!==n&&(t.flags|=128,r=!0,Kl(i,!1),t.lanes=4194304);i.isBackwards?(o.sibling=t.child,t.child=o):(null!==(e=i.last)?e.sibling=o:t.child=o,i.last=o)}return null!==i.tail?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=le(),t.sibling=null,e=Di.current,K(Di,r?1&e|2:1&e),t):(Yl(t),null);case 22:case 23:return Ai(t),Ii(),r=null!==t.memoizedState,null!==e?null!==e.memoizedState!==r&&(t.flags|=8192):r&&(t.flags|=8192),r?0!==(536870912&n)&&0===(128&t.flags)&&(Yl(t),6&t.subtreeFlags&&(t.flags|=8192)):Yl(t),null!==(n=t.updateQueue)&&Ql(t,n.retryQueue),n=null,null!==e&&null!==e.memoizedState&&null!==e.memoizedState.cachePool&&(n=e.memoizedState.cachePool.pool),r=null,null!==t.memoizedState&&null!==t.memoizedState.cachePool&&(r=t.memoizedState.cachePool.pool),r!==n&&(t.flags|=2048),null!==e&&Q(Ki),null;case 24:return n=null,null!==e&&(n=e.memoizedState.cache),t.memoizedState.cache!==n&&(t.flags|=2048),_a(Ui),Yl(t),null;case 25:return null}throw Error(s(156,t.tag))}function Jl(e,t){switch(Qr(t),t.tag){case 1:return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return _a(Ui),ee(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 26:case 27:case 5:return ne(t),null;case 13:if(Ai(t),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(s(340));ii()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return Q(Di),null;case 4:return ee(),null;case 10:return _a(t.type),null;case 22:case 23:return Ai(t),Ii(),null!==e&&Q(Ki),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 24:return _a(Ui),null;default:return null}}function Xl(e,t){switch(Qr(t),t.tag){case 3:_a(Ui),ee();break;case 26:case 27:case 5:ne(t);break;case 4:ee();break;case 13:Ai(t);break;case 19:Q(Di);break;case 10:_a(t.type);break;case 22:case 23:Ai(t),Ii(),null!==e&&Q(Ki);break;case 24:_a(Ui)}}var Zl={getCacheForType:function(e){var t=Ea(Ui),n=t.data.get(e);return void 0===n&&(n=e(),t.data.set(e,n)),n}},eu="function"===typeof WeakMap?WeakMap:Map,tu=0,nu=null,ru=null,iu=0,ou=0,su=null,au=!1,lu=!1,uu=!1,cu=0,du=0,hu=0,fu=0,pu=0,mu=0,gu=0,vu=null,yu=null,_u=!1,bu=0,wu=1/0,Su=null,ku=null,Cu=!1,Eu=null,Tu=0,Iu=0,xu=null,Pu=0,Ru=null;function Nu(){if(0!==(2&tu)&&0!==iu)return iu&-iu;if(null!==R.T){return 0!==Vi?Vi:Sc()}return Me()}function Ou(){0===mu&&(mu=0===(536870912&iu)||Gr?Pe():536870912);var e=xi.current;return null!==e&&(e.flags|=32),mu}function Au(e,t,n){(e===nu&&2===ou||null!==e.cancelPendingCommit)&&(qu(e,0),ju(e,iu,mu,!1)),Oe(e,n),0!==(2&tu)&&e===nu||(e===nu&&(0===(2&tu)&&(fu|=n),4===du&&ju(e,iu,mu,!1)),gc(e))}function Du(e,t,n){if(0!==(6&tu))throw Error(s(327));for(var r=!n&&0===(60&t)&&0===(t&e.expiredLanes)||Ie(e,t),i=r?function(e,t){var n=tu;tu|=2;var r=$u(),i=Vu();nu!==e||iu!==t?(Su=null,wu=le()+500,qu(e,t)):lu=Ie(e,t);e:for(;;)try{if(0!==ou&&null!==ru){t=ru;var o=su;t:switch(ou){case 1:ou=0,su=null,Ju(e,t,o,1);break;case 2:if(ui(o)){ou=0,su=null,Gu(t);break}t=function(){2===ou&&nu===e&&(ou=7),gc(e)},o.then(t,t);break e;case 3:ou=7;break e;case 4:ou=5;break e;case 7:ui(o)?(ou=0,su=null,Gu(t)):(ou=0,su=null,Ju(e,t,o,7));break;case 5:var a=null;switch(ru.tag){case 26:a=ru.memoizedState;case 5:case 27:var l=ru;if(!a||Rd(a)){ou=0,su=null;var u=l.sibling;if(null!==u)ru=u;else{var c=l.return;null!==c?(ru=c,Xu(c)):ru=null}break t}}ou=0,su=null,Ju(e,t,o,5);break;case 6:ou=0,su=null,Ju(e,t,o,6);break;case 8:zu(),du=6;break e;default:throw Error(s(462))}}Ku();break}catch(d){Hu(e,d)}return va=ga=null,R.H=r,R.A=i,tu=n,null!==ru?0:(nu=null,iu=0,Tr(),du)}(e,t):Bu(e,t,!0),o=r;;){if(0===i){lu&&!r&&ju(e,t,0,!1);break}if(6===i)ju(e,t,0,!au);else{if(n=e.current.alternate,o&&!Fu(n)){i=Bu(e,t,!1),o=!1;continue}if(2===i){if(o=t,e.errorRecoveryDisabledLanes&o)var a=0;else a=0!==(a=-536870913&e.pendingLanes)?a:536870912&a?536870912:0;if(0!==a){t=a;e:{var l=e;i=vu;var u=l.current.memoizedState.isDehydrated;if(u&&(qu(l,a).flags|=256),2!==(a=Bu(l,a,!1))){if(uu&&!u){l.errorRecoveryDisabledLanes|=o,fu|=o,i=4;break e}o=yu,yu=i,null!==o&&Lu(o)}i=a}if(o=!1,2!==i)continue}}if(1===i){qu(e,0),ju(e,t,0,!0);break}e:{switch(r=e,i){case 0:case 1:throw Error(s(345));case 4:if((4194176&t)===t){ju(r,t,mu,!au);break e}break;case 2:yu=null;break;case 3:case 5:break;default:throw Error(s(329))}if(r.finishedWork=n,r.finishedLanes=t,(62914560&t)===t&&10<(o=bu+300-le())){if(ju(r,t,mu,!au),0!==Te(r,0))break e;r.timeoutHandle=td(Mu.bind(null,r,n,yu,Su,_u,t,mu,fu,gu,au,2,-0,0),o)}else Mu(r,n,yu,Su,_u,t,mu,fu,gu,au,0,-0,0)}}break}gc(e)}function Lu(e){null===yu?yu=e:yu.push.apply(yu,e)}function Mu(e,t,n,r,i,o,a,l,u,c,d,h,f){var p=t.subtreeFlags;if((8192&p||16785408===(16785408&p))&&(Nd={stylesheets:null,count:0,unsuspend:Od},xl(t),null!==(t=function(){if(null===Nd)throw Error(s(475));var e=Nd;return e.stylesheets&&0===e.count&&Ld(e,e.stylesheets),0<e.count?function(t){var n=setTimeout((function(){if(e.stylesheets&&Ld(e,e.stylesheets),e.unsuspend){var t=e.unsuspend;e.unsuspend=null,t()}}),6e4);return e.unsuspend=t,function(){e.unsuspend=null,clearTimeout(n)}}:null}())))return e.cancelPendingCommit=t(ec.bind(null,e,n,r,i,a,l,u,1,h,f)),void ju(e,o,a,!c);ec(e,n,r,i,a,l,u,d,h,f)}function Fu(e){for(var t=e;;){var n=t.tag;if((0===n||11===n||15===n)&&16384&t.flags&&(null!==(n=t.updateQueue)&&null!==(n=n.stores)))for(var r=0;r<n.length;r++){var i=n[r],o=i.getSnapshot;i=i.value;try{if(!Kn(o(),i))return!1}catch(Wl){return!1}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function ju(e,t,n,r){t&=~pu,t&=~fu,e.suspendedLanes|=t,e.pingedLanes&=~t,r&&(e.warmLanes|=t),r=e.expirationTimes;for(var i=t;0<i;){var o=31-be(i),s=1<<o;r[o]=-1,i&=~s}0!==n&&Ae(e,n,t)}function Uu(){return 0!==(6&tu)||(vc(0,!1),!1)}function zu(){if(null!==ru){if(0===ou)var e=ru.return;else va=ga=null,yo(e=ru),pi=null,mi=0,e=ru;for(;null!==e;)Xl(e.alternate,e),e=e.return;ru=null}}function qu(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;-1!==n&&(e.timeoutHandle=-1,nd(n)),null!==(n=e.cancelPendingCommit)&&(e.cancelPendingCommit=null,n()),zu(),nu=e,ru=n=Fl(e.current,null),iu=t,ou=0,su=null,au=!1,lu=Ie(e,t),uu=!1,gu=mu=pu=fu=hu=du=0,yu=vu=null,_u=!1,0!==(8&t)&&(t|=32&t);var r=e.entangledLanes;if(0!==r)for(e=e.entanglements,r&=t;0<r;){var i=31-be(r),o=1<<i;t|=e[i],r&=~o}return cu=t,Tr(),n}function Hu(e,t){Zi=null,R.H=Es,t===si?(t=fi(),ou=3):t===ai?(t=fi(),ou=4):ou=t===$s?8:null!==t&&"object"===typeof t&&"function"===typeof t.then?6:1,su=t,null===ru&&(du=1,js(e,Dr(t,e.current)))}function $u(){var e=R.H;return R.H=Es,null===e?Es:e}function Vu(){var e=R.A;return R.A=Zl,e}function Wu(){du=4,au||(4194176&iu)!==iu&&null!==xi.current||(lu=!0),0===(134217727&hu)&&0===(134217727&fu)||null===nu||ju(nu,iu,mu,!1)}function Bu(e,t,n){var r=tu;tu|=2;var i=$u(),o=Vu();nu===e&&iu===t||(Su=null,qu(e,t)),t=!1;var s=du;e:for(;;)try{if(0!==ou&&null!==ru){var a=ru,l=su;switch(ou){case 8:zu(),s=6;break e;case 3:case 2:case 6:null===xi.current&&(t=!0);var u=ou;if(ou=0,su=null,Ju(e,a,l,u),n&&lu){s=0;break e}break;default:u=ou,ou=0,su=null,Ju(e,a,l,u)}}Qu(),s=du;break}catch(c){Hu(e,c)}return t&&e.shellSuspendCounter++,va=ga=null,tu=r,R.H=i,R.A=o,null===ru&&(nu=null,iu=0,Tr()),s}function Qu(){for(;null!==ru;)Yu(ru)}function Ku(){for(;null!==ru&&!se();)Yu(ru)}function Yu(e){var t=pa(e.alternate,e,cu);e.memoizedProps=e.pendingProps,null===t?Xu(e):ru=t}function Gu(e){var t=e,n=t.alternate;switch(t.tag){case 15:case 0:t=Zs(n,t,t.pendingProps,t.type,void 0,iu);break;case 11:t=Zs(n,t,t.pendingProps,t.type.render,t.ref,iu);break;case 5:yo(t);default:Xl(n,t),t=pa(n,t=ru=jl(t,cu),cu)}e.memoizedProps=e.pendingProps,null===t?Xu(e):ru=t}function Ju(e,t,n,r){va=ga=null,yo(t),pi=null,mi=0;var i=t.return;try{if(function(e,t,n,r,i){if(n.flags|=32768,null!==r&&"object"===typeof r&&"function"===typeof r.then){if(null!==(t=n.alternate)&&Sa(t,n,i,!0),null!==(n=xi.current)){switch(n.tag){case 13:return null===Pi?Wu():null===n.alternate&&0===du&&(du=3),n.flags&=-257,n.flags|=65536,n.lanes=i,r===li?n.flags|=16384:(null===(t=n.updateQueue)?n.updateQueue=new Set([r]):t.add(r),oc(e,r,i)),!1;case 22:return n.flags|=65536,r===li?n.flags|=16384:(null===(t=n.updateQueue)?(t={transitions:null,markerInstances:null,retryQueue:new Set([r])},n.updateQueue=t):null===(n=t.retryQueue)?t.retryQueue=new Set([r]):n.add(r),oc(e,r,i)),!1}throw Error(s(435,n.tag))}return oc(e,r,i),Wu(),!1}if(Gr)return null!==(t=xi.current)?(0===(65536&t.flags)&&(t.flags|=256),t.flags|=65536,t.lanes=i,r!==Zr&&oi(Dr(e=Error(s(422),{cause:r}),n))):(r!==Zr&&oi(Dr(t=Error(s(423),{cause:r}),n)),(e=e.current.alternate).flags|=65536,i&=-i,e.lanes|=i,r=Dr(r,n),Da(e,i=zs(e.stateNode,r,i)),4!==du&&(du=2)),!1;var o=Error(s(520),{cause:r});if(o=Dr(o,n),null===vu?vu=[o]:vu.push(o),4!==du&&(du=2),null===t)return!0;r=Dr(r,n),n=t;do{switch(n.tag){case 3:return n.flags|=65536,e=i&-i,n.lanes|=e,Da(n,e=zs(n.stateNode,r,e)),!1;case 1:if(t=n.type,o=n.stateNode,0===(128&n.flags)&&("function"===typeof t.getDerivedStateFromError||null!==o&&"function"===typeof o.componentDidCatch&&(null===ku||!ku.has(o))))return n.flags|=65536,i&=-i,n.lanes|=i,Hs(i=qs(i),e,n,r),Da(n,i),!1}n=n.return}while(null!==n);return!1}(e,i,t,n,iu))return du=1,js(e,Dr(n,e.current)),void(ru=null)}catch(Wl){if(null!==i)throw ru=i,Wl;return du=1,js(e,Dr(n,e.current)),void(ru=null)}32768&t.flags?(Gr||1===r?e=!0:lu||0!==(536870912&iu)?e=!1:(au=e=!0,(2===r||3===r||6===r)&&(null!==(r=xi.current)&&13===r.tag&&(r.flags|=16384))),Zu(t,e)):Xu(t)}function Xu(e){var t=e;do{if(0!==(32768&t.flags))return void Zu(t,au);e=t.return;var n=Gl(t.alternate,t,cu);if(null!==n)return void(ru=n);if(null!==(t=t.sibling))return void(ru=t);ru=t=e}while(null!==t);0===du&&(du=5)}function Zu(e,t){do{var n=Jl(e.alternate,e);if(null!==n)return n.flags&=32767,void(ru=n);if(null!==(n=e.return)&&(n.flags|=32768,n.subtreeFlags=0,n.deletions=null),!t&&null!==(e=e.sibling))return void(ru=e);ru=e=n}while(null!==e);du=6,ru=null}function ec(e,t,n,r,i,o,a,l,u,c){var d=R.T,h=H.p;try{H.p=2,R.T=null,function(e,t,n,r,i,o,a,l){do{nc()}while(null!==Eu);if(0!==(6&tu))throw Error(s(327));var u=e.finishedWork;if(r=e.finishedLanes,null===u)return null;if(e.finishedWork=null,e.finishedLanes=0,u===e.current)throw Error(s(177));e.callbackNode=null,e.callbackPriority=0,e.cancelPendingCommit=null;var c=u.lanes|u.childLanes;if(function(e,t,n,r,i,o){var s=e.pendingLanes;e.pendingLanes=n,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=n,e.entangledLanes&=n,e.errorRecoveryDisabledLanes&=n,e.shellSuspendCounter=0;var a=e.entanglements,l=e.expirationTimes,u=e.hiddenUpdates;for(n=s&~n;0<n;){var c=31-be(n),d=1<<c;a[c]=0,l[c]=-1;var h=u[c];if(null!==h)for(u[c]=null,c=0;c<h.length;c++){var f=h[c];null!==f&&(f.lane&=-536870913)}n&=~d}0!==r&&Ae(e,r,0),0!==o&&0===i&&0!==e.tag&&(e.suspendedLanes|=o&~(s&~t))}(e,r,c|=Er,o,a,l),e===nu&&(ru=nu=null,iu=0),0===(10256&u.subtreeFlags)&&0===(10256&u.flags)||Cu||(Cu=!0,Iu=c,xu=n,function(e,t){ie(e,t)}(he,(function(){return nc(),null}))),n=0!==(15990&u.flags),0!==(15990&u.subtreeFlags)||n?(n=R.T,R.T=null,o=H.p,H.p=2,a=tu,tu|=4,function(e,t){if(e=e.containerInfo,Kc=Wd,er(e=Zn(e))){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var i=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch(g){n=null;break e}var a=0,l=-1,u=-1,c=0,d=0,h=e,f=null;t:for(;;){for(var p;h!==n||0!==i&&3!==h.nodeType||(l=a+i),h!==o||0!==r&&3!==h.nodeType||(u=a+r),3===h.nodeType&&(a+=h.nodeValue.length),null!==(p=h.firstChild);)f=h,h=p;for(;;){if(h===e)break t;if(f===n&&++c===i&&(l=a),f===o&&++d===r&&(u=a),null!==(p=h.nextSibling))break;f=(h=f).parentNode}h=p}n=-1===l||-1===u?null:{start:l,end:u}}else n=null}n=n||{start:0,end:0}}else n=null;for(Yc={focusedElem:e,selectionRange:n},Wd=!1,nl=t;null!==nl;)if(e=(t=nl).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,nl=e;else for(;null!==nl;){switch(o=(t=nl).alternate,e=t.flags,t.tag){case 0:case 11:case 15:case 5:case 26:case 27:case 6:case 4:case 17:break;case 1:if(0!==(1024&e)&&null!==o){e=void 0,n=t,i=o.memoizedProps,o=o.memoizedState,r=n.stateNode;try{var m=As(n.type,i,(n.elementType,n.type));e=r.getSnapshotBeforeUpdate(m,o),r.__reactInternalSnapshotBeforeUpdate=e}catch(Wl){ic(n,n.return,Wl)}}break;case 3:if(0!==(1024&e))if(9===(n=(e=t.stateNode.containerInfo).nodeType))ad(e);else if(1===n)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":ad(e);break;default:e.textContent=""}break;default:if(0!==(1024&e))throw Error(s(163))}if(null!==(e=t.sibling)){e.return=t.return,nl=e;break}nl=t.return}m=rl,rl=!1}(e,u),pl(u,e),tr(Yc,e.containerInfo),Wd=!!Kc,Yc=Kc=null,e.current=u,il(e,u.alternate,u),ae(),tu=a,H.p=o,R.T=n):e.current=u,Cu?(Cu=!1,Eu=e,Tu=r):tc(e,c),c=e.pendingLanes,0===c&&(ku=null),function(e){if(ye&&"function"===typeof ye.onCommitFiberRoot)try{ye.onCommitFiberRoot(ve,e,void 0,128===(128&e.current.flags))}catch(t){}}(u.stateNode),gc(e),null!==t)for(i=e.onRecoverableError,u=0;u<t.length;u++)c=t[u],i(c.value,{componentStack:c.stack});0!==(3&Tu)&&nc(),c=e.pendingLanes,0!==(4194218&r)&&0!==(42&c)?e===Ru?Pu++:(Pu=0,Ru=e):Pu=0,vc(0,!1)}(e,t,n,r,h,i,o,a)}finally{R.T=d,H.p=h}}function tc(e,t){0===(e.pooledCacheLanes&=t)&&(null!=(t=e.pooledCache)&&(e.pooledCache=null,qi(t)))}function nc(){if(null!==Eu){var e=Eu,t=Iu;Iu=0;var n=Le(Tu),r=R.T,i=H.p;try{if(H.p=32>n?32:n,R.T=null,null===Eu)var o=!1;else{n=xu,xu=null;var a=Eu,l=Tu;if(Eu=null,Tu=0,0!==(6&tu))throw Error(s(331));var u=tu;if(tu|=4,Nl(a.current),kl(a,a.current,l,n),tu=u,vc(0,!1),ye&&"function"===typeof ye.onPostCommitFiberRoot)try{ye.onPostCommitFiberRoot(ve,a)}catch(c){}o=!0}return o}finally{H.p=i,R.T=r,tc(e,t)}}return!1}function rc(e,t,n){t=Dr(n,t),null!==(e=Oa(e,t=zs(e.stateNode,t,2),2))&&(Oe(e,2),gc(e))}function ic(e,t,n){if(3===e.tag)rc(e,e,n);else for(;null!==t;){if(3===t.tag){rc(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===ku||!ku.has(r))){e=Dr(n,e),null!==(r=Oa(t,n=qs(2),2))&&(Hs(n,r,t,e),Oe(r,2),gc(r));break}}t=t.return}}function oc(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new eu;var i=new Set;r.set(t,i)}else void 0===(i=r.get(t))&&(i=new Set,r.set(t,i));i.has(n)||(uu=!0,i.add(n),e=sc.bind(null,e,t,n),t.then(e,e))}function sc(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),e.pingedLanes|=e.suspendedLanes&n,e.warmLanes&=~n,nu===e&&(iu&n)===n&&(4===du||3===du&&(62914560&iu)===iu&&300>le()-bu?0===(2&tu)&&qu(e,0):pu|=n,gu===iu&&(gu=0)),gc(e)}function ac(e,t){0===t&&(t=Re()),null!==(e=Pr(e,t))&&(Oe(e,t),gc(e))}function lc(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),ac(e,n)}function uc(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;null!==i&&(n=i.retryLane);break;case 19:r=e.stateNode;break;case 22:r=e.stateNode._retryCache;break;default:throw Error(s(314))}null!==r&&r.delete(t),ac(e,n)}var cc=null,dc=null,hc=!1,fc=!1,pc=!1,mc=0;function gc(e){var t;e!==dc&&null===e.next&&(null===dc?cc=dc=e:dc=dc.next=e),fc=!0,hc||(hc=!0,t=yc,id((function(){0!==(6&tu)?ie(ce,t):t()})))}function vc(e,t){if(!pc&&fc){pc=!0;do{for(var n=!1,r=cc;null!==r;){if(!t)if(0!==e){var i=r.pendingLanes;if(0===i)var o=0;else{var s=r.suspendedLanes,a=r.pingedLanes;o=(1<<31-be(42|e)+1)-1,o=201326677&(o&=i&~(s&~a))?201326677&o|1:o?2|o:0}0!==o&&(n=!0,wc(r,o))}else o=iu,0===(3&(o=Te(r,r===nu?o:0)))||Ie(r,o)||(n=!0,wc(r,o));r=r.next}}while(n);pc=!1}}function yc(){fc=hc=!1;var e=0;0!==mc&&(function(){var e=window.event;if(e&&"popstate"===e.type)return e!==ed&&(ed=e,!0);return ed=null,!1}()&&(e=mc),mc=0);for(var t=le(),n=null,r=cc;null!==r;){var i=r.next,o=_c(r,t);0===o?(r.next=null,null===n?cc=i:n.next=i,null===i&&(dc=n)):(n=r,(0!==e||0!==(3&o))&&(fc=!0)),r=i}vc(e,!1)}function _c(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,o=-62914561&e.pendingLanes;0<o;){var s=31-be(o),a=1<<s,l=i[s];-1===l?0!==(a&n)&&0===(a&r)||(i[s]=xe(a,t)):l<=t&&(e.expiredLanes|=a),o&=~a}if(n=iu,n=Te(e,e===(t=nu)?n:0),r=e.callbackNode,0===n||e===t&&2===ou||null!==e.cancelPendingCommit)return null!==r&&null!==r&&oe(r),e.callbackNode=null,e.callbackPriority=0;if(0===(3&n)||Ie(e,n)){if((t=n&-n)===e.callbackPriority)return t;switch(null!==r&&oe(r),Le(n)){case 2:case 8:n=de;break;case 32:default:n=he;break;case 268435456:n=pe}return r=bc.bind(null,e),n=ie(n,r),e.callbackPriority=t,e.callbackNode=n,t}return null!==r&&null!==r&&oe(r),e.callbackPriority=2,e.callbackNode=null,2}function bc(e,t){var n=e.callbackNode;if(nc()&&e.callbackNode!==n)return null;var r=iu;return 0===(r=Te(e,e===nu?r:0))?null:(Du(e,r,t),_c(e,le()),null!=e.callbackNode&&e.callbackNode===n?bc.bind(null,e):null)}function wc(e,t){if(nc())return null;Du(e,t,!0)}function Sc(){return 0===mc&&(mc=Pe()),mc}function kc(e){return null==e||"symbol"===typeof e||"boolean"===typeof e?null:"function"===typeof e?e:Pt(""+e)}function Cc(e,t){var n=t.ownerDocument.createElement("input");return n.name=t.name,n.value=t.value,e.id&&n.setAttribute("form",e.id),t.parentNode.insertBefore(n,t),e=new FormData(e),n.parentNode.removeChild(n),e}for(var Ec=0;Ec<wr.length;Ec++){var Tc=wr[Ec];Sr(Tc.toLowerCase(),"on"+(Tc[0].toUpperCase()+Tc.slice(1)))}Sr(fr,"onAnimationEnd"),Sr(pr,"onAnimationIteration"),Sr(mr,"onAnimationStart"),Sr("dblclick","onDoubleClick"),Sr("focusin","onFocus"),Sr("focusout","onBlur"),Sr(gr,"onTransitionRun"),Sr(vr,"onTransitionStart"),Sr(yr,"onTransitionCancel"),Sr(_r,"onTransitionEnd"),tt("onMouseEnter",["mouseout","mouseover"]),tt("onMouseLeave",["mouseout","mouseover"]),tt("onPointerEnter",["pointerout","pointerover"]),tt("onPointerLeave",["pointerout","pointerover"]),et("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),et("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),et("onBeforeInput",["compositionend","keypress","textInput","paste"]),et("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),et("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),et("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ic="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),xc=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Ic));function Pc(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var o=void 0;if(t)for(var s=r.length-1;0<=s;s--){var a=r[s],l=a.instance,u=a.currentTarget;if(a=a.listener,l!==o&&i.isPropagationStopped())break e;o=a,i.currentTarget=u;try{o(i)}catch(Wl){Ds(Wl)}i.currentTarget=null,o=l}else for(s=0;s<r.length;s++){if(l=(a=r[s]).instance,u=a.currentTarget,a=a.listener,l!==o&&i.isPropagationStopped())break e;o=a,i.currentTarget=u;try{o(i)}catch(Wl){Ds(Wl)}i.currentTarget=null,o=l}}}}function Rc(e,t){var n=t[qe];void 0===n&&(n=t[qe]=new Set);var r=e+"__bubble";n.has(r)||(Dc(t,e,2,!1),n.add(r))}function Nc(e,t,n){var r=0;t&&(r|=4),Dc(n,e,r,t)}var Oc="_reactListening"+Math.random().toString(36).slice(2);function Ac(e){if(!e[Oc]){e[Oc]=!0,Xe.forEach((function(t){"selectionchange"!==t&&(xc.has(t)||Nc(t,!1,e),Nc(t,!0,e))}));var t=9===e.nodeType?e:e.ownerDocument;null===t||t[Oc]||(t[Oc]=!0,Nc("selectionchange",!1,t))}}function Dc(e,t,n,r){switch(Xd(t)){case 2:var i=Bd;break;case 8:i=Qd;break;default:i=Kd}n=i.bind(null,t,n,e),i=void 0,!jt||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(i=!0),r?void 0!==i?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):void 0!==i?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function Lc(e,t,n,r,i){var o=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var s=r.tag;if(3===s||4===s){var a=r.stateNode.containerInfo;if(a===i||8===a.nodeType&&a.parentNode===i)break;if(4===s)for(s=r.return;null!==s;){var l=s.tag;if((3===l||4===l)&&((l=s.stateNode.containerInfo)===i||8===l.nodeType&&l.parentNode===i))return;s=s.return}for(;null!==a;){if(null===(s=Qe(a)))return;if(5===(l=s.tag)||6===l||26===l||27===l){r=o=s;continue e}a=a.parentNode}}r=r.return}Mt((function(){var r=o,i=Nt(n),s=[];e:{var a=br.get(e);if(void 0!==a){var l=Xt,u=e;switch(e){case"keypress":if(0===Vt(n))break e;case"keydown":case"keyup":l=pn;break;case"focusin":u="focus",l=on;break;case"focusout":u="blur",l=on;break;case"beforeblur":case"afterblur":l=on;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":l=nn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":l=rn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":l=gn;break;case fr:case pr:case mr:l=sn;break;case _r:l=vn;break;case"scroll":case"scrollend":l=en;break;case"wheel":l=yn;break;case"copy":case"cut":case"paste":l=an;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":l=mn;break;case"toggle":case"beforetoggle":l=_n}var c=0!==(4&t),d=!c&&("scroll"===e||"scrollend"===e),h=c?null!==a?a+"Capture":null:a;c=[];for(var f,p=r;null!==p;){var m=p;if(f=m.stateNode,5!==(m=m.tag)&&26!==m&&27!==m||null===f||null===h||null!=(m=Ft(p,h))&&c.push(Mc(p,m,f)),d)break;p=p.return}0<c.length&&(a=new l(a,u,null,n,i),s.push({event:a,listeners:c}))}}if(0===(7&t)){if(l="mouseout"===e||"pointerout"===e,(!(a="mouseover"===e||"pointerover"===e)||n===Rt||!(u=n.relatedTarget||n.fromElement)||!Qe(u)&&!u[ze])&&(l||a)&&(a=i.window===i?i:(a=i.ownerDocument)?a.defaultView||a.parentWindow:window,l?(l=r,null!==(u=(u=n.relatedTarget||n.toElement)?Qe(u):null)&&(d=F(u),c=u.tag,u!==d||5!==c&&27!==c&&6!==c)&&(u=null)):(l=null,u=r),l!==u)){if(c=nn,m="onMouseLeave",h="onMouseEnter",p="mouse","pointerout"!==e&&"pointerover"!==e||(c=mn,m="onPointerLeave",h="onPointerEnter",p="pointer"),d=null==l?a:Ye(l),f=null==u?a:Ye(u),(a=new c(m,p+"leave",l,n,i)).target=d,a.relatedTarget=f,m=null,Qe(i)===r&&((c=new c(h,p+"enter",u,n,i)).target=f,c.relatedTarget=d,m=c),d=m,l&&u)e:{for(h=u,p=0,f=c=l;f;f=jc(f))p++;for(f=0,m=h;m;m=jc(m))f++;for(;0<p-f;)c=jc(c),p--;for(;0<f-p;)h=jc(h),f--;for(;p--;){if(c===h||null!==h&&c===h.alternate)break e;c=jc(c),h=jc(h)}c=null}else c=null;null!==l&&Uc(s,a,l,c,!1),null!==u&&null!==d&&Uc(s,d,u,c,!0)}if("select"===(l=(a=r?Ye(r):window).nodeName&&a.nodeName.toLowerCase())||"input"===l&&"file"===a.type)var g=Fn;else if(Nn(a))if(jn)g=Qn;else{g=Wn;var v=Vn}else!(l=a.nodeName)||"input"!==l.toLowerCase()||"checkbox"!==a.type&&"radio"!==a.type?r&&Tt(r.elementType)&&(g=Fn):g=Bn;switch(g&&(g=g(e,r))?On(s,g,n,i):(v&&v(e,a,r),"focusout"===e&&r&&"number"===a.type&&null!=r.memoizedProps.value&&yt(a,"number",a.value)),v=r?Ye(r):window,e){case"focusin":(Nn(v)||"true"===v.contentEditable)&&(rr=v,ir=r,or=null);break;case"focusout":or=ir=rr=null;break;case"mousedown":sr=!0;break;case"contextmenu":case"mouseup":case"dragend":sr=!1,ar(s,n,i);break;case"selectionchange":if(nr)break;case"keydown":case"keyup":ar(s,n,i)}var y;if(wn)e:{switch(e){case"compositionstart":var _="onCompositionStart";break e;case"compositionend":_="onCompositionEnd";break e;case"compositionupdate":_="onCompositionUpdate";break e}_=void 0}else Pn?In(e,n)&&(_="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(_="onCompositionStart");_&&(Cn&&"ko"!==n.locale&&(Pn||"onCompositionStart"!==_?"onCompositionEnd"===_&&Pn&&(y=$t()):(qt="value"in(zt=i)?zt.value:zt.textContent,Pn=!0)),0<(v=Fc(r,_)).length&&(_=new ln(_,e,null,n,i),s.push({event:_,listeners:v}),y?_.data=y:null!==(y=xn(n))&&(_.data=y))),(y=kn?function(e,t){switch(e){case"compositionend":return xn(t);case"keypress":return 32!==t.which?null:(Tn=!0,En);case"textInput":return(e=t.data)===En&&Tn?null:e;default:return null}}(e,n):function(e,t){if(Pn)return"compositionend"===e||!wn&&In(e,t)?(e=$t(),Ht=qt=zt=null,Pn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Cn&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(_=Fc(r,"onBeforeInput")).length&&(v=new ln("onBeforeInput","beforeinput",null,n,i),s.push({event:v,listeners:_}),v.data=y)),function(e,t,n,r,i){if("submit"===t&&n&&n.stateNode===i){var o=kc((i[Ue]||null).action),s=r.submitter;s&&null!==(t=(t=s[Ue]||null)?kc(t.formAction):s.getAttribute("formAction"))&&(o=t,s=null);var a=new Xt("action","action",null,r,i);e.push({event:a,listeners:[{instance:null,listener:function(){if(r.defaultPrevented){if(0!==mc){var e=s?Cc(i,s):new FormData(i);ds(n,{pending:!0,data:e,method:i.method,action:o},null,e)}}else"function"===typeof o&&(a.preventDefault(),e=s?Cc(i,s):new FormData(i),ds(n,{pending:!0,data:e,method:i.method,action:o},o,e))},currentTarget:i}]})}}(s,e,r,n,i)}Pc(s,t)}))}function Mc(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Fc(e,t){for(var n=t+"Capture",r=[];null!==e;){var i=e,o=i.stateNode;5!==(i=i.tag)&&26!==i&&27!==i||null===o||(null!=(i=Ft(e,n))&&r.unshift(Mc(e,i,o)),null!=(i=Ft(e,t))&&r.push(Mc(e,i,o))),e=e.return}return r}function jc(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag&&27!==e.tag);return e||null}function Uc(e,t,n,r,i){for(var o=t._reactName,s=[];null!==n&&n!==r;){var a=n,l=a.alternate,u=a.stateNode;if(a=a.tag,null!==l&&l===r)break;5!==a&&26!==a&&27!==a||null===u||(l=u,i?null!=(u=Ft(n,o))&&s.unshift(Mc(n,u,l)):i||null!=(u=Ft(n,o))&&s.push(Mc(n,u,l))),n=n.return}0!==s.length&&e.push({event:t,listeners:s})}var zc=/\r\n?/g,qc=/\u0000|\uFFFD/g;function Hc(e){return("string"===typeof e?e:""+e).replace(zc,"\n").replace(qc,"")}function $c(e,t){return t=Hc(t),Hc(e)===t}function Vc(){}function Wc(e,t,n,r,i,o){switch(n){case"children":"string"===typeof r?"body"===t||"textarea"===t&&""===r||St(e,r):("number"===typeof r||"bigint"===typeof r)&&"body"!==t&&St(e,""+r);break;case"className":at(e,"class",r);break;case"tabIndex":at(e,"tabindex",r);break;case"dir":case"role":case"viewBox":case"width":case"height":at(e,n,r);break;case"style":Et(e,r,o);break;case"data":if("object"!==t){at(e,"data",r);break}case"src":case"href":if(""===r&&("a"!==t||"href"!==n)){e.removeAttribute(n);break}if(null==r||"function"===typeof r||"symbol"===typeof r||"boolean"===typeof r){e.removeAttribute(n);break}r=Pt(""+r),e.setAttribute(n,r);break;case"action":case"formAction":if("function"===typeof r){e.setAttribute(n,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}if("function"===typeof o&&("formAction"===n?("input"!==t&&Wc(e,t,"name",i.name,i,null),Wc(e,t,"formEncType",i.formEncType,i,null),Wc(e,t,"formMethod",i.formMethod,i,null),Wc(e,t,"formTarget",i.formTarget,i,null)):(Wc(e,t,"encType",i.encType,i,null),Wc(e,t,"method",i.method,i,null),Wc(e,t,"target",i.target,i,null))),null==r||"symbol"===typeof r||"boolean"===typeof r){e.removeAttribute(n);break}r=Pt(""+r),e.setAttribute(n,r);break;case"onClick":null!=r&&(e.onclick=Vc);break;case"onScroll":null!=r&&Rc("scroll",e);break;case"onScrollEnd":null!=r&&Rc("scrollend",e);break;case"dangerouslySetInnerHTML":if(null!=r){if("object"!==typeof r||!("__html"in r))throw Error(s(61));if(null!=(n=r.__html)){if(null!=i.children)throw Error(s(60));e.innerHTML=n}}break;case"multiple":e.multiple=r&&"function"!==typeof r&&"symbol"!==typeof r;break;case"muted":e.muted=r&&"function"!==typeof r&&"symbol"!==typeof r;break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":case"autoFocus":break;case"xlinkHref":if(null==r||"function"===typeof r||"boolean"===typeof r||"symbol"===typeof r){e.removeAttribute("xlink:href");break}n=Pt(""+r),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",n);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":null!=r&&"function"!==typeof r&&"symbol"!==typeof r?e.setAttribute(n,""+r):e.removeAttribute(n);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":r&&"function"!==typeof r&&"symbol"!==typeof r?e.setAttribute(n,""):e.removeAttribute(n);break;case"capture":case"download":!0===r?e.setAttribute(n,""):!1!==r&&null!=r&&"function"!==typeof r&&"symbol"!==typeof r?e.setAttribute(n,r):e.removeAttribute(n);break;case"cols":case"rows":case"size":case"span":null!=r&&"function"!==typeof r&&"symbol"!==typeof r&&!isNaN(r)&&1<=r?e.setAttribute(n,r):e.removeAttribute(n);break;case"rowSpan":case"start":null==r||"function"===typeof r||"symbol"===typeof r||isNaN(r)?e.removeAttribute(n):e.setAttribute(n,r);break;case"popover":Rc("beforetoggle",e),Rc("toggle",e),st(e,"popover",r);break;case"xlinkActuate":lt(e,"http://www.w3.org/1999/xlink","xlink:actuate",r);break;case"xlinkArcrole":lt(e,"http://www.w3.org/1999/xlink","xlink:arcrole",r);break;case"xlinkRole":lt(e,"http://www.w3.org/1999/xlink","xlink:role",r);break;case"xlinkShow":lt(e,"http://www.w3.org/1999/xlink","xlink:show",r);break;case"xlinkTitle":lt(e,"http://www.w3.org/1999/xlink","xlink:title",r);break;case"xlinkType":lt(e,"http://www.w3.org/1999/xlink","xlink:type",r);break;case"xmlBase":lt(e,"http://www.w3.org/XML/1998/namespace","xml:base",r);break;case"xmlLang":lt(e,"http://www.w3.org/XML/1998/namespace","xml:lang",r);break;case"xmlSpace":lt(e,"http://www.w3.org/XML/1998/namespace","xml:space",r);break;case"is":st(e,"is",r);break;case"innerText":case"textContent":break;default:(!(2<n.length)||"o"!==n[0]&&"O"!==n[0]||"n"!==n[1]&&"N"!==n[1])&&st(e,n=It.get(n)||n,r)}}function Bc(e,t,n,r,i,o){switch(n){case"style":Et(e,r,o);break;case"dangerouslySetInnerHTML":if(null!=r){if("object"!==typeof r||!("__html"in r))throw Error(s(61));if(null!=(n=r.__html)){if(null!=i.children)throw Error(s(60));e.innerHTML=n}}break;case"children":"string"===typeof r?St(e,r):("number"===typeof r||"bigint"===typeof r)&&St(e,""+r);break;case"onScroll":null!=r&&Rc("scroll",e);break;case"onScrollEnd":null!=r&&Rc("scrollend",e);break;case"onClick":null!=r&&(e.onclick=Vc);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":case"innerText":case"textContent":break;default:Ze.hasOwnProperty(n)||("o"!==n[0]||"n"!==n[1]||(i=n.endsWith("Capture"),t=n.slice(2,i?n.length-7:void 0),"function"===typeof(o=null!=(o=e[Ue]||null)?o[n]:null)&&e.removeEventListener(t,o,i),"function"!==typeof r)?n in e?e[n]=r:!0===r?e.setAttribute(n,""):st(e,n,r):("function"!==typeof o&&null!==o&&(n in e?e[n]=null:e.hasAttribute(n)&&e.removeAttribute(n)),e.addEventListener(t,r,i)))}}function Qc(e,t,n){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Rc("error",e),Rc("load",e);var r,i=!1,o=!1;for(r in n)if(n.hasOwnProperty(r)){var a=n[r];if(null!=a)switch(r){case"src":i=!0;break;case"srcSet":o=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,t));default:Wc(e,t,r,a,n,null)}}return o&&Wc(e,t,"srcSet",n.srcSet,n,null),void(i&&Wc(e,t,"src",n.src,n,null));case"input":Rc("invalid",e);var l=r=a=o=null,u=null,c=null;for(i in n)if(n.hasOwnProperty(i)){var d=n[i];if(null!=d)switch(i){case"name":o=d;break;case"type":a=d;break;case"checked":u=d;break;case"defaultChecked":c=d;break;case"value":r=d;break;case"defaultValue":l=d;break;case"children":case"dangerouslySetInnerHTML":if(null!=d)throw Error(s(137,t));break;default:Wc(e,t,i,d,n,null)}}return vt(e,r,l,u,c,a,o,!1),void dt(e);case"select":for(o in Rc("invalid",e),i=a=r=null,n)if(n.hasOwnProperty(o)&&null!=(l=n[o]))switch(o){case"value":r=l;break;case"defaultValue":a=l;break;case"multiple":i=l;default:Wc(e,t,o,l,n,null)}return t=r,n=a,e.multiple=!!i,void(null!=t?_t(e,!!i,t,!1):null!=n&&_t(e,!!i,n,!0));case"textarea":for(a in Rc("invalid",e),r=o=i=null,n)if(n.hasOwnProperty(a)&&null!=(l=n[a]))switch(a){case"value":i=l;break;case"defaultValue":o=l;break;case"children":r=l;break;case"dangerouslySetInnerHTML":if(null!=l)throw Error(s(91));break;default:Wc(e,t,a,l,n,null)}return wt(e,i,o,r),void dt(e);case"option":for(u in n)if(n.hasOwnProperty(u)&&null!=(i=n[u]))if("selected"===u)e.selected=i&&"function"!==typeof i&&"symbol"!==typeof i;else Wc(e,t,u,i,n,null);return;case"dialog":Rc("cancel",e),Rc("close",e);break;case"iframe":case"object":Rc("load",e);break;case"video":case"audio":for(i=0;i<Ic.length;i++)Rc(Ic[i],e);break;case"image":Rc("error",e),Rc("load",e);break;case"details":Rc("toggle",e);break;case"embed":case"source":case"link":Rc("error",e),Rc("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(c in n)if(n.hasOwnProperty(c)&&null!=(i=n[c]))switch(c){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,t));default:Wc(e,t,c,i,n,null)}return;default:if(Tt(t)){for(d in n)n.hasOwnProperty(d)&&(void 0!==(i=n[d])&&Bc(e,t,d,i,n,void 0));return}}for(l in n)n.hasOwnProperty(l)&&(null!=(i=n[l])&&Wc(e,t,l,i,n,null))}var Kc=null,Yc=null;function Gc(e){return 9===e.nodeType?e:e.ownerDocument}function Jc(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Xc(e,t){if(0===e)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return 1===e&&"foreignObject"===t?0:e}function Zc(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"bigint"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var ed=null;var td="function"===typeof setTimeout?setTimeout:void 0,nd="function"===typeof clearTimeout?clearTimeout:void 0,rd="function"===typeof Promise?Promise:void 0,id="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof rd?function(e){return rd.resolve(null).then(e).catch(od)}:td;function od(e){setTimeout((function(){throw e}))}function sd(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&8===i.nodeType)if("/$"===(n=i.data)){if(0===r)return e.removeChild(i),void gh(t);r--}else"$"!==n&&"$?"!==n&&"$!"!==n||r++;n=i}while(n);gh(t)}function ad(e){var t=e.firstChild;for(t&&10===t.nodeType&&(t=t.nextSibling);t;){var n=t;switch(t=t.nextSibling,n.nodeName){case"HTML":case"HEAD":case"BODY":ad(n),Be(n);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if("stylesheet"===n.rel.toLowerCase())continue}e.removeChild(n)}}function ld(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t||"F!"===t||"F"===t)break;if("/$"===t)return null}}return e}function ud(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}function cd(e,t,n){switch(t=Gc(n),e){case"html":if(!(e=t.documentElement))throw Error(s(452));return e;case"head":if(!(e=t.head))throw Error(s(453));return e;case"body":if(!(e=t.body))throw Error(s(454));return e;default:throw Error(s(451))}}var dd=new Map,hd=new Set;function fd(e){return"function"===typeof e.getRootNode?e.getRootNode():e.ownerDocument}var pd=H.d;H.d={f:function(){var e=pd.f(),t=Uu();return e||t},r:function(e){var t=Ke(e);null!==t&&5===t.tag&&"form"===t.type?fs(t):pd.r(e)},D:function(e){pd.D(e),gd("dns-prefetch",e,null)},C:function(e,t){pd.C(e,t),gd("preconnect",e,t)},L:function(e,t,n){pd.L(e,t,n);var r=md;if(r&&e&&t){var i='link[rel="preload"][as="'+mt(t)+'"]';"image"===t&&n&&n.imageSrcSet?(i+='[imagesrcset="'+mt(n.imageSrcSet)+'"]',"string"===typeof n.imageSizes&&(i+='[imagesizes="'+mt(n.imageSizes)+'"]')):i+='[href="'+mt(e)+'"]';var o=i;switch(t){case"style":o=yd(e);break;case"script":o=wd(e)}dd.has(o)||(e=N({rel:"preload",href:"image"===t&&n&&n.imageSrcSet?void 0:e,as:t},n),dd.set(o,e),null!==r.querySelector(i)||"style"===t&&r.querySelector(_d(o))||"script"===t&&r.querySelector(Sd(o))||(Qc(t=r.createElement("link"),"link",e),Je(t),r.head.appendChild(t)))}},m:function(e,t){pd.m(e,t);var n=md;if(n&&e){var r=t&&"string"===typeof t.as?t.as:"script",i='link[rel="modulepreload"][as="'+mt(r)+'"][href="'+mt(e)+'"]',o=i;switch(r){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":o=wd(e)}if(!dd.has(o)&&(e=N({rel:"modulepreload",href:e},t),dd.set(o,e),null===n.querySelector(i))){switch(r){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(n.querySelector(Sd(o)))return}Qc(r=n.createElement("link"),"link",e),Je(r),n.head.appendChild(r)}}},X:function(e,t){pd.X(e,t);var n=md;if(n&&e){var r=Ge(n).hoistableScripts,i=wd(e),o=r.get(i);o||((o=n.querySelector(Sd(i)))||(e=N({src:e,async:!0},t),(t=dd.get(i))&&Td(e,t),Je(o=n.createElement("script")),Qc(o,"link",e),n.head.appendChild(o)),o={type:"script",instance:o,count:1,state:null},r.set(i,o))}},S:function(e,t,n){pd.S(e,t,n);var r=md;if(r&&e){var i=Ge(r).hoistableStyles,o=yd(e);t=t||"default";var s=i.get(o);if(!s){var a={loading:0,preload:null};if(s=r.querySelector(_d(o)))a.loading=5;else{e=N({rel:"stylesheet",href:e,"data-precedence":t},n),(n=dd.get(o))&&Ed(e,n);var l=s=r.createElement("link");Je(l),Qc(l,"link",e),l._p=new Promise((function(e,t){l.onload=e,l.onerror=t})),l.addEventListener("load",(function(){a.loading|=1})),l.addEventListener("error",(function(){a.loading|=2})),a.loading|=4,Cd(s,t,r)}s={type:"stylesheet",instance:s,count:1,state:a},i.set(o,s)}}},M:function(e,t){pd.M(e,t);var n=md;if(n&&e){var r=Ge(n).hoistableScripts,i=wd(e),o=r.get(i);o||((o=n.querySelector(Sd(i)))||(e=N({src:e,async:!0,type:"module"},t),(t=dd.get(i))&&Td(e,t),Je(o=n.createElement("script")),Qc(o,"link",e),n.head.appendChild(o)),o={type:"script",instance:o,count:1,state:null},r.set(i,o))}}};var md="undefined"===typeof document?null:document;function gd(e,t,n){var r=md;if(r&&"string"===typeof t&&t){var i=mt(t);i='link[rel="'+e+'"][href="'+i+'"]',"string"===typeof n&&(i+='[crossorigin="'+n+'"]'),hd.has(i)||(hd.add(i),e={rel:e,crossOrigin:n,href:t},null===r.querySelector(i)&&(Qc(t=r.createElement("link"),"link",e),Je(t),r.head.appendChild(t)))}}function vd(e,t,n,r){var i,o,a,l,u=(u=J.current)?fd(u):null;if(!u)throw Error(s(446));switch(e){case"meta":case"title":return null;case"style":return"string"===typeof n.precedence&&"string"===typeof n.href?(t=yd(n.href),(r=(n=Ge(u).hoistableStyles).get(t))||(r={type:"style",instance:null,count:0,state:null},n.set(t,r)),r):{type:"void",instance:null,count:0,state:null};case"link":if("stylesheet"===n.rel&&"string"===typeof n.href&&"string"===typeof n.precedence){e=yd(n.href);var c=Ge(u).hoistableStyles,d=c.get(e);if(d||(u=u.ownerDocument||u,d={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},c.set(e,d),(c=u.querySelector(_d(e)))&&!c._p&&(d.instance=c,d.state.loading=5),dd.has(e)||(n={rel:"preload",as:"style",href:n.href,crossOrigin:n.crossOrigin,integrity:n.integrity,media:n.media,hrefLang:n.hrefLang,referrerPolicy:n.referrerPolicy},dd.set(e,n),c||(i=u,o=e,a=n,l=d.state,i.querySelector('link[rel="preload"][as="style"]['+o+"]")?l.loading=1:(o=i.createElement("link"),l.preload=o,o.addEventListener("load",(function(){return l.loading|=1})),o.addEventListener("error",(function(){return l.loading|=2})),Qc(o,"link",a),Je(o),i.head.appendChild(o))))),t&&null===r)throw Error(s(528,""));return d}if(t&&null!==r)throw Error(s(529,""));return null;case"script":return t=n.async,"string"===typeof(n=n.src)&&t&&"function"!==typeof t&&"symbol"!==typeof t?(t=wd(n),(r=(n=Ge(u).hoistableScripts).get(t))||(r={type:"script",instance:null,count:0,state:null},n.set(t,r)),r):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,e))}}function yd(e){return'href="'+mt(e)+'"'}function _d(e){return'link[rel="stylesheet"]['+e+"]"}function bd(e){return N({},e,{"data-precedence":e.precedence,precedence:null})}function wd(e){return'[src="'+mt(e)+'"]'}function Sd(e){return"script[async]"+e}function kd(e,t,n){if(t.count++,null===t.instance)switch(t.type){case"style":var r=e.querySelector('style[data-href~="'+mt(n.href)+'"]');if(r)return t.instance=r,Je(r),r;var i=N({},n,{"data-href":n.href,"data-precedence":n.precedence,href:null,precedence:null});return Je(r=(e.ownerDocument||e).createElement("style")),Qc(r,"style",i),Cd(r,n.precedence,e),t.instance=r;case"stylesheet":i=yd(n.href);var o=e.querySelector(_d(i));if(o)return t.state.loading|=4,t.instance=o,Je(o),o;r=bd(n),(i=dd.get(i))&&Ed(r,i),Je(o=(e.ownerDocument||e).createElement("link"));var a=o;return a._p=new Promise((function(e,t){a.onload=e,a.onerror=t})),Qc(o,"link",r),t.state.loading|=4,Cd(o,n.precedence,e),t.instance=o;case"script":return o=wd(n.src),(i=e.querySelector(Sd(o)))?(t.instance=i,Je(i),i):(r=n,(i=dd.get(o))&&Td(r=N({},n),i),Je(i=(e=e.ownerDocument||e).createElement("script")),Qc(i,"link",r),e.head.appendChild(i),t.instance=i);case"void":return null;default:throw Error(s(443,t.type))}else"stylesheet"===t.type&&0===(4&t.state.loading)&&(r=t.instance,t.state.loading|=4,Cd(r,n.precedence,e));return t.instance}function Cd(e,t,n){for(var r=n.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),i=r.length?r[r.length-1]:null,o=i,s=0;s<r.length;s++){var a=r[s];if(a.dataset.precedence===t)o=a;else if(o!==i)break}o?o.parentNode.insertBefore(e,o.nextSibling):(t=9===n.nodeType?n.head:n).insertBefore(e,t.firstChild)}function Ed(e,t){null==e.crossOrigin&&(e.crossOrigin=t.crossOrigin),null==e.referrerPolicy&&(e.referrerPolicy=t.referrerPolicy),null==e.title&&(e.title=t.title)}function Td(e,t){null==e.crossOrigin&&(e.crossOrigin=t.crossOrigin),null==e.referrerPolicy&&(e.referrerPolicy=t.referrerPolicy),null==e.integrity&&(e.integrity=t.integrity)}var Id=null;function xd(e,t,n){if(null===Id){var r=new Map,i=Id=new Map;i.set(n,r)}else(r=(i=Id).get(n))||(r=new Map,i.set(n,r));if(r.has(e))return r;for(r.set(e,null),n=n.getElementsByTagName(e),i=0;i<n.length;i++){var o=n[i];if(!(o[We]||o[je]||"link"===e&&"stylesheet"===o.getAttribute("rel"))&&"http://www.w3.org/2000/svg"!==o.namespaceURI){var s=o.getAttribute(t)||"";s=e+s;var a=r.get(s);a?a.push(o):r.set(s,[o])}}return r}function Pd(e,t,n){(e=e.ownerDocument||e).head.insertBefore(n,"title"===t?e.querySelector("head > title"):null)}function Rd(e){return"stylesheet"!==e.type||0!==(3&e.state.loading)}var Nd=null;function Od(){}function Ad(){if(this.count--,0===this.count)if(this.stylesheets)Ld(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}var Dd=null;function Ld(e,t){e.stylesheets=null,null!==e.unsuspend&&(e.count++,Dd=new Map,t.forEach(Md,e),Dd=null,Ad.call(e))}function Md(e,t){if(!(4&t.state.loading)){var n=Dd.get(e);if(n)var r=n.get(null);else{n=new Map,Dd.set(e,n);for(var i=e.querySelectorAll("link[data-precedence],style[data-precedence]"),o=0;o<i.length;o++){var s=i[o];"LINK"!==s.nodeName&&"not all"===s.getAttribute("media")||(n.set(s.dataset.precedence,s),r=s)}r&&n.set(null,r)}s=(i=t.instance).getAttribute("data-precedence"),(o=n.get(s)||r)===r&&n.set(null,i),n.set(s,i),this.count++,r=Ad.bind(this),i.addEventListener("load",r),i.addEventListener("error",r),o?o.parentNode.insertBefore(i,o.nextSibling):(e=9===e.nodeType?e.head:e).insertBefore(i,e.firstChild),t.state.loading|=4}}var Fd={$$typeof:g,Provider:null,Consumer:null,_currentValue:$,_currentValue2:$,_threadCount:0};function jd(e,t,n,r,i,o,s,a){this.tag=1,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Ne(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.finishedLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ne(0),this.hiddenUpdates=Ne(null),this.identifierPrefix=r,this.onUncaughtError=i,this.onCaughtError=o,this.onRecoverableError=s,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=a,this.incompleteTransitions=new Map}function Ud(e,t,n,r,i,o,s,a,l,u,c,d){return e=new jd(e,t,n,s,a,l,u,d),t=1,!0===o&&(t|=24),o=Ll(3,null,null,t),e.current=o,o.stateNode=e,(t=zi()).refCount++,e.pooledCache=t,t.refCount++,o.memoizedState={element:r,isDehydrated:n,cache:t},Pa(o),e}function zd(e){return e?e=Or:Or}function qd(e,t,n,r,i,o){i=zd(i),null===r.context?r.context=i:r.pendingContext=i,(r=Na(t)).payload={element:n},null!==(o=void 0===o?null:o)&&(r.callback=o),null!==(n=Oa(e,r,t))&&(Au(n,0,t),Aa(n,e,t))}function Hd(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function $d(e,t){Hd(e,t),(e=e.alternate)&&Hd(e,t)}function Vd(e){if(13===e.tag){var t=Pr(e,67108864);null!==t&&Au(t,0,67108864),$d(e,67108864)}}var Wd=!0;function Bd(e,t,n,r){var i=R.T;R.T=null;var o=H.p;try{H.p=2,Kd(e,t,n,r)}finally{H.p=o,R.T=i}}function Qd(e,t,n,r){var i=R.T;R.T=null;var o=H.p;try{H.p=8,Kd(e,t,n,r)}finally{H.p=o,R.T=i}}function Kd(e,t,n,r){if(Wd){var i=Yd(r);if(null===i)Lc(e,t,r,Gd,n),ah(e,r);else if(function(e,t,n,r,i){switch(t){case"focusin":return eh=lh(eh,e,t,n,r,i),!0;case"dragenter":return th=lh(th,e,t,n,r,i),!0;case"mouseover":return nh=lh(nh,e,t,n,r,i),!0;case"pointerover":var o=i.pointerId;return rh.set(o,lh(rh.get(o)||null,e,t,n,r,i)),!0;case"gotpointercapture":return o=i.pointerId,ih.set(o,lh(ih.get(o)||null,e,t,n,r,i)),!0}return!1}(i,e,t,n,r))r.stopPropagation();else if(ah(e,r),4&t&&-1<sh.indexOf(e)){for(;null!==i;){var o=Ke(i);if(null!==o)switch(o.tag){case 3:if((o=o.stateNode).current.memoizedState.isDehydrated){var s=Ee(o.pendingLanes);if(0!==s){var a=o;for(a.pendingLanes|=2,a.entangledLanes|=2;s;){var l=1<<31-be(s);a.entanglements[1]|=l,s&=~l}gc(o),0===(6&tu)&&(wu=le()+500,vc(0,!1))}}break;case 13:null!==(a=Pr(o,2))&&Au(a,0,2),Uu(),$d(o,2)}if(null===(o=Yd(r))&&Lc(e,t,r,Gd,n),o===i)break;i=o}null!==i&&r.stopPropagation()}else Lc(e,t,r,null,n)}}function Yd(e){return Jd(e=Nt(e))}var Gd=null;function Jd(e){if(Gd=null,null!==(e=Qe(e))){var t=F(e);if(null===t)e=null;else{var n=t.tag;if(13===n){if(null!==(e=j(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return Gd=e,null}function Xd(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(ue()){case ce:return 2;case de:return 8;case he:case fe:return 32;case pe:return 268435456;default:return 32}default:return 32}}var Zd=!1,eh=null,th=null,nh=null,rh=new Map,ih=new Map,oh=[],sh="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function ah(e,t){switch(e){case"focusin":case"focusout":eh=null;break;case"dragenter":case"dragleave":th=null;break;case"mouseover":case"mouseout":nh=null;break;case"pointerover":case"pointerout":rh.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":ih.delete(t.pointerId)}}function lh(e,t,n,r,i,o){return null===e||e.nativeEvent!==o?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:o,targetContainers:[i]},null!==t&&(null!==(t=Ke(t))&&Vd(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i),e)}function uh(e){var t=Qe(e.target);if(null!==t){var n=F(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=j(n)))return e.blockedOn=t,void function(e,t){var n=H.p;try{return H.p=e,t()}finally{H.p=n}}(e.priority,(function(){if(13===n.tag){var e=Nu(),t=Pr(n,e);null!==t&&Au(t,0,e),$d(n,e)}}))}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function ch(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Yd(e.nativeEvent);if(null!==n)return null!==(t=Ke(n))&&Vd(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);Rt=r,n.target.dispatchEvent(r),Rt=null,t.shift()}return!0}function dh(e,t,n){ch(e)&&n.delete(t)}function hh(){Zd=!1,null!==eh&&ch(eh)&&(eh=null),null!==th&&ch(th)&&(th=null),null!==nh&&ch(nh)&&(nh=null),rh.forEach(dh),ih.forEach(dh)}function fh(e,t){e.blockedOn===t&&(e.blockedOn=null,Zd||(Zd=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,hh)))}var ph=null;function mh(e){ph!==e&&(ph=e,r.unstable_scheduleCallback(r.unstable_NormalPriority,(function(){ph===e&&(ph=null);for(var t=0;t<e.length;t+=3){var n=e[t],r=e[t+1],i=e[t+2];if("function"!==typeof r){if(null===Jd(r||n))continue;break}var o=Ke(n);null!==o&&(e.splice(t,3),t-=3,ds(o,{pending:!0,data:i,method:n.method,action:r},r,i))}})))}function gh(e){function t(t){return fh(t,e)}null!==eh&&fh(eh,e),null!==th&&fh(th,e),null!==nh&&fh(nh,e),rh.forEach(t),ih.forEach(t);for(var n=0;n<oh.length;n++){var r=oh[n];r.blockedOn===e&&(r.blockedOn=null)}for(;0<oh.length&&null===(n=oh[0]).blockedOn;)uh(n),null===n.blockedOn&&oh.shift();if(null!=(n=(e.ownerDocument||e).$$reactFormReplay))for(r=0;r<n.length;r+=3){var i=n[r],o=n[r+1],s=i[Ue]||null;if("function"===typeof o)s||mh(n);else if(s){var a=null;if(o&&o.hasAttribute("formAction")){if(i=o,s=o[Ue]||null)a=s.formAction;else if(null!==Jd(i))continue}else a=s.action;"function"===typeof a?n[r+1]=a:(n.splice(r,3),r-=3),mh(n)}}}function vh(e){this._internalRoot=e}function yh(e){this._internalRoot=e}yh.prototype.render=vh.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(s(409));qd(t.current,Nu(),e,t,null,null)},yh.prototype.unmount=vh.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;0===e.tag&&nc(),qd(e.current,2,null,e,null,null),Uu(),t[ze]=null}},yh.prototype.unstable_scheduleHydration=function(e){if(e){var t=Me();e={blockedOn:null,target:e,priority:t};for(var n=0;n<oh.length&&0!==t&&t<oh[n].priority;n++);oh.splice(n,0,e),0===n&&uh(e)}};var _h=i.version;if("19.0.0"!==_h)throw Error(s(527,_h,"19.0.0"));H.findDOMNode=function(e){var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(s(188));throw e=Object.keys(e).join(","),Error(s(268,e))}return e=function(e){var t=e.alternate;if(!t){if(null===(t=F(e)))throw Error(s(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var o=i.alternate;if(null===o){if(null!==(r=i.return)){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return U(i),e;if(o===r)return U(i),t;o=o.sibling}throw Error(s(188))}if(n.return!==r.return)n=i,r=o;else{for(var a=!1,l=i.child;l;){if(l===n){a=!0,n=i,r=o;break}if(l===r){a=!0,r=i,n=o;break}l=l.sibling}if(!a){for(l=o.child;l;){if(l===n){a=!0,n=o,r=i;break}if(l===r){a=!0,r=o,n=i;break}l=l.sibling}if(!a)throw Error(s(189))}}if(n.alternate!==r)throw Error(s(190))}if(3!==n.tag)throw Error(s(188));return n.stateNode.current===n?e:t}(t),e=null===(e=null!==e?z(e):null)?null:e.stateNode};var bh={bundleType:0,version:"19.0.0",rendererPackageName:"react-dom",currentDispatcherRef:R,findFiberByHostInstance:Qe,reconcilerVersion:"19.0.0"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var wh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!wh.isDisabled&&wh.supportsFiber)try{ve=wh.inject(bh),ye=wh}catch(kh){}}t.createRoot=function(e,t){if(!a(e))throw Error(s(299));var n=!1,r="",i=Ls,o=Ms,l=Fs;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(r=t.identifierPrefix),void 0!==t.onUncaughtError&&(i=t.onUncaughtError),void 0!==t.onCaughtError&&(o=t.onCaughtError),void 0!==t.onRecoverableError&&(l=t.onRecoverableError),void 0!==t.unstable_transitionCallbacks&&t.unstable_transitionCallbacks),t=Ud(e,1,!1,null,0,n,r,i,o,l,0,null),e[ze]=t.current,Ac(8===e.nodeType?e.parentNode:e),new vh(t)},t.hydrateRoot=function(e,t,n){if(!a(e))throw Error(s(299));var r=!1,i="",o=Ls,l=Ms,u=Fs,c=null;return null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(r=!0),void 0!==n.identifierPrefix&&(i=n.identifierPrefix),void 0!==n.onUncaughtError&&(o=n.onUncaughtError),void 0!==n.onCaughtError&&(l=n.onCaughtError),void 0!==n.onRecoverableError&&(u=n.onRecoverableError),void 0!==n.unstable_transitionCallbacks&&n.unstable_transitionCallbacks,void 0!==n.formState&&(c=n.formState)),(t=Ud(e,1,!0,t,0,r,i,o,l,u,0,c)).context=zd(null),n=t.current,(i=Na(r=Nu())).callback=null,Oa(n,i,r),t.current.lanes=r,Oe(t,r),gc(t),e[ze]=t.current,Ac(e),new yh(t)},t.version="19.0.0"},43:(e,t,n)=>{e.exports=n(288)},175:(e,t)=>{const n=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,r=/^[\u0021-\u003A\u003C-\u007E]*$/,i=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,o=/^[\u0020-\u003A\u003D-\u007E]*$/,s=Object.prototype.toString,a=(()=>{const e=function(){};return e.prototype=Object.create(null),e})();function l(e,t,n){do{const n=e.charCodeAt(t);if(32!==n&&9!==n)return t}while(++t<n);return n}function u(e,t,n){for(;t>n;){const n=e.charCodeAt(--t);if(32!==n&&9!==n)return t+1}return n}function c(e){if(-1===e.indexOf("%"))return e;try{return decodeURIComponent(e)}catch(t){return e}}},288:(e,t)=>{var n=Symbol.for("react.transitional.element"),r=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),o=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),a=Symbol.for("react.consumer"),l=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),c=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),f=Symbol.iterator;var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},m=Object.assign,g={};function v(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||p}function y(){}function _(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||p}v.prototype.isReactComponent={},v.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},v.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},y.prototype=v.prototype;var b=_.prototype=new y;b.constructor=_,m(b,v.prototype),b.isPureReactComponent=!0;var w=Array.isArray,S={H:null,A:null,T:null,S:null},k=Object.prototype.hasOwnProperty;function C(e,t,r,i,o,s){return r=s.ref,{$$typeof:n,type:e,key:t,ref:void 0!==r?r:null,props:s}}function E(e){return"object"===typeof e&&null!==e&&e.$$typeof===n}var T=/\/+/g;function I(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function x(){}function P(e,t,i,o,s){var a=typeof e;"undefined"!==a&&"boolean"!==a||(e=null);var l,u,c=!1;if(null===e)c=!0;else switch(a){case"bigint":case"string":case"number":c=!0;break;case"object":switch(e.$$typeof){case n:case r:c=!0;break;case h:return P((c=e._init)(e._payload),t,i,o,s)}}if(c)return s=s(e),c=""===o?"."+I(e,0):o,w(s)?(i="",null!=c&&(i=c.replace(T,"$&/")+"/"),P(s,t,i,"",(function(e){return e}))):null!=s&&(E(s)&&(l=s,u=i+(null==s.key||e&&e.key===s.key?"":(""+s.key).replace(T,"$&/")+"/")+c,s=C(l.type,u,void 0,0,0,l.props)),t.push(s)),1;c=0;var d,p=""===o?".":o+":";if(w(e))for(var m=0;m<e.length;m++)c+=P(o=e[m],t,i,a=p+I(o,m),s);else if("function"===typeof(m=null===(d=e)||"object"!==typeof d?null:"function"===typeof(d=f&&d[f]||d["@@iterator"])?d:null))for(e=m.call(e),m=0;!(o=e.next()).done;)c+=P(o=o.value,t,i,a=p+I(o,m++),s);else if("object"===a){if("function"===typeof e.then)return P(function(e){switch(e.status){case"fulfilled":return e.value;case"rejected":throw e.reason;default:switch("string"===typeof e.status?e.then(x,x):(e.status="pending",e.then((function(t){"pending"===e.status&&(e.status="fulfilled",e.value=t)}),(function(t){"pending"===e.status&&(e.status="rejected",e.reason=t)}))),e.status){case"fulfilled":return e.value;case"rejected":throw e.reason}}throw e}(e),t,i,o,s);throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.")}return c}function R(e,t,n){if(null==e)return e;var r=[],i=0;return P(e,r,"","",(function(e){return t.call(n,e,i++)})),r}function N(e){if(-1===e._status){var t=e._result;(t=t()).then((function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)}),(function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)})),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var O="function"===typeof reportError?reportError:function(e){if("object"===typeof window&&"function"===typeof window.ErrorEvent){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:"object"===typeof e&&null!==e&&"string"===typeof e.message?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if("object"===typeof process&&"function"===typeof process.emit)return void process.emit("uncaughtException",e);console.error(e)};function A(){}t.Children={map:R,forEach:function(e,t,n){R(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return R(e,(function(){t++})),t},toArray:function(e){return R(e,(function(e){return e}))||[]},only:function(e){if(!E(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=v,t.Fragment=i,t.Profiler=s,t.PureComponent=_,t.StrictMode=o,t.Suspense=c,t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=S,t.act=function(){throw Error("act(...) is not supported in production builds of React.")},t.cache=function(e){return function(){return e.apply(null,arguments)}},t.cloneElement=function(e,t,n){if(null===e||void 0===e)throw Error("The argument must be a React element, but you passed "+e+".");var r=m({},e.props),i=e.key;if(null!=t)for(o in void 0!==t.ref&&void 0,void 0!==t.key&&(i=""+t.key),t)!k.call(t,o)||"key"===o||"__self"===o||"__source"===o||"ref"===o&&void 0===t.ref||(r[o]=t[o]);var o=arguments.length-2;if(1===o)r.children=n;else if(1<o){for(var s=Array(o),a=0;a<o;a++)s[a]=arguments[a+2];r.children=s}return C(e.type,i,void 0,0,0,r)},t.createContext=function(e){return(e={$$typeof:l,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null}).Provider=e,e.Consumer={$$typeof:a,_context:e},e},t.createElement=function(e,t,n){var r,i={},o=null;if(null!=t)for(r in void 0!==t.key&&(o=""+t.key),t)k.call(t,r)&&"key"!==r&&"__self"!==r&&"__source"!==r&&(i[r]=t[r]);var s=arguments.length-2;if(1===s)i.children=n;else if(1<s){for(var a=Array(s),l=0;l<s;l++)a[l]=arguments[l+2];i.children=a}if(e&&e.defaultProps)for(r in s=e.defaultProps)void 0===i[r]&&(i[r]=s[r]);return C(e,o,void 0,0,0,i)},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:u,render:e}},t.isValidElement=E,t.lazy=function(e){return{$$typeof:h,_payload:{_status:-1,_result:e},_init:N}},t.memo=function(e,t){return{$$typeof:d,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=S.T,n={};S.T=n;try{var r=e(),i=S.S;null!==i&&i(n,r),"object"===typeof r&&null!==r&&"function"===typeof r.then&&r.then(A,O)}catch(Wl){O(Wl)}finally{S.T=t}},t.unstable_useCacheRefresh=function(){return S.H.useCacheRefresh()},t.use=function(e){return S.H.use(e)},t.useActionState=function(e,t,n){return S.H.useActionState(e,t,n)},t.useCallback=function(e,t){return S.H.useCallback(e,t)},t.useContext=function(e){return S.H.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e,t){return S.H.useDeferredValue(e,t)},t.useEffect=function(e,t){return S.H.useEffect(e,t)},t.useId=function(){return S.H.useId()},t.useImperativeHandle=function(e,t,n){return S.H.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return S.H.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return S.H.useLayoutEffect(e,t)},t.useMemo=function(e,t){return S.H.useMemo(e,t)},t.useOptimistic=function(e,t){return S.H.useOptimistic(e,t)},t.useReducer=function(e,t,n){return S.H.useReducer(e,t,n)},t.useRef=function(e){return S.H.useRef(e)},t.useState=function(e){return S.H.useState(e)},t.useSyncExternalStore=function(e,t,n){return S.H.useSyncExternalStore(e,t,n)},t.useTransition=function(){return S.H.useTransition()},t.version="19.0.0"},391:(e,t,n)=>{!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(4)},579:(e,t,n)=>{e.exports=n(799)},672:(e,t,n)=>{var r=n(43);function i(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(){}var s={d:{f:o,r:function(){throw Error(i(522))},D:o,C:o,L:o,m:o,X:o,S:o,M:o},p:0,findDOMNode:null},a=Symbol.for("react.portal");var l=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function u(e,t){return"font"===e?"":"string"===typeof t?"use-credentials"===t?t:"":void 0}t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!t||1!==t.nodeType&&9!==t.nodeType&&11!==t.nodeType)throw Error(i(299));return function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:a,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}(e,t,null,n)},t.flushSync=function(e){var t=l.T,n=s.p;try{if(l.T=null,s.p=2,e)return e()}finally{l.T=t,s.p=n,s.d.f()}},t.preconnect=function(e,t){"string"===typeof e&&(t?t="string"===typeof(t=t.crossOrigin)?"use-credentials"===t?t:"":void 0:t=null,s.d.C(e,t))},t.prefetchDNS=function(e){"string"===typeof e&&s.d.D(e)},t.preinit=function(e,t){if("string"===typeof e&&t&&"string"===typeof t.as){var n=t.as,r=u(n,t.crossOrigin),i="string"===typeof t.integrity?t.integrity:void 0,o="string"===typeof t.fetchPriority?t.fetchPriority:void 0;"style"===n?s.d.S(e,"string"===typeof t.precedence?t.precedence:void 0,{crossOrigin:r,integrity:i,fetchPriority:o}):"script"===n&&s.d.X(e,{crossOrigin:r,integrity:i,fetchPriority:o,nonce:"string"===typeof t.nonce?t.nonce:void 0})}},t.preinitModule=function(e,t){if("string"===typeof e)if("object"===typeof t&&null!==t){if(null==t.as||"script"===t.as){var n=u(t.as,t.crossOrigin);s.d.M(e,{crossOrigin:n,integrity:"string"===typeof t.integrity?t.integrity:void 0,nonce:"string"===typeof t.nonce?t.nonce:void 0})}}else null==t&&s.d.M(e)},t.preload=function(e,t){if("string"===typeof e&&"object"===typeof t&&null!==t&&"string"===typeof t.as){var n=t.as,r=u(n,t.crossOrigin);s.d.L(e,n,{crossOrigin:r,integrity:"string"===typeof t.integrity?t.integrity:void 0,nonce:"string"===typeof t.nonce?t.nonce:void 0,type:"string"===typeof t.type?t.type:void 0,fetchPriority:"string"===typeof t.fetchPriority?t.fetchPriority:void 0,referrerPolicy:"string"===typeof t.referrerPolicy?t.referrerPolicy:void 0,imageSrcSet:"string"===typeof t.imageSrcSet?t.imageSrcSet:void 0,imageSizes:"string"===typeof t.imageSizes?t.imageSizes:void 0,media:"string"===typeof t.media?t.media:void 0})}},t.preloadModule=function(e,t){if("string"===typeof e)if(t){var n=u(t.as,t.crossOrigin);s.d.m(e,{as:"string"===typeof t.as&&"script"!==t.as?t.as:void 0,crossOrigin:n,integrity:"string"===typeof t.integrity?t.integrity:void 0})}else s.d.m(e)},t.requestFormReset=function(e){s.d.r(e)},t.unstable_batchedUpdates=function(e,t){return e(t)},t.useFormState=function(e,t,n){return l.H.useFormState(e,t,n)},t.useFormStatus=function(){return l.H.useHostTransitionStatus()},t.version="19.0.0"},799:(e,t)=>{var n=Symbol.for("react.transitional.element"),r=Symbol.for("react.fragment");function i(e,t,r){var i=null;if(void 0!==r&&(i=""+r),void 0!==t.key&&(i=""+t.key),"key"in t)for(var o in r={},t)"key"!==o&&(r[o]=t[o]);else r=t;return t=r.ref,{$$typeof:n,type:e,key:i,ref:void 0!==t?t:null,props:r}}t.Fragment=r,t.jsx=i,t.jsxs=i},853:(e,t,n)=>{e.exports=n(896)},896:(e,t)=>{function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,i=e[r];if(!(0<o(i,t)))break e;e[r]=t,e[n]=i,n=r}}function r(e){return 0===e.length?null:e[0]}function i(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length,s=i>>>1;r<s;){var a=2*(r+1)-1,l=e[a],u=a+1,c=e[u];if(0>o(l,n))u<i&&0>o(c,l)?(e[r]=c,e[u]=n,r=u):(e[r]=l,e[a]=n,r=a);else{if(!(u<i&&0>o(c,n)))break e;e[r]=c,e[u]=n,r=u}}}return t}function o(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if(t.unstable_now=void 0,"object"===typeof performance&&"function"===typeof performance.now){var s=performance;t.unstable_now=function(){return s.now()}}else{var a=Date,l=a.now();t.unstable_now=function(){return a.now()-l}}var u=[],c=[],d=1,h=null,f=3,p=!1,m=!1,g=!1,v="function"===typeof setTimeout?setTimeout:null,y="function"===typeof clearTimeout?clearTimeout:null,_="undefined"!==typeof setImmediate?setImmediate:null;function b(e){for(var t=r(c);null!==t;){if(null===t.callback)i(c);else{if(!(t.startTime<=e))break;i(c),t.sortIndex=t.expirationTime,n(u,t)}t=r(c)}}function w(e){if(g=!1,b(e),!m)if(null!==r(u))m=!0,N();else{var t=r(c);null!==t&&O(w,t.startTime-e)}}var S,k=!1,C=-1,E=5,T=-1;function I(){return!(t.unstable_now()-T<E)}function x(){if(k){var e=t.unstable_now();T=e;var n=!0;try{e:{m=!1,g&&(g=!1,y(C),C=-1),p=!0;var o=f;try{t:{for(b(e),h=r(u);null!==h&&!(h.expirationTime>e&&I());){var s=h.callback;if("function"===typeof s){h.callback=null,f=h.priorityLevel;var a=s(h.expirationTime<=e);if(e=t.unstable_now(),"function"===typeof a){h.callback=a,b(e),n=!0;break t}h===r(u)&&i(u),b(e)}else i(u);h=r(u)}if(null!==h)n=!0;else{var l=r(c);null!==l&&O(w,l.startTime-e),n=!1}}break e}finally{h=null,f=o,p=!1}n=void 0}}finally{n?S():k=!1}}}if("function"===typeof _)S=function(){_(x)};else if("undefined"!==typeof MessageChannel){var P=new MessageChannel,R=P.port2;P.port1.onmessage=x,S=function(){R.postMessage(null)}}else S=function(){v(x,0)};function N(){k||(k=!0,S())}function O(e,n){C=v((function(){e(t.unstable_now())}),n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){m||p||(m=!0,N())},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):E=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return r(u)},t.unstable_next=function(e){switch(f){case 1:case 2:case 3:var t=3;break;default:t=f}var n=f;f=t;try{return e()}finally{f=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=f;f=e;try{return t()}finally{f=n}},t.unstable_scheduleCallback=function(e,i,o){var s=t.unstable_now();switch("object"===typeof o&&null!==o?o="number"===typeof(o=o.delay)&&0<o?s+o:s:o=s,e){case 1:var a=-1;break;case 2:a=250;break;case 5:a=1073741823;break;case 4:a=1e4;break;default:a=5e3}return e={id:d++,callback:i,priorityLevel:e,startTime:o,expirationTime:a=o+a,sortIndex:-1},o>s?(e.sortIndex=o,n(c,e),null===r(u)&&e===r(c)&&(g?(y(C),C=-1):g=!0,O(w,o-s))):(e.sortIndex=a,n(u,e),m||p||(m=!0,N())),e},t.unstable_shouldYield=I,t.unstable_wrapCallback=function(e){var t=f;return function(){var n=f;f=t;try{return e.apply(this,arguments)}finally{f=n}}}},950:(e,t,n)=>{!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(672)}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var o=t[r]={exports:{}};return e[r](o,o.exports,n),o.exports}n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}();var r=n(43),i=n(391),o=(n(175),"popstate");function s(){return f((function(e,t){let{pathname:n,search:r,hash:i}=e.location;return c("",{pathname:n,search:r,hash:i},t.state&&t.state.usr||null,t.state&&t.state.key||"default")}),(function(e,t){return"string"===typeof t?t:d(t)}),null,arguments.length>0&&void 0!==arguments[0]?arguments[0]:{})}function a(e,t){if(!1===e||null===e||"undefined"===typeof e)throw new Error(t)}function l(e,t){if(!e){"undefined"!==typeof console&&console.warn(t);try{throw new Error(t)}catch(n){}}}function u(e,t){return{usr:e.state,key:e.key,idx:t}}function c(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=arguments.length>3?arguments[3]:void 0;return{pathname:"string"===typeof e?e:e.pathname,search:"",hash:"",..."string"===typeof t?h(t):t,state:n,key:t&&t.key||r||Math.random().toString(36).substring(2,10)}}function d(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&"?"!==n&&(t+="?"===n.charAt(0)?n:"?"+n),r&&"#"!==r&&(t+="#"===r.charAt(0)?r:"#"+r),t}function h(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substring(n),e=e.substring(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substring(r),e=e.substring(0,r)),e&&(t.pathname=e)}return t}function f(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},{window:i=document.defaultView,v5Compat:s=!1}=r,l=i.history,h="POP",f=null,p=m();function m(){return(l.state||{idx:null}).idx}function g(){h="POP";let e=m(),t=null==e?null:e-p;p=e,f&&f({action:h,location:y.location,delta:t})}function v(e){let t="null"!==i.location.origin?i.location.origin:i.location.href,n="string"===typeof e?e:d(e);return n=n.replace(/ $/,"%20"),a(t,`No window.location.(origin|href) available to create URL for href: ${n}`),new URL(n,t)}null==p&&(p=0,l.replaceState({...l.state,idx:p},""));let y={get action(){return h},get location(){return e(i,l)},listen(e){if(f)throw new Error("A history only accepts one active listener");return i.addEventListener(o,g),f=e,()=>{i.removeEventListener(o,g),f=null}},createHref:e=>t(i,e),createURL:v,encodeLocation(e){let t=v(e);return{pathname:t.pathname,search:t.search,hash:t.hash}},push:function(e,t){h="PUSH";let r=c(y.location,e,t);n&&n(r,e),p=m()+1;let o=u(r,p),a=y.createHref(r);try{l.pushState(o,"",a)}catch(Wl){if(Wl instanceof DOMException&&"DataCloneError"===Wl.name)throw Wl;i.location.assign(a)}s&&f&&f({action:h,location:y.location,delta:1})},replace:function(e,t){h="REPLACE";let r=c(y.location,e,t);n&&n(r,e),p=m();let i=u(r,p),o=y.createHref(r);l.replaceState(i,"",o),s&&f&&f({action:h,location:y.location,delta:0})},go:e=>l.go(e)};return y}var p=new Set(["lazy","caseSensitive","path","id","index","children"]);function m(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return e.map(((e,i)=>{let o=[...n,String(i)],s="string"===typeof e.id?e.id:o.join("-");if(a(!0!==e.index||!e.children,"Cannot specify children on an index route"),a(!r[s],`Found a route id collision on id "${s}".  Route id's must be globally unique within Data Router usages`),function(e){return!0===e.index}(e)){let n={...e,...t(e),id:s};return r[s]=n,n}{let n={...e,...t(e),id:s,children:void 0};return r[s]=n,e.children&&(n.children=m(e.children,t,o,r)),n}}))}function g(e,t){return v(e,t,arguments.length>2&&void 0!==arguments[2]?arguments[2]:"/",!1)}function v(e,t,n,r){let i=O(("string"===typeof t?h(t):t).pathname||"/",n);if(null==i)return null;let o=_(e);!function(e){e.sort(((e,t)=>e.score!==t.score?t.score-e.score:function(e,t){let n=e.length===t.length&&e.slice(0,-1).every(((e,n)=>e===t[n]));return n?e[e.length-1]-t[t.length-1]:0}(e.routesMeta.map((e=>e.childrenIndex)),t.routesMeta.map((e=>e.childrenIndex)))))}(o);let s=null;for(let a=0;null==s&&a<o.length;++a){let e=N(i);s=P(o[a],e,r)}return s}function y(e,t){let{route:n,pathname:r,params:i}=e;return{id:n.id,pathname:r,params:i,data:t[n.id],handle:n.handle}}function _(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"",i=(e,i,o)=>{let s={relativePath:void 0===o?e.path||"":o,caseSensitive:!0===e.caseSensitive,childrenIndex:i,route:e};s.relativePath.startsWith("/")&&(a(s.relativePath.startsWith(r),`Absolute route path "${s.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),s.relativePath=s.relativePath.slice(r.length));let l=F([r,s.relativePath]),u=n.concat(s);e.children&&e.children.length>0&&(a(!0!==e.index,`Index routes must not have child routes. Please remove all child routes from route path "${l}".`),_(e.children,t,u,l)),(null!=e.path||e.index)&&t.push({path:l,score:x(l,e.index),routesMeta:u})};return e.forEach(((e,t)=>{if(""!==e.path&&e.path?.includes("?"))for(let n of b(e.path))i(e,t,n);else i(e,t)})),t}function b(e){let t=e.split("/");if(0===t.length)return[];let[n,...r]=t,i=n.endsWith("?"),o=n.replace(/\?$/,"");if(0===r.length)return i?[o,""]:[o];let s=b(r.join("/")),a=[];return a.push(...s.map((e=>""===e?o:[o,e].join("/")))),i&&a.push(...s),a.map((t=>e.startsWith("/")&&""===t?"/":t))}var w=/^:[\w-]+$/,S=3,k=2,C=1,E=10,T=-2,I=e=>"*"===e;function x(e,t){let n=e.split("/"),r=n.length;return n.some(I)&&(r+=T),t&&(r+=k),n.filter((e=>!I(e))).reduce(((e,t)=>e+(w.test(t)?S:""===t?C:E)),r)}function P(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],{routesMeta:r}=e,i={},o="/",s=[];for(let a=0;a<r.length;++a){let e=r[a],l=a===r.length-1,u="/"===o?t:t.slice(o.length)||"/",c=R({path:e.relativePath,caseSensitive:e.caseSensitive,end:l},u),d=e.route;if(!c&&l&&n&&!r[r.length-1].route.index&&(c=R({path:e.relativePath,caseSensitive:e.caseSensitive,end:!1},u)),!c)return null;Object.assign(i,c.params),s.push({params:i,pathname:F([o,c.pathname]),pathnameBase:j(F([o,c.pathnameBase])),route:d}),"/"!==c.pathnameBase&&(o=F([o,c.pathnameBase]))}return s}function R(e,t){"string"===typeof e&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];l("*"===e||!e.endsWith("*")||e.endsWith("/*"),`Route path "${e}" will be treated as if it were "${e.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${e.replace(/\*$/,"/*")}".`);let r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,((e,t,n)=>(r.push({paramName:t,isOptional:null!=n}),n?"/?([^\\/]+)?":"/([^\\/]+)")));e.endsWith("*")?(r.push({paramName:"*"}),i+="*"===e||"/*"===e?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":""!==e&&"/"!==e&&(i+="(?:(?=\\/|$))");let o=new RegExp(i,t?void 0:"i");return[o,r]}(e.path,e.caseSensitive,e.end),i=t.match(n);if(!i)return null;let o=i[0],s=o.replace(/(.)\/+$/,"$1"),a=i.slice(1);return{params:r.reduce(((e,t,n)=>{let{paramName:r,isOptional:i}=t;if("*"===r){let e=a[n]||"";s=o.slice(0,o.length-e.length).replace(/(.)\/+$/,"$1")}const l=a[n];return e[r]=i&&!l?void 0:(l||"").replace(/%2F/g,"/"),e}),{}),pathname:o,pathnameBase:s,pattern:e}}function N(e){try{return e.split("/").map((e=>decodeURIComponent(e).replace(/\//g,"%2F"))).join("/")}catch(Wl){return l(!1,`The URL path "${e}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${Wl}).`),e}}function O(e,t){if("/"===t)return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&"/"!==r?null:e.slice(n)||"/"}function A(e,t,n,r){return`Cannot include a '${e}' character in a manually specified \`to.${t}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function D(e){return e.filter(((e,t)=>0===t||e.route.path&&e.route.path.length>0))}function L(e){let t=D(e);return t.map(((e,n)=>n===t.length-1?e.pathname:e.pathnameBase))}function M(e,t,n){let r,i=arguments.length>3&&void 0!==arguments[3]&&arguments[3];"string"===typeof e?r=h(e):(r={...e},a(!r.pathname||!r.pathname.includes("?"),A("?","pathname","search",r)),a(!r.pathname||!r.pathname.includes("#"),A("#","pathname","hash",r)),a(!r.search||!r.search.includes("#"),A("#","search","hash",r)));let o,s=""===e||""===r.pathname,l=s?"/":r.pathname;if(null==l)o=n;else{let e=t.length-1;if(!i&&l.startsWith("..")){let t=l.split("/");for(;".."===t[0];)t.shift(),e-=1;r.pathname=t.join("/")}o=e>=0?t[e]:"/"}let u=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"/",{pathname:n,search:r="",hash:i=""}="string"===typeof e?h(e):e,o=n?n.startsWith("/")?n:function(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach((e=>{".."===e?n.length>1&&n.pop():"."!==e&&n.push(e)})),n.length>1?n.join("/"):"/"}(n,t):t;return{pathname:o,search:U(r),hash:z(i)}}(r,o),c=l&&"/"!==l&&l.endsWith("/"),d=(s||"."===l)&&n.endsWith("/");return u.pathname.endsWith("/")||!c&&!d||(u.pathname+="/"),u}var F=e=>e.join("/").replace(/\/\/+/g,"/"),j=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),U=e=>e&&"?"!==e?e.startsWith("?")?e:"?"+e:"",z=e=>e&&"#"!==e?e.startsWith("#")?e:"#"+e:"";var q=class{constructor(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];this.status=e,this.statusText=t||"",this.internal=r,n instanceof Error?(this.data=n.toString(),this.error=n):this.data=n}};function H(e){return null!=e&&"number"===typeof e.status&&"string"===typeof e.statusText&&"boolean"===typeof e.internal&&"data"in e}var $=["POST","PUT","PATCH","DELETE"],V=new Set($),W=["GET",...$],B=new Set(W),Q=new Set([301,302,303,307,308]),K=new Set([307,308]),Y={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},G={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},J={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},X=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Z=e=>({hasErrorBoundary:Boolean(e.hasErrorBoundary)}),ee="remix-router-transitions",te=Symbol("ResetLoaderData");function ne(e){const t=e.window?e.window:"undefined"!==typeof window?window:void 0,n="undefined"!==typeof t&&"undefined"!==typeof t.document&&"undefined"!==typeof t.document.createElement;a(e.routes.length>0,"You must provide a non-empty routes array to createRouter");let r,i,o,s=e.mapRouteProperties||Z,u={},d=m(e.routes,s,void 0,u),h=e.basename||"/",f=e.dataStrategy||he,p=e.patchRoutesOnNavigation,_={...e.future},b=null,w=new Set,S=null,k=null,C=null,E=null!=e.hydrationData,T=g(d,e.history.location,h),I=!1,x=null;if(null==T&&!p){let t=Te(404,{pathname:e.history.location.pathname}),{matches:n,route:r}=Ee(d);T=n,x={[r.id]:t}}if(T&&!e.hydrationData){et(T,d,e.history.location.pathname).active&&(T=null)}if(T)if(T.some((e=>e.route.lazy)))i=!1;else if(T.some((e=>e.route.loader))){let t=e.hydrationData?e.hydrationData.loaderData:null,n=e.hydrationData?e.hydrationData.errors:null;if(n){let e=T.findIndex((e=>void 0!==n[e.route.id]));i=T.slice(0,e+1).every((e=>!ae(e.route,t,n)))}else i=T.every((e=>!ae(e.route,t,n)))}else i=!0;else{i=!1,T=[];let t=et(null,d,e.history.location.pathname);t.active&&t.matches&&(I=!0,T=t.matches)}let P,R,N={historyAction:e.history.action,location:e.history.location,matches:T,initialized:i,navigation:Y,restoreScrollPosition:null==e.hydrationData&&null,preventScrollReset:!1,revalidation:"idle",loaderData:e.hydrationData&&e.hydrationData.loaderData||{},actionData:e.hydrationData&&e.hydrationData.actionData||null,errors:e.hydrationData&&e.hydrationData.errors||x,fetchers:new Map,blockers:new Map},A="POP",D=!1,L=!1,M=new Map,F=null,j=!1,U=!1,z=new Set,q=new Map,$=0,V=-1,W=new Map,B=new Set,Q=new Map,te=new Map,ne=new Set,oe=new Map,le=null;function ue(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};N={...N,...e};let n=[],r=[];N.fetchers.forEach(((e,t)=>{"idle"===e.state&&(ne.has(t)?n.push(t):r.push(t))})),ne.forEach((e=>{N.fetchers.has(e)||q.has(e)||n.push(e)})),[...w].forEach((e=>e(N,{deletedFetchers:n,viewTransitionOpts:t.viewTransitionOpts,flushSync:!0===t.flushSync}))),n.forEach((e=>$e(e))),r.forEach((e=>N.fetchers.delete(e)))}function de(t,n){let i,{flushSync:o}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},s=null!=N.actionData&&null!=N.navigation.formMethod&&Le(N.navigation.formMethod)&&"loading"===N.navigation.state&&!0!==t.state?._isRedirect;i=n.actionData?Object.keys(n.actionData).length>0?n.actionData:null:s?N.actionData:null;let a=n.loaderData?Se(N.loaderData,n.loaderData,n.matches||[],n.errors):N.loaderData,l=N.blockers;l.size>0&&(l=new Map(l),l.forEach(((e,t)=>l.set(t,J))));let u,c=!0===D||null!=N.navigation.formMethod&&Le(N.navigation.formMethod)&&!0!==t.state?._isRedirect;if(r&&(d=r,r=void 0),j||"POP"===A||("PUSH"===A?e.history.push(t,t.state):"REPLACE"===A&&e.history.replace(t,t.state)),"POP"===A){let e=M.get(N.location.pathname);e&&e.has(t.pathname)?u={currentLocation:N.location,nextLocation:t}:M.has(t.pathname)&&(u={currentLocation:t,nextLocation:N.location})}else if(L){let e=M.get(N.location.pathname);e?e.add(t.pathname):(e=new Set([t.pathname]),M.set(N.location.pathname,e)),u={currentLocation:N.location,nextLocation:t}}ue({...n,actionData:i,loaderData:a,historyAction:A,location:t,initialized:!0,navigation:Y,revalidation:"idle",restoreScrollPosition:Ze(t,n.matches||N.matches),preventScrollReset:c,blockers:l},{viewTransitionOpts:u,flushSync:!0===o}),A="POP",D=!1,L=!1,j=!1,U=!1,le?.resolve(),le=null}async function ye(t,n,i){P&&P.abort(),P=null,A=t,j=!0===(i&&i.startUninterruptedRevalidation),function(e,t){if(S&&C){let n=Xe(e,t);S[n]=C()}}(N.location,N.matches),D=!0===(i&&i.preventScrollReset),L=!0===(i&&i.enableViewTransition);let o=r||d,s=i&&i.overrideNavigation,a=i?.initialHydration&&N.matches&&N.matches.length>0&&!I?N.matches:g(o,n,h),l=!0===(i&&i.flushSync);if(a&&N.initialized&&!U&&function(e,t){if(e.pathname!==t.pathname||e.search!==t.search)return!1;if(""===e.hash)return""!==t.hash;if(e.hash===t.hash)return!0;if(""!==t.hash)return!0;return!1}(N.location,n)&&!(i&&i.submission&&Le(i.submission.formMethod)))return void de(n,{matches:a},{flushSync:l});let u=et(a,o,n.pathname);if(u.active&&u.matches&&(a=u.matches),!a){let{error:e,notFoundMatches:t,route:r}=Je(n.pathname);return void de(n,{matches:t,loaderData:{},errors:{[r.id]:e}},{flushSync:l})}P=new AbortController;let c,f=ve(e.history,n,P.signal,i&&i.submission);if(i&&i.pendingError)c=[Ce(a).route.id,{type:"error",error:i.pendingError}];else if(i&&i.submission&&Le(i.submission.formMethod)){let t=await async function(e,t,n,r,i){let o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{};Ae();let s,a=function(e,t){let n={state:"submitting",location:e,formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text};return n}(t,n);if(ue({navigation:a},{flushSync:!0===o.flushSync}),i){let n=await tt(r,t.pathname,e.signal);if("aborted"===n.type)return{shortCircuited:!0};if("error"===n.type){let e=Ce(n.partialMatches).route.id;return{matches:n.partialMatches,pendingActionResult:[e,{type:"error",error:n.error}]}}if(!n.matches){let{notFoundMatches:e,error:n,route:r}=Je(t.pathname);return{matches:e,pendingActionResult:[r.id,{type:"error",error:n}]}}r=n.matches}let l=Fe(r,t);if(l.route.action||l.route.lazy){if(s=(await xe("action",N,e,[l],r,null))[l.route.id],e.signal.aborted)return{shortCircuited:!0}}else s={type:"error",error:Te(405,{method:e.method,pathname:t.pathname,routeId:l.route.id})};if(Ne(s)){let t;if(o&&null!=o.replace)t=o.replace;else{t=ge(s.response.headers.get("Location"),new URL(e.url),h)===N.location.pathname+N.location.search}return await be(e,s,!0,{submission:n,replace:t}),{shortCircuited:!0}}if(Re(s)){let e=Ce(r,l.route.id);return!0!==(o&&o.replace)&&(A="PUSH"),{matches:r,pendingActionResult:[e.route.id,s]}}return{matches:r,pendingActionResult:[l.route.id,s]}}(f,n,i.submission,a,u.active,{replace:i.replace,flushSync:l});if(t.shortCircuited)return;if(t.pendingActionResult){let[e,r]=t.pendingActionResult;if(Re(r)&&H(r.error)&&404===r.error.status)return P=null,void de(n,{matches:t.matches,loaderData:{},errors:{[e]:r.error}})}a=t.matches||a,c=t.pendingActionResult,s=Ue(n,i.submission),l=!1,u.active=!1,f=ve(e.history,f.url,f.signal)}let{shortCircuited:p,matches:m,loaderData:v,errors:y}=await async function(t,n,i,o,s,a,l,u,c,f,p){let m=s||Ue(n,a),g=a||l||je(m),v=!j&&!c;if(o){if(v){let e=_e(p);ue({navigation:m,...void 0!==e?{actionData:e}:{}},{flushSync:f})}let e=await tt(i,n.pathname,t.signal);if("aborted"===e.type)return{shortCircuited:!0};if("error"===e.type){let t=Ce(e.partialMatches).route.id;return{matches:e.partialMatches,loaderData:{},errors:{[t]:e.error}}}if(!e.matches){let{error:e,notFoundMatches:t,route:r}=Je(n.pathname);return{matches:t,loaderData:{},errors:{[r.id]:e}}}i=e.matches}let y=r||d,[_,b]=se(e.history,N,i,g,n,!0===c,U,z,ne,Q,B,y,h,p);if(V=++$,0===_.length&&0===b.length){let e=Be();return de(n,{matches:i,loaderData:{},errors:p&&Re(p[1])?{[p[0]]:p[1].error}:null,...ke(p),...e?{fetchers:new Map(N.fetchers)}:{}},{flushSync:f}),{shortCircuited:!0}}if(v){let e={};if(!o){e.navigation=m;let t=_e(p);void 0!==t&&(e.actionData=t)}b.length>0&&(e.fetchers=function(e){return e.forEach((e=>{let t=N.fetchers.get(e.key),n=ze(void 0,t?t.data:void 0);N.fetchers.set(e.key,n)})),new Map(N.fetchers)}(b)),ue(e,{flushSync:f})}b.forEach((e=>{Ve(e.key),e.controller&&q.set(e.key,e.controller)}));let w=()=>b.forEach((e=>Ve(e.key)));P&&P.signal.addEventListener("abort",w);let{loaderResults:S,fetcherResults:k}=await Oe(N,i,_,b,t);if(t.signal.aborted)return{shortCircuited:!0};P&&P.signal.removeEventListener("abort",w);b.forEach((e=>q.delete(e.key)));let C=Ie(S);if(C)return await be(t,C.result,!0,{replace:u}),{shortCircuited:!0};if(C=Ie(k),C)return B.add(C.key),await be(t,C.result,!0,{replace:u}),{shortCircuited:!0};let{loaderData:E,errors:T}=we(N,i,S,p,b,k);c&&N.errors&&(T={...N.errors,...T});let I=Be(),x=Qe(V),R=I||x||b.length>0;return{matches:i,loaderData:E,errors:T,...R?{fetchers:new Map(N.fetchers)}:{}}}(f,n,a,u.active,s,i&&i.submission,i&&i.fetcherSubmission,i&&i.replace,i&&!0===i.initialHydration,l,c);p||(P=null,de(n,{matches:m||a,...ke(c),loaderData:v,errors:y}))}function _e(e){return e&&!Re(e[1])?{[e[0]]:e[1].data}:N.actionData?0===Object.keys(N.actionData).length?null:N.actionData:void 0}async function be(r,i,o){let{submission:s,fetcherSubmission:l,preventScrollReset:u,replace:d}=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};i.response.headers.has("X-Remix-Revalidate")&&(U=!0);let f=i.response.headers.get("Location");a(f,"Expected a Location header on the redirect Response"),f=ge(f,new URL(r.url),h);let p=c(N.location,f,{_isRedirect:!0});if(n){let n=!1;if(i.response.headers.has("X-Remix-Reload-Document"))n=!0;else if(X.test(f)){const r=e.history.createURL(f);n=r.origin!==t.location.origin||null==O(r.pathname,h)}if(n)return void(d?t.location.replace(f):t.location.assign(f))}P=null;let m=!0===d||i.response.headers.has("X-Remix-Replace")?"REPLACE":"PUSH",{formMethod:g,formAction:v,formEncType:y}=N.navigation;!s&&!l&&g&&v&&y&&(s=je(N.navigation));let _=s||l;if(K.has(i.response.status)&&_&&Le(_.formMethod))await ye(m,p,{submission:{..._,formAction:f},preventScrollReset:u||D,enableViewTransition:o?L:void 0});else{let e=Ue(p,s);await ye(m,p,{overrideNavigation:e,fetcherSubmission:l,preventScrollReset:u||D,enableViewTransition:o?L:void 0})}}async function xe(e,t,n,r,i,o){let a,l={};try{a=await fe(f,e,t,n,r,i,o,u,s)}catch(c){return r.forEach((e=>{l[e.route.id]={type:"error",error:c}})),l}for(let[s,u]of Object.entries(a))if(Pe(u)){let e=u.result;l[s]={type:"redirect",response:me(e,n,s,i,h)}}else l[s]=await pe(u);return l}async function Oe(t,n,r,i,o){let s=xe("loader",t,o,r,n,null),a=Promise.all(i.map((async n=>{if(n.matches&&n.match&&n.controller){let r=(await xe("loader",t,ve(e.history,n.path,n.controller.signal),[n.match],n.matches,n.key))[n.match.route.id];return{[n.key]:r}}return Promise.resolve({[n.key]:{type:"error",error:Te(404,{pathname:n.path})}})})));return{loaderResults:await s,fetcherResults:(await a).reduce(((e,t)=>Object.assign(e,t)),{})}}function Ae(){U=!0,Q.forEach(((e,t)=>{q.has(t)&&z.add(t),Ve(t)}))}function De(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};N.fetchers.set(e,t),ue({fetchers:new Map(N.fetchers)},{flushSync:!0===(n&&n.flushSync)})}function Me(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},i=Ce(N.matches,t);$e(e),ue({errors:{[i.route.id]:n},fetchers:new Map(N.fetchers)},{flushSync:!0===(r&&r.flushSync)})}function He(e){return te.set(e,(te.get(e)||0)+1),ne.has(e)&&ne.delete(e),N.fetchers.get(e)||G}function $e(e){let t=N.fetchers.get(e);!q.has(e)||t&&"loading"===t.state&&W.has(e)||Ve(e),Q.delete(e),W.delete(e),B.delete(e),ne.delete(e),z.delete(e),N.fetchers.delete(e)}function Ve(e){let t=q.get(e);t&&(t.abort(),q.delete(e))}function We(e){for(let t of e){let e=qe(He(t).data);N.fetchers.set(t,e)}}function Be(){let e=[],t=!1;for(let n of B){let r=N.fetchers.get(n);a(r,`Expected fetcher: ${n}`),"loading"===r.state&&(B.delete(n),e.push(n),t=!0)}return We(e),t}function Qe(e){let t=[];for(let[n,r]of W)if(r<e){let e=N.fetchers.get(n);a(e,`Expected fetcher: ${n}`),"loading"===e.state&&(Ve(n),W.delete(n),t.push(n))}return We(t),t.length>0}function Ke(e){N.blockers.delete(e),oe.delete(e)}function Ye(e,t){let n=N.blockers.get(e)||J;a("unblocked"===n.state&&"blocked"===t.state||"blocked"===n.state&&"blocked"===t.state||"blocked"===n.state&&"proceeding"===t.state||"blocked"===n.state&&"unblocked"===t.state||"proceeding"===n.state&&"unblocked"===t.state,`Invalid blocker state transition: ${n.state} -> ${t.state}`);let r=new Map(N.blockers);r.set(e,t),ue({blockers:r})}function Ge(e){let{currentLocation:t,nextLocation:n,historyAction:r}=e;if(0===oe.size)return;oe.size>1&&l(!1,"A router only supports one blocker at a time");let i=Array.from(oe.entries()),[o,s]=i[i.length-1],a=N.blockers.get(o);return a&&"proceeding"===a.state?void 0:s({currentLocation:t,nextLocation:n,historyAction:r})?o:void 0}function Je(e){let t=Te(404,{pathname:e}),n=r||d,{matches:i,route:o}=Ee(n);return{notFoundMatches:i,route:o,error:t}}function Xe(e,t){if(k){return k(e,t.map((e=>y(e,N.loaderData))))||e.key}return e.key}function Ze(e,t){if(S){let n=Xe(e,t),r=S[n];if("number"===typeof r)return r}return null}function et(e,t,n){if(p){if(!e){return{active:!0,matches:v(t,n,h,!0)||[]}}if(Object.keys(e[0].params).length>0){return{active:!0,matches:v(t,n,h,!0)}}}return{active:!1,matches:null}}async function tt(e,t,n){if(!p)return{type:"success",matches:e};let i=e;for(;;){let e=null==r,a=r||d,l=u;try{await p({signal:n,path:t,matches:i,patch:(e,t)=>{n.aborted||ce(e,t,a,l,s)}})}catch(o){return{type:"error",error:o,partialMatches:i}}finally{e&&!n.aborted&&(d=[...d])}if(n.aborted)return{type:"aborted"};let c=g(a,t,h);if(c)return{type:"success",matches:c};let f=v(a,t,h,!0);if(!f||i.length===f.length&&i.every(((e,t)=>e.route.id===f[t].route.id)))return{type:"success",matches:null};i=f}}return o={get basename(){return h},get future(){return _},get state(){return N},get routes(){return d},get window(){return t},initialize:function(){if(b=e.history.listen((t=>{let{action:n,location:r,delta:i}=t;if(R)return R(),void(R=void 0);l(0===oe.size||null!=i,"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.");let o=Ge({currentLocation:N.location,nextLocation:r,historyAction:n});if(o&&null!=i){let t=new Promise((e=>{R=e}));return e.history.go(-1*i),void Ye(o,{state:"blocked",location:r,proceed(){Ye(o,{state:"proceeding",proceed:void 0,reset:void 0,location:r}),t.then((()=>e.history.go(i)))},reset(){let e=new Map(N.blockers);e.set(o,J),ue({blockers:e})}})}return ye(n,r)})),n){!function(e,t){try{let n=e.sessionStorage.getItem(ee);if(n){let e=JSON.parse(n);for(let[n,r]of Object.entries(e||{}))r&&Array.isArray(r)&&t.set(n,new Set(r||[]))}}catch(n){}}(t,M);let e=()=>function(e,t){if(t.size>0){let n={};for(let[e,r]of t)n[e]=[...r];try{e.sessionStorage.setItem(ee,JSON.stringify(n))}catch(Wl){l(!1,`Failed to save applied view transitions in sessionStorage (${Wl}).`)}}}(t,M);t.addEventListener("pagehide",e),F=()=>t.removeEventListener("pagehide",e)}return N.initialized||ye("POP",N.location,{initialHydration:!0}),o},subscribe:function(e){return w.add(e),()=>w.delete(e)},enableScrollRestoration:function(e,t,n){if(S=e,C=t,k=n||null,!E&&N.navigation===Y){E=!0;let e=Ze(N.location,N.matches);null!=e&&ue({restoreScrollPosition:e})}return()=>{S=null,C=null,k=null}},navigate:async function t(n,r){if("number"===typeof n)return void e.history.go(n);let i=re(N.location,N.matches,h,n,r?.fromRouteId,r?.relative),{path:o,submission:s,error:a}=ie(!1,i,r),l=N.location,u=c(N.location,o,r&&r.state);u={...u,...e.history.encodeLocation(u)};let d=r&&null!=r.replace?r.replace:void 0,f="PUSH";!0===d?f="REPLACE":!1===d||null!=s&&Le(s.formMethod)&&s.formAction===N.location.pathname+N.location.search&&(f="REPLACE");let p=r&&"preventScrollReset"in r?!0===r.preventScrollReset:void 0,m=!0===(r&&r.flushSync),g=Ge({currentLocation:l,nextLocation:u,historyAction:f});g?Ye(g,{state:"blocked",location:u,proceed(){Ye(g,{state:"proceeding",proceed:void 0,reset:void 0,location:u}),t(n,r)},reset(){let e=new Map(N.blockers);e.set(g,J),ue({blockers:e})}}):await ye(f,u,{submission:s,pendingError:a,preventScrollReset:p,replace:r&&r.replace,enableViewTransition:r&&r.viewTransition,flushSync:m})},fetch:async function(t,n,i,o){Ve(t);let s=!0===(o&&o.flushSync),l=r||d,u=re(N.location,N.matches,h,i,n,o?.relative),c=g(l,u,h),f=et(c,l,u);if(f.active&&f.matches&&(c=f.matches),!c)return void Me(t,n,Te(404,{pathname:u}),{flushSync:s});let{path:p,submission:m,error:v}=ie(!0,u,o);if(v)return void Me(t,n,v,{flushSync:s});let y=Fe(c,p),_=!0===(o&&o.preventScrollReset);m&&Le(m.formMethod)?await async function(t,n,i,o,s,l,u,c,f){function p(e){if(!e.route.action&&!e.route.lazy){let e=Te(405,{method:f.formMethod,pathname:i,routeId:n});return Me(t,n,e,{flushSync:u}),!0}return!1}if(Ae(),Q.delete(t),!l&&p(o))return;let m=N.fetchers.get(t);De(t,function(e,t){let n={state:"submitting",formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text,data:t?t.data:void 0};return n}(f,m),{flushSync:u});let v=new AbortController,y=ve(e.history,i,v.signal,f);if(l){let e=await tt(s,i,y.signal);if("aborted"===e.type)return;if("error"===e.type)return void Me(t,n,e.error,{flushSync:u});if(!e.matches)return void Me(t,n,Te(404,{pathname:i}),{flushSync:u});if(p(o=Fe(s=e.matches,i)))return}q.set(t,v);let _=$,b=await xe("action",N,y,[o],s,t),w=b[o.route.id];if(y.signal.aborted)return void(q.get(t)===v&&q.delete(t));if(ne.has(t)){if(Ne(w)||Re(w))return void De(t,qe(void 0))}else{if(Ne(w))return q.delete(t),V>_?void De(t,qe(void 0)):(B.add(t),De(t,ze(f)),be(y,w,!1,{fetcherSubmission:f,preventScrollReset:c}));if(Re(w))return void Me(t,n,w.error)}let S=N.navigation.location||N.location,k=ve(e.history,S,v.signal),C=r||d,E="idle"!==N.navigation.state?g(C,N.navigation.location,h):N.matches;a(E,"Didn't find any matches after fetcher action");let T=++$;W.set(t,T);let I=ze(f,w.data);N.fetchers.set(t,I);let[x,R]=se(e.history,N,E,f,S,!1,U,z,ne,Q,B,C,h,[o.route.id,w]);R.filter((e=>e.key!==t)).forEach((e=>{let t=e.key,n=N.fetchers.get(t),r=ze(void 0,n?n.data:void 0);N.fetchers.set(t,r),Ve(t),e.controller&&q.set(t,e.controller)})),ue({fetchers:new Map(N.fetchers)});let O=()=>R.forEach((e=>Ve(e.key)));v.signal.addEventListener("abort",O);let{loaderResults:D,fetcherResults:L}=await Oe(N,E,x,R,k);if(v.signal.aborted)return;v.signal.removeEventListener("abort",O),W.delete(t),q.delete(t),R.forEach((e=>q.delete(e.key)));let M=Ie(D);if(M)return be(k,M.result,!1,{preventScrollReset:c});if(M=Ie(L),M)return B.add(M.key),be(k,M.result,!1,{preventScrollReset:c});let{loaderData:F,errors:j}=we(N,E,D,void 0,R,L);if(N.fetchers.has(t)){let e=qe(w.data);N.fetchers.set(t,e)}Qe(T),"loading"===N.navigation.state&&T>V?(a(A,"Expected pending action"),P&&P.abort(),de(N.navigation.location,{matches:E,loaderData:F,errors:j,fetchers:new Map(N.fetchers)})):(ue({errors:j,loaderData:Se(N.loaderData,F,E,j),fetchers:new Map(N.fetchers)}),U=!1)}(t,n,p,y,c,f.active,s,_,m):(Q.set(t,{routeId:n,path:p}),await async function(t,n,r,i,o,s,a,l,u){let c=N.fetchers.get(t);De(t,ze(u,c?c.data:void 0),{flushSync:a});let d=new AbortController,h=ve(e.history,r,d.signal);if(s){let e=await tt(o,r,h.signal);if("aborted"===e.type)return;if("error"===e.type)return void Me(t,n,e.error,{flushSync:a});if(!e.matches)return void Me(t,n,Te(404,{pathname:r}),{flushSync:a});i=Fe(o=e.matches,r)}q.set(t,d);let f=$,p=await xe("loader",N,h,[i],o,t),m=p[i.route.id];q.get(t)===d&&q.delete(t);if(h.signal.aborted)return;if(ne.has(t))return void De(t,qe(void 0));if(Ne(m))return V>f?void De(t,qe(void 0)):(B.add(t),void await be(h,m,!1,{preventScrollReset:l}));if(Re(m))return void Me(t,n,m.error);De(t,qe(m.data))}(t,n,p,y,c,f.active,s,_,m))},revalidate:function(){le||(le=function(){let e,t,n=new Promise(((r,i)=>{e=async e=>{r(e);try{await n}catch(t){}},t=async e=>{i(e);try{await n}catch(t){}}}));return{promise:n,resolve:e,reject:t}}()),Ae(),ue({revalidation:"loading"});let e=le.promise;return"submitting"===N.navigation.state?e:"idle"===N.navigation.state?(ye(N.historyAction,N.location,{startUninterruptedRevalidation:!0}),e):(ye(A||N.historyAction,N.navigation.location,{overrideNavigation:N.navigation,enableViewTransition:!0===L}),e)},createHref:t=>e.history.createHref(t),encodeLocation:t=>e.history.encodeLocation(t),getFetcher:He,deleteFetcher:function(e){let t=(te.get(e)||0)-1;t<=0?(te.delete(e),ne.add(e)):te.set(e,t),ue({fetchers:new Map(N.fetchers)})},dispose:function(){b&&b(),F&&F(),w.clear(),P&&P.abort(),N.fetchers.forEach(((e,t)=>$e(t))),N.blockers.forEach(((e,t)=>Ke(t)))},getBlocker:function(e,t){let n=N.blockers.get(e)||J;return oe.get(e)!==t&&oe.set(e,t),n},deleteBlocker:Ke,patchRoutes:function(e,t){let n=null==r;ce(e,t,r||d,u,s),n&&(d=[...d],ue({}))},_internalFetchControllers:q,_internalSetRoutes:function(e){u={},r=m(e,s,void 0,u)}},o}function re(e,t,n,r,i,o){let s,a;if(i){s=[];for(let e of t)if(s.push(e),e.route.id===i){a=e;break}}else s=t,a=t[t.length-1];let l=M(r||".",L(s),O(e.pathname,n)||e.pathname,"path"===o);if(null==r&&(l.search=e.search,l.hash=e.hash),(null==r||""===r||"."===r)&&a){let e=Me(l.search);if(a.route.index&&!e)l.search=l.search?l.search.replace(/^\?/,"?index&"):"?index";else if(!a.route.index&&e){let e=new URLSearchParams(l.search),t=e.getAll("index");e.delete("index"),t.filter((e=>e)).forEach((t=>e.append("index",t)));let n=e.toString();l.search=n?`?${n}`:""}}return"/"!==n&&(l.pathname="/"===l.pathname?n:F([n,l.pathname])),d(l)}function ie(e,t,n){if(!n||!function(e){return null!=e&&("formData"in e&&null!=e.formData||"body"in e&&void 0!==e.body)}(n))return{path:t};if(n.formMethod&&!De(n.formMethod))return{path:t,error:Te(405,{method:n.formMethod})};let r,i,o=()=>({path:t,error:Te(400,{type:"invalid-body"})}),s=(n.formMethod||"get").toUpperCase(),l=xe(t);if(void 0!==n.body){if("text/plain"===n.formEncType){if(!Le(s))return o();let e="string"===typeof n.body?n.body:n.body instanceof FormData||n.body instanceof URLSearchParams?Array.from(n.body.entries()).reduce(((e,t)=>{let[n,r]=t;return`${e}${n}=${r}\n`}),""):String(n.body);return{path:t,submission:{formMethod:s,formAction:l,formEncType:n.formEncType,formData:void 0,json:void 0,text:e}}}if("application/json"===n.formEncType){if(!Le(s))return o();try{let e="string"===typeof n.body?JSON.parse(n.body):n.body;return{path:t,submission:{formMethod:s,formAction:l,formEncType:n.formEncType,formData:void 0,json:e,text:void 0}}}catch(f){return o()}}}if(a("function"===typeof FormData,"FormData is not available in this environment"),n.formData)r=ye(n.formData),i=n.formData;else if(n.body instanceof FormData)r=ye(n.body),i=n.body;else if(n.body instanceof URLSearchParams)r=n.body,i=_e(r);else if(null==n.body)r=new URLSearchParams,i=new FormData;else try{r=new URLSearchParams(n.body),i=_e(r)}catch(f){return o()}let u={formMethod:s,formAction:l,formEncType:n&&n.formEncType||"application/x-www-form-urlencoded",formData:i,json:void 0,text:void 0};if(Le(u.formMethod))return{path:t,submission:u};let c=h(t);return e&&c.search&&Me(c.search)&&r.append("index",""),c.search=`?${r}`,{path:d(c),submission:u}}function oe(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=e.findIndex((e=>e.route.id===t));return r>=0?e.slice(0,n?r+1:r):e}function se(e,t,n,r,i,o,s,a,l,u,c,d,h,f){let p=f?Re(f[1])?f[1].error:f[1].data:void 0,m=e.createURL(t.location),v=e.createURL(i),y=n;o&&t.errors?y=oe(n,Object.keys(t.errors)[0],!0):f&&Re(f[1])&&(y=oe(n,f[0]));let _=f?f[1].statusCode:void 0,b=_&&_>=400,w=y.filter(((e,n)=>{let{route:i}=e;if(i.lazy)return!0;if(null==i.loader)return!1;if(o)return ae(i,t.loaderData,t.errors);if(function(e,t,n){let r=!t||n.route.id!==t.route.id,i=!e.hasOwnProperty(n.route.id);return r||i}(t.loaderData,t.matches[n],e))return!0;let a=t.matches[n],l=e;return ue(e,{currentUrl:m,currentParams:a.params,nextUrl:v,nextParams:l.params,...r,actionResult:p,actionStatus:_,defaultShouldRevalidate:!b&&(s||m.pathname+m.search===v.pathname+v.search||m.search!==v.search||le(a,l))})})),S=[];return u.forEach(((e,i)=>{if(o||!n.some((t=>t.route.id===e.routeId))||l.has(i))return;let u=g(d,e.path,h);if(!u)return void S.push({key:i,routeId:e.routeId,path:e.path,matches:null,match:null,controller:null});let f=t.fetchers.get(i),y=Fe(u,e.path),w=!1;c.has(i)?w=!1:a.has(i)?(a.delete(i),w=!0):w=f&&"idle"!==f.state&&void 0===f.data?s:ue(y,{currentUrl:m,currentParams:t.matches[t.matches.length-1].params,nextUrl:v,nextParams:n[n.length-1].params,...r,actionResult:p,actionStatus:_,defaultShouldRevalidate:!b&&s}),w&&S.push({key:i,routeId:e.routeId,path:e.path,matches:u,match:y,controller:new AbortController})})),[w,S]}function ae(e,t,n){if(e.lazy)return!0;if(!e.loader)return!1;let r=null!=t&&void 0!==t[e.id],i=null!=n&&void 0!==n[e.id];return!(!r&&i)&&("function"===typeof e.loader&&!0===e.loader.hydrate||!r&&!i)}function le(e,t){let n=e.route.path;return e.pathname!==t.pathname||null!=n&&n.endsWith("*")&&e.params["*"]!==t.params["*"]}function ue(e,t){if(e.route.shouldRevalidate){let n=e.route.shouldRevalidate(t);if("boolean"===typeof n)return n}return t.defaultShouldRevalidate}function ce(e,t,n,r,i){let o;if(e){let t=r[e];a(t,`No route found to patch children into: routeId = ${e}`),t.children||(t.children=[]),o=t.children}else o=n;let s=m(t.filter((e=>!o.some((t=>de(e,t))))),i,[e||"_","patch",String(o?.length||"0")],r);o.push(...s)}function de(e,t){return"id"in e&&"id"in t&&e.id===t.id||e.index===t.index&&e.path===t.path&&e.caseSensitive===t.caseSensitive&&(!(e.children&&0!==e.children.length||t.children&&0!==t.children.length)||e.children.every(((e,n)=>t.children?.some((t=>de(e,t))))))}async function he(e){let{matches:t}=e,n=t.filter((e=>e.shouldLoad));return(await Promise.all(n.map((e=>e.resolve())))).reduce(((e,t,r)=>Object.assign(e,{[n[r].route.id]:t})),{})}async function fe(e,t,n,r,i,o,s,u,c,d){let h=o.map((e=>e.route.lazy?async function(e,t,n){if(!e.lazy)return;let r=await e.lazy();if(!e.lazy)return;let i=n[e.id];a(i,"No route found in manifest");let o={};for(let s in r){let e=void 0!==i[s]&&"hasErrorBoundary"!==s;l(!e,`Route "${i.id}" has a static property "${s}" defined but its lazy function is also returning a value for this property. The lazy route property "${s}" will be ignored.`),e||p.has(s)||(o[s]=r[s])}Object.assign(i,o),Object.assign(i,{...t(i),lazy:void 0})}(e.route,c,u):void 0)),f=o.map(((e,n)=>{let o=h[n],s=i.some((t=>t.route.id===e.route.id));return{...e,shouldLoad:s,resolve:async n=>(n&&"GET"===r.method&&(e.route.lazy||e.route.loader)&&(s=!0),s?async function(e,t,n,r,i,o){let s,a,l=r=>{let s,l=new Promise(((e,t)=>s=t));a=()=>s(),t.signal.addEventListener("abort",a);let u=i=>"function"!==typeof r?Promise.reject(new Error(`You cannot call the handler for a route which defines a boolean "${e}" [routeId: ${n.route.id}]`)):r({request:t,params:n.params,context:o},...void 0!==i?[i]:[]),c=(async()=>{try{return{type:"data",result:await(i?i((e=>u(e))):u())}}catch(e){return{type:"error",result:e}}})();return Promise.race([c,l])};try{let i=n.route[e];if(r)if(i){let e,[t]=await Promise.all([l(i).catch((t=>{e=t})),r]);if(void 0!==e)throw e;s=t}else{if(await r,i=n.route[e],!i){if("action"===e){let e=new URL(t.url),r=e.pathname+e.search;throw Te(405,{method:t.method,pathname:r,routeId:n.route.id})}return{type:"data",result:void 0}}s=await l(i)}else{if(!i){let e=new URL(t.url);throw Te(404,{pathname:e.pathname+e.search})}s=await l(i)}}catch(u){return{type:"error",result:u}}finally{a&&t.signal.removeEventListener("abort",a)}return s}(t,r,e,o,n,d):Promise.resolve({type:"data",result:void 0}))}})),m=await e({matches:f,request:r,params:o[0].params,fetcherKey:s,context:d});try{await Promise.all(h)}catch(g){}return m}async function pe(e){let{result:t,type:n}=e;if(Ae(t)){let e;try{let n=t.headers.get("Content-Type");e=n&&/\bapplication\/json\b/.test(n)?null==t.body?null:await t.json():await t.text()}catch(r){return{type:"error",error:r}}return"error"===n?{type:"error",error:new q(t.status,t.statusText,e),statusCode:t.status,headers:t.headers}:{type:"data",data:e,statusCode:t.status,headers:t.headers}}return"error"===n?Oe(t)?t.data instanceof Error?{type:"error",error:t.data,statusCode:t.init?.status,headers:t.init?.headers?new Headers(t.init.headers):void 0}:{type:"error",error:new q(t.init?.status||500,void 0,t.data),statusCode:H(t)?t.status:void 0,headers:t.init?.headers?new Headers(t.init.headers):void 0}:{type:"error",error:t,statusCode:H(t)?t.status:void 0}:Oe(t)?{type:"data",data:t.data,statusCode:t.init?.status,headers:t.init?.headers?new Headers(t.init.headers):void 0}:{type:"data",data:t}}function me(e,t,n,r,i){let o=e.headers.get("Location");if(a(o,"Redirects returned/thrown from loaders/actions must have a Location header"),!X.test(o)){let s=r.slice(0,r.findIndex((e=>e.route.id===n))+1);o=re(new URL(t.url),s,i,o),e.headers.set("Location",o)}return e}function ge(e,t,n){if(X.test(e)){let r=e,i=r.startsWith("//")?new URL(t.protocol+r):new URL(r),o=null!=O(i.pathname,n);if(i.origin===t.origin&&o)return i.pathname+i.search+i.hash}return e}function ve(e,t,n,r){let i=e.createURL(xe(t)).toString(),o={signal:n};if(r&&Le(r.formMethod)){let{formMethod:e,formEncType:t}=r;o.method=e.toUpperCase(),"application/json"===t?(o.headers=new Headers({"Content-Type":t}),o.body=JSON.stringify(r.json)):"text/plain"===t?o.body=r.text:"application/x-www-form-urlencoded"===t&&r.formData?o.body=ye(r.formData):o.body=r.formData}return new Request(i,o)}function ye(e){let t=new URLSearchParams;for(let[n,r]of e.entries())t.append(n,"string"===typeof r?r:r.name);return t}function _e(e){let t=new FormData;for(let[n,r]of e.entries())t.append(n,r);return t}function be(e,t,n){let r,i=arguments.length>3&&void 0!==arguments[3]&&arguments[3],o=arguments.length>4&&void 0!==arguments[4]&&arguments[4],s={},l=null,u=!1,c={},d=n&&Re(n[1])?n[1].error:void 0;return e.forEach((n=>{if(!(n.route.id in t))return;let h=n.route.id,f=t[h];if(a(!Ne(f),"Cannot handle redirect results in processLoaderData"),Re(f)){let t=f.error;if(void 0!==d&&(t=d,d=void 0),l=l||{},o)l[h]=t;else{let n=Ce(e,h);null==l[n.route.id]&&(l[n.route.id]=t)}i||(s[h]=te),u||(u=!0,r=H(f.error)?f.error.status:500),f.headers&&(c[h]=f.headers)}else s[h]=f.data,f.statusCode&&200!==f.statusCode&&!u&&(r=f.statusCode),f.headers&&(c[h]=f.headers)})),void 0!==d&&n&&(l={[n[0]]:d},s[n[0]]=void 0),{loaderData:s,errors:l,statusCode:r||200,loaderHeaders:c}}function we(e,t,n,r,i,o){let{loaderData:s,errors:l}=be(t,n,r);return i.forEach((t=>{let{key:n,match:r,controller:i}=t,s=o[n];if(a(s,"Did not find corresponding fetcher result"),!i||!i.signal.aborted)if(Re(s)){let t=Ce(e.matches,r?.route.id);l&&l[t.route.id]||(l={...l,[t.route.id]:s.error}),e.fetchers.delete(n)}else if(Ne(s))a(!1,"Unhandled fetcher revalidation redirect");else{let t=qe(s.data);e.fetchers.set(n,t)}})),{loaderData:s,errors:l}}function Se(e,t,n,r){let i=Object.entries(t).filter((e=>{let[,t]=e;return t!==te})).reduce(((e,t)=>{let[n,r]=t;return e[n]=r,e}),{});for(let o of n){let n=o.route.id;if(!t.hasOwnProperty(n)&&e.hasOwnProperty(n)&&o.route.loader&&(i[n]=e[n]),r&&r.hasOwnProperty(n))break}return i}function ke(e){return e?Re(e[1])?{actionData:{}}:{actionData:{[e[0]]:e[1].data}}:{}}function Ce(e,t){return(t?e.slice(0,e.findIndex((e=>e.route.id===t))+1):[...e]).reverse().find((e=>!0===e.route.hasErrorBoundary))||e[0]}function Ee(e){let t=1===e.length?e[0]:e.find((e=>e.index||!e.path||"/"===e.path))||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:t}],route:t}}function Te(e){let{pathname:t,routeId:n,method:r,type:i,message:o}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},s="Unknown Server Error",a="Unknown @remix-run/router error";return 400===e?(s="Bad Request",r&&t&&n?a=`You made a ${r} request to "${t}" but did not provide a \`loader\` for route "${n}", so there is no way to handle the request.`:"invalid-body"===i&&(a="Unable to encode submission body")):403===e?(s="Forbidden",a=`Route "${n}" does not match URL "${t}"`):404===e?(s="Not Found",a=`No route matches URL "${t}"`):405===e&&(s="Method Not Allowed",r&&t&&n?a=`You made a ${r.toUpperCase()} request to "${t}" but did not provide an \`action\` for route "${n}", so there is no way to handle the request.`:r&&(a=`Invalid request method "${r.toUpperCase()}"`)),new q(e||500,s,new Error(a),!0)}function Ie(e){let t=Object.entries(e);for(let n=t.length-1;n>=0;n--){let[e,r]=t[n];if(Ne(r))return{key:e,result:r}}}function xe(e){return d({..."string"===typeof e?h(e):e,hash:""})}function Pe(e){return Ae(e.result)&&Q.has(e.result.status)}function Re(e){return"error"===e.type}function Ne(e){return"redirect"===(e&&e.type)}function Oe(e){return"object"===typeof e&&null!=e&&"type"in e&&"data"in e&&"init"in e&&"DataWithResponseInit"===e.type}function Ae(e){return null!=e&&"number"===typeof e.status&&"string"===typeof e.statusText&&"object"===typeof e.headers&&"undefined"!==typeof e.body}function De(e){return B.has(e.toUpperCase())}function Le(e){return V.has(e.toUpperCase())}function Me(e){return new URLSearchParams(e).getAll("index").some((e=>""===e))}function Fe(e,t){let n="string"===typeof t?h(t).search:t.search;if(e[e.length-1].route.index&&Me(n||""))return e[e.length-1];let r=D(e);return r[r.length-1]}function je(e){let{formMethod:t,formAction:n,formEncType:r,text:i,formData:o,json:s}=e;if(t&&n&&r)return null!=i?{formMethod:t,formAction:n,formEncType:r,formData:void 0,json:void 0,text:i}:null!=o?{formMethod:t,formAction:n,formEncType:r,formData:o,json:void 0,text:void 0}:void 0!==s?{formMethod:t,formAction:n,formEncType:r,formData:void 0,json:s,text:void 0}:void 0}function Ue(e,t){if(t){return{state:"loading",location:e,formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text}}return{state:"loading",location:e,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0}}function ze(e,t){if(e){return{state:"loading",formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text,data:t}}return{state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:t}}function qe(e){return{state:"idle",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:e}}var He=r.createContext(null);He.displayName="DataRouter";var $e=r.createContext(null);$e.displayName="DataRouterState";var Ve=r.createContext({isTransitioning:!1});Ve.displayName="ViewTransition";var We=r.createContext(new Map);We.displayName="Fetchers";var Be=r.createContext(null);Be.displayName="Await";var Qe=r.createContext(null);Qe.displayName="Navigation";var Ke=r.createContext(null);Ke.displayName="Location";var Ye=r.createContext({outlet:null,matches:[],isDataRoute:!1});Ye.displayName="Route";var Ge=r.createContext(null);Ge.displayName="RouteError";function Je(){return null!=r.useContext(Ke)}function Xe(){return a(Je(),"useLocation() may be used only in the context of a <Router> component."),r.useContext(Ke).location}var Ze="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function et(e){r.useContext(Qe).static||r.useLayoutEffect(e)}function tt(){let{isDataRoute:e}=r.useContext(Ye);return e?function(){let{router:e}=dt("useNavigate"),t=ft("useNavigate"),n=r.useRef(!1);et((()=>{n.current=!0}));let i=r.useCallback((async function(r){let i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};l(n.current,Ze),n.current&&("number"===typeof r?e.navigate(r):await e.navigate(r,{fromRouteId:t,...i}))}),[e,t]);return i}():function(){a(Je(),"useNavigate() may be used only in the context of a <Router> component.");let e=r.useContext(He),{basename:t,navigator:n}=r.useContext(Qe),{matches:i}=r.useContext(Ye),{pathname:o}=Xe(),s=JSON.stringify(L(i)),u=r.useRef(!1);et((()=>{u.current=!0}));let c=r.useCallback((function(r){let i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(l(u.current,Ze),!u.current)return;if("number"===typeof r)return void n.go(r);let a=M(r,JSON.parse(s),o,"path"===i.relative);null==e&&"/"!==t&&(a.pathname="/"===a.pathname?t:F([t,a.pathname])),(i.replace?n.replace:n.push)(a,i.state,i)}),[t,n,s,o,e]);return c}()}var nt=r.createContext(null);function rt(e){let{relative:t}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{matches:n}=r.useContext(Ye),{pathname:i}=Xe(),o=JSON.stringify(L(n));return r.useMemo((()=>M(e,JSON.parse(o),i,"path"===t)),[e,o,i,t])}function it(e,t,n,i){a(Je(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:o,static:s}=r.useContext(Qe),{matches:u}=r.useContext(Ye),c=u[u.length-1],d=c?c.params:{},f=c?c.pathname:"/",p=c?c.pathnameBase:"/",m=c&&c.route;{let e=m&&m.path||"";gt(f,!m||e.endsWith("*")||e.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${f}" (under <Route path="${e}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.\n\nPlease change the parent <Route path="${e}"> to <Route path="${"/"===e?"*":`${e}/*`}">.`)}let v,y=Xe();if(t){let e="string"===typeof t?h(t):t;a("/"===p||e.pathname?.startsWith(p),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${p}" but pathname "${e.pathname}" was given in the \`location\` prop.`),v=e}else v=y;let _=v.pathname||"/",b=_;if("/"!==p){let e=p.replace(/^\//,"").split("/");b="/"+_.replace(/^\//,"").split("/").slice(e.length).join("/")}let w=!s&&n&&n.matches&&n.matches.length>0?n.matches:g(e,{pathname:b});l(m||null!=w,`No routes matched location "${v.pathname}${v.search}${v.hash}" `),l(null==w||void 0!==w[w.length-1].route.element||void 0!==w[w.length-1].route.Component||void 0!==w[w.length-1].route.lazy,`Matched leaf route at location "${v.pathname}${v.search}${v.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let S=ut(w&&w.map((e=>Object.assign({},e,{params:Object.assign({},d,e.params),pathname:F([p,o.encodeLocation?o.encodeLocation(e.pathname).pathname:e.pathname]),pathnameBase:"/"===e.pathnameBase?p:F([p,o.encodeLocation?o.encodeLocation(e.pathnameBase).pathname:e.pathnameBase])}))),u,n,i);return t&&S?r.createElement(Ke.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...v},navigationType:"POP"}},S):S}function ot(){let e=pt(),t=H(e)?`${e.status} ${e.statusText}`:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,i="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:i},s={padding:"2px 4px",backgroundColor:i},a=null;return console.error("Error handled by React Router default ErrorBoundary:",e),a=r.createElement(r.Fragment,null,r.createElement("p",null,"\ud83d\udcbf Hey developer \ud83d\udc4b"),r.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",r.createElement("code",{style:s},"ErrorBoundary")," or"," ",r.createElement("code",{style:s},"errorElement")," prop on your route.")),r.createElement(r.Fragment,null,r.createElement("h2",null,"Unexpected Application Error!"),r.createElement("h3",{style:{fontStyle:"italic"}},t),n?r.createElement("pre",{style:o},n):null,a)}var st=r.createElement(ot,null),at=class extends r.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||"idle"!==t.revalidation&&"idle"===e.revalidation?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:void 0!==e.error?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return void 0!==this.state.error?r.createElement(Ye.Provider,{value:this.props.routeContext},r.createElement(Ge.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function lt(e){let{routeContext:t,match:n,children:i}=e,o=r.useContext(He);return o&&o.static&&o.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(o.staticContext._deepestRenderedBoundaryId=n.route.id),r.createElement(Ye.Provider,{value:t},i)}function ut(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;if(null==e){if(!n)return null;if(n.errors)e=n.matches;else{if(0!==t.length||n.initialized||!(n.matches.length>0))return null;e=n.matches}}let i=e,o=n?.errors;if(null!=o){let e=i.findIndex((e=>e.route.id&&void 0!==o?.[e.route.id]));a(e>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(o).join(",")}`),i=i.slice(0,Math.min(i.length,e+1))}let s=!1,l=-1;if(n)for(let r=0;r<i.length;r++){let e=i[r];if((e.route.HydrateFallback||e.route.hydrateFallbackElement)&&(l=r),e.route.id){let{loaderData:t,errors:r}=n,o=e.route.loader&&!t.hasOwnProperty(e.route.id)&&(!r||void 0===r[e.route.id]);if(e.route.lazy||o){s=!0,i=l>=0?i.slice(0,l+1):[i[0]];break}}}return i.reduceRight(((e,a,u)=>{let c,d=!1,h=null,f=null;n&&(c=o&&a.route.id?o[a.route.id]:void 0,h=a.route.errorElement||st,s&&(l<0&&0===u?(gt("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),d=!0,f=null):l===u&&(d=!0,f=a.route.hydrateFallbackElement||null)));let p=t.concat(i.slice(0,u+1)),m=()=>{let t;return t=c?h:d?f:a.route.Component?r.createElement(a.route.Component,null):a.route.element?a.route.element:e,r.createElement(lt,{match:a,routeContext:{outlet:e,matches:p,isDataRoute:null!=n},children:t})};return n&&(a.route.ErrorBoundary||a.route.errorElement||0===u)?r.createElement(at,{location:n.location,revalidation:n.revalidation,component:h,error:c,children:m(),routeContext:{outlet:null,matches:p,isDataRoute:!0}}):m()}),null)}function ct(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function dt(e){let t=r.useContext(He);return a(t,ct(e)),t}function ht(e){let t=r.useContext($e);return a(t,ct(e)),t}function ft(e){let t=function(e){let t=r.useContext(Ye);return a(t,ct(e)),t}(e),n=t.matches[t.matches.length-1];return a(n.route.id,`${e} can only be used on routes that contain a unique "id"`),n.route.id}function pt(){let e=r.useContext(Ge),t=ht("useRouteError"),n=ft("useRouteError");return void 0!==e?e:t.errors?.[n]}var mt={};function gt(e,t,n){t||mt[e]||(mt[e]=!0,l(!1,n))}var vt={};function yt(e,t){e||vt[t]||(vt[t]=!0,console.warn(t))}function _t(e){let t={hasErrorBoundary:e.hasErrorBoundary||null!=e.ErrorBoundary||null!=e.errorElement};return e.Component&&(e.element&&l(!1,"You should not include both `Component` and `element` on your route - `Component` will be used."),Object.assign(t,{element:r.createElement(e.Component),Component:void 0})),e.HydrateFallback&&(e.hydrateFallbackElement&&l(!1,"You should not include both `HydrateFallback` and `hydrateFallbackElement` on your route - `HydrateFallback` will be used."),Object.assign(t,{hydrateFallbackElement:r.createElement(e.HydrateFallback),HydrateFallback:void 0})),e.ErrorBoundary&&(e.errorElement&&l(!1,"You should not include both `ErrorBoundary` and `errorElement` on your route - `ErrorBoundary` will be used."),Object.assign(t,{errorElement:r.createElement(e.ErrorBoundary),ErrorBoundary:void 0})),t}var bt=class{constructor(){this.status="pending",this.promise=new Promise(((e,t)=>{this.resolve=t=>{"pending"===this.status&&(this.status="resolved",e(t))},this.reject=e=>{"pending"===this.status&&(this.status="rejected",t(e))}}))}};function wt(e){let{router:t,flushSync:n}=e,[i,o]=r.useState(t.state),[s,a]=r.useState(),[l,u]=r.useState({isTransitioning:!1}),[c,d]=r.useState(),[h,f]=r.useState(),[p,m]=r.useState(),g=r.useRef(new Map),v=r.useCallback(((e,i)=>{let{deletedFetchers:s,flushSync:l,viewTransitionOpts:p}=i;e.fetchers.forEach(((e,t)=>{void 0!==e.data&&g.current.set(t,e.data)})),s.forEach((e=>g.current.delete(e))),yt(!1===l||null!=n,'You provided the `flushSync` option to a router update, but you are not using the `<RouterProvider>` from `react-router/dom` so `ReactDOM.flushSync()` is unavailable.  Please update your app to `import { RouterProvider } from "react-router/dom"` and ensure you have `react-dom` installed as a dependency to use the `flushSync` option.');let v=null!=t.window&&null!=t.window.document&&"function"===typeof t.window.document.startViewTransition;if(yt(null==p||v,"You provided the `viewTransition` option to a router update, but you do not appear to be running in a DOM environment as `window.startViewTransition` is not available."),p&&v){if(n&&l){n((()=>{h&&(c&&c.resolve(),h.skipTransition()),u({isTransitioning:!0,flushSync:!0,currentLocation:p.currentLocation,nextLocation:p.nextLocation})}));let r=t.window.document.startViewTransition((()=>{n((()=>o(e)))}));return r.finished.finally((()=>{n((()=>{d(void 0),f(void 0),a(void 0),u({isTransitioning:!1})}))})),void n((()=>f(r)))}h?(c&&c.resolve(),h.skipTransition(),m({state:e,currentLocation:p.currentLocation,nextLocation:p.nextLocation})):(a(e),u({isTransitioning:!0,flushSync:!1,currentLocation:p.currentLocation,nextLocation:p.nextLocation}))}else n&&l?n((()=>o(e))):r.startTransition((()=>o(e)))}),[t.window,n,h,c]);r.useLayoutEffect((()=>t.subscribe(v)),[t,v]),r.useEffect((()=>{l.isTransitioning&&!l.flushSync&&d(new bt)}),[l]),r.useEffect((()=>{if(c&&s&&t.window){let e=s,n=c.promise,i=t.window.document.startViewTransition((async()=>{r.startTransition((()=>o(e))),await n}));i.finished.finally((()=>{d(void 0),f(void 0),a(void 0),u({isTransitioning:!1})})),f(i)}}),[s,c,t.window]),r.useEffect((()=>{c&&s&&i.location.key===s.location.key&&c.resolve()}),[c,h,i.location,s]),r.useEffect((()=>{!l.isTransitioning&&p&&(a(p.state),u({isTransitioning:!0,flushSync:!1,currentLocation:p.currentLocation,nextLocation:p.nextLocation}),m(void 0))}),[l.isTransitioning,p]);let y=r.useMemo((()=>({createHref:t.createHref,encodeLocation:t.encodeLocation,go:e=>t.navigate(e),push:(e,n,r)=>t.navigate(e,{state:n,preventScrollReset:r?.preventScrollReset}),replace:(e,n,r)=>t.navigate(e,{replace:!0,state:n,preventScrollReset:r?.preventScrollReset})})),[t]),_=t.basename||"/",b=r.useMemo((()=>({router:t,navigator:y,static:!1,basename:_})),[t,y,_]);return r.createElement(r.Fragment,null,r.createElement(He.Provider,{value:b},r.createElement($e.Provider,{value:i},r.createElement(We.Provider,{value:g.current},r.createElement(Ve.Provider,{value:l},r.createElement(Et,{basename:_,location:i.location,navigationType:i.historyAction,navigator:y},r.createElement(St,{routes:t.routes,future:t.future,state:i})))))),null)}var St=r.memo((function(e){let{routes:t,future:n,state:r}=e;return it(t,void 0,r,n)}));function kt(e){let{to:t,replace:n,state:i,relative:o}=e;a(Je(),"<Navigate> may be used only in the context of a <Router> component.");let{static:s}=r.useContext(Qe);l(!s,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:u}=r.useContext(Ye),{pathname:c}=Xe(),d=tt(),h=M(t,L(u),c,"path"===o),f=JSON.stringify(h);return r.useEffect((()=>{d(JSON.parse(f),{replace:n,state:i,relative:o})}),[d,f,o,n,i]),null}function Ct(e){return function(e){let t=r.useContext(Ye).outlet;return t?r.createElement(nt.Provider,{value:e},t):t}(e.context)}function Et(e){let{basename:t="/",children:n=null,location:i,navigationType:o="POP",navigator:s,static:u=!1}=e;a(!Je(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let c=t.replace(/^\/*/,"/"),d=r.useMemo((()=>({basename:c,navigator:s,static:u,future:{}})),[c,s,u]);"string"===typeof i&&(i=h(i));let{pathname:f="/",search:p="",hash:m="",state:g=null,key:v="default"}=i,y=r.useMemo((()=>{let e=O(f,c);return null==e?null:{location:{pathname:e,search:p,hash:m,state:g,key:v},navigationType:o}}),[c,f,p,m,g,v,o]);return l(null!=y,`<Router basename="${c}"> is not able to match the URL "${f}${p}${m}" because it does not start with the basename, so the <Router> won't render anything.`),null==y?null:r.createElement(Qe.Provider,{value:d},r.createElement(Ke.Provider,{children:n,value:y}))}r.Component;var Tt="get",It="application/x-www-form-urlencoded";function xt(e){return null!=e&&"string"===typeof e.tagName}var Pt=null;var Rt=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Nt(e){return null==e||Rt.has(e)?e:(l(!1,`"${e}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${It}"`),null)}function Ot(e,t){let n,r,i,o,s;if(xt(a=e)&&"form"===a.tagName.toLowerCase()){let s=e.getAttribute("action");r=s?O(s,t):null,n=e.getAttribute("method")||Tt,i=Nt(e.getAttribute("enctype"))||It,o=new FormData(e)}else if(function(e){return xt(e)&&"button"===e.tagName.toLowerCase()}(e)||function(e){return xt(e)&&"input"===e.tagName.toLowerCase()}(e)&&("submit"===e.type||"image"===e.type)){let s=e.form;if(null==s)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let a=e.getAttribute("formaction")||s.getAttribute("action");if(r=a?O(a,t):null,n=e.getAttribute("formmethod")||s.getAttribute("method")||Tt,i=Nt(e.getAttribute("formenctype"))||Nt(s.getAttribute("enctype"))||It,o=new FormData(s,e),!function(){if(null===Pt)try{new FormData(document.createElement("form"),0),Pt=!1}catch(e){Pt=!0}return Pt}()){let{name:t,type:n,value:r}=e;if("image"===n){let e=t?`${t}.`:"";o.append(`${e}x`,"0"),o.append(`${e}y`,"0")}else t&&o.append(t,r)}}else{if(xt(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=Tt,r=null,i=It,s=e}var a;return o&&"text/plain"===i&&(s=o,o=void 0),{action:r,method:n.toLowerCase(),encType:i,formData:o,body:s}}function At(e,t){if(!1===e||null===e||"undefined"===typeof e)throw new Error(t)}async function Dt(e,t){if(e.id in t)return t[e.id];try{let n=await import(e.module);return t[e.id]=n,n}catch(Wl){return console.error(`Error loading route module \`${e.module}\`, reloading page...`),console.error(Wl),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise((()=>{}))}}function Lt(e){return null!=e&&"string"===typeof e.page}function Mt(e){return null!=e&&(null==e.href?"preload"===e.rel&&"string"===typeof e.imageSrcSet&&"string"===typeof e.imageSizes:"string"===typeof e.rel&&"string"===typeof e.href)}function Ft(e,t,n,r,i,o){let s=(e,t)=>!n[t]||e.route.id!==n[t].route.id,a=(e,t)=>n[t].pathname!==e.pathname||n[t].route.path?.endsWith("*")&&n[t].params["*"]!==e.params["*"];return"assets"===o?t.filter(((e,t)=>s(e,t)||a(e,t))):"data"===o?t.filter(((t,o)=>{let l=r.routes[t.route.id];if(!l||!l.hasLoader)return!1;if(s(t,o)||a(t,o))return!0;if(t.route.shouldRevalidate){let r=t.route.shouldRevalidate({currentUrl:new URL(i.pathname+i.search+i.hash,window.origin),currentParams:n[0]?.params||{},nextUrl:new URL(e,window.origin),nextParams:t.params,defaultShouldRevalidate:!0});if("boolean"===typeof r)return r}return!0})):[]}function jt(e,t){let{includeHydrateFallback:n}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return r=e.map((e=>{let r=t.routes[e.route.id];if(!r)return[];let i=[r.module];return r.clientActionModule&&(i=i.concat(r.clientActionModule)),r.clientLoaderModule&&(i=i.concat(r.clientLoaderModule)),n&&r.hydrateFallbackModule&&(i=i.concat(r.hydrateFallbackModule)),r.imports&&(i=i.concat(r.imports)),i})).flat(1),[...new Set(r)];var r}function Ut(e,t){let n=new Set,r=new Set(t);return e.reduce(((e,i)=>{if(t&&!Lt(i)&&"script"===i.as&&i.href&&r.has(i.href))return e;let o=JSON.stringify(function(e){let t={},n=Object.keys(e).sort();for(let r of n)t[r]=e[r];return t}(i));return n.has(o)||(n.add(o),e.push({key:o,link:i})),e}),[])}function zt(e){return{__html:e}}Symbol("SingleFetchRedirect");function qt(e){let t="string"===typeof e?new URL(e,"undefined"===typeof window?"server://singlefetch/":window.location.origin):e;return"/"===t.pathname?t.pathname="_root.data":t.pathname=`${t.pathname.replace(/\/$/,"")}.data`,t}r.Component;function Ht(e){let{error:t,isOutsideRemixApp:n}=e;console.error(t);let i,o=r.createElement("script",{dangerouslySetInnerHTML:{__html:'\n        console.log(\n          "\ud83d\udcbf Hey developer \ud83d\udc4b. You can provide a way better UX than this when your app throws errors. Check out https://remix.run/guides/errors for more information."\n        );\n      '}});if(H(t))return r.createElement($t,{title:"Unhandled Thrown Response!"},r.createElement("h1",{style:{fontSize:"24px"}},t.status," ",t.statusText),o);if(t instanceof Error)i=t;else{let e=null==t?"Unknown Error":"object"===typeof t&&"toString"in t?t.toString():JSON.stringify(t);i=new Error(e)}return r.createElement($t,{title:"Application Error!",isOutsideRemixApp:n},r.createElement("h1",{style:{fontSize:"24px"}},"Application Error"),r.createElement("pre",{style:{padding:"2rem",background:"hsla(10, 50%, 50%, 0.1)",color:"red",overflow:"auto"}},i.stack),o)}function $t(e){let{title:t,renderScripts:n,isOutsideRemixApp:i,children:o}=e,{routeModules:s}=Kt();return s.root?.Layout&&!i?o:r.createElement("html",{lang:"en"},r.createElement("head",null,r.createElement("meta",{charSet:"utf-8"}),r.createElement("meta",{name:"viewport",content:"width=device-width,initial-scale=1,viewport-fit=cover"}),r.createElement("title",null,t)),r.createElement("body",null,r.createElement("main",{style:{fontFamily:"system-ui, sans-serif",padding:"2rem"}},o,n?r.createElement(tn,null):null)))}function Vt(e){return!0===e}function Wt(){let e=r.useContext(He);return At(e,"You must render this element inside a <DataRouterContext.Provider> element"),e}function Bt(){let e=r.useContext($e);return At(e,"You must render this element inside a <DataRouterStateContext.Provider> element"),e}var Qt=r.createContext(void 0);function Kt(){let e=r.useContext(Qt);return At(e,"You must render this element inside a <HydratedRouter> element"),e}function Yt(e,t){return n=>{e&&e(n),n.defaultPrevented||t(n)}}function Gt(e,t,n){if(n&&!en)return[e[0]];if(t){let n=e.findIndex((e=>void 0!==t[e.route.id]));return e.slice(0,n+1)}return e}function Jt(e){let{page:t,...n}=e,{router:i}=Wt(),o=r.useMemo((()=>g(i.routes,t,i.basename)),[i.routes,t,i.basename]);return o?r.createElement(Zt,{page:t,matches:o,...n}):null}function Xt(e){let{manifest:t,routeModules:n}=Kt(),[i,o]=r.useState([]);return r.useEffect((()=>{let r=!1;return async function(e,t,n){return Ut((await Promise.all(e.map((async e=>{let r=t.routes[e.route.id];if(r){let e=await Dt(r,n);return e.links?e.links():[]}return[]})))).flat(1).filter(Mt).filter((e=>"stylesheet"===e.rel||"preload"===e.rel)).map((e=>"stylesheet"===e.rel?{...e,rel:"prefetch",as:"style"}:{...e,rel:"prefetch"})))}(e,t,n).then((e=>{r||o(e)})),()=>{r=!0}}),[e,t,n]),i}function Zt(e){let{page:t,matches:n,...i}=e,o=Xe(),{manifest:s,routeModules:a}=Kt(),{loaderData:l,matches:u}=Bt(),c=r.useMemo((()=>Ft(t,n,u,s,o,"data")),[t,n,u,s,o]),d=r.useMemo((()=>Ft(t,n,u,s,o,"assets")),[t,n,u,s,o]),h=r.useMemo((()=>{if(t===o.pathname+o.search+o.hash)return[];let e=new Set,r=!1;if(n.forEach((t=>{let n=s.routes[t.route.id];n&&n.hasLoader&&(!c.some((e=>e.route.id===t.route.id))&&t.route.id in l&&a[t.route.id]?.shouldRevalidate||n.hasClientLoader?r=!0:e.add(t.route.id))})),0===e.size)return[];let i=qt(t);return r&&e.size>0&&i.searchParams.set("_routes",n.filter((t=>e.has(t.route.id))).map((e=>e.route.id)).join(",")),[i.pathname+i.search]}),[l,o,s,c,n,t,a]),f=r.useMemo((()=>jt(d,s)),[d,s]),p=Xt(d);return r.createElement(r.Fragment,null,h.map((e=>r.createElement("link",{key:e,rel:"prefetch",as:"fetch",href:e,...i}))),f.map((e=>r.createElement("link",{key:e,rel:"modulepreload",href:e,...i}))),p.map((e=>{let{key:t,link:n}=e;return r.createElement("link",{key:t,...n})})))}Qt.displayName="FrameworkContext";var en=!1;function tn(e){let{manifest:t,serverHandoffString:n,isSpaMode:i,ssr:o,renderMeta:s}=Kt(),{router:a,static:l,staticContext:u}=Wt(),{matches:c}=Bt(),d=Vt(o);s&&(s.didRenderScripts=!0);let h=Gt(c,null,i);r.useEffect((()=>{en=!0}),[]);let f=r.useMemo((()=>{let i=u?`window.__reactRouterContext = ${n};window.__reactRouterContext.stream = new ReadableStream({start(controller){window.__reactRouterContext.streamController = controller;}}).pipeThrough(new TextEncoderStream());`:" ",o=l?`${t.hmr?.runtime?`import ${JSON.stringify(t.hmr.runtime)};`:""}${d?"":`import ${JSON.stringify(t.url)}`};\n${h.map(((e,n)=>{let r=`route${n}`,i=t.routes[e.route.id];At(i,`Route ${e.route.id} not found in manifest`);let{clientActionModule:o,clientLoaderModule:s,hydrateFallbackModule:a,module:l}=i,u=[...o?[{module:o,varName:`${r}_clientAction`}]:[],...s?[{module:s,varName:`${r}_clientLoader`}]:[],...a?[{module:a,varName:`${r}_HydrateFallback`}]:[],{module:l,varName:`${r}_main`}];return 1===u.length?`import * as ${r} from ${JSON.stringify(l)};`:[u.map((e=>`import * as ${e.varName} from "${e.module}";`)).join("\n"),`const ${r} = {${u.map((e=>`...${e.varName}`)).join(",")}};`].join("\n")})).join("\n")}\n  ${d?`window.__reactRouterManifest = ${JSON.stringify(function(e,t){let n=new Set(t.state.matches.map((e=>e.route.id))),r=t.state.location.pathname.split("/").filter(Boolean),i=["/"];for(r.pop();r.length>0;)i.push(`/${r.join("/")}`),r.pop();i.forEach((e=>{let r=g(t.routes,e,t.basename);r&&r.forEach((e=>n.add(e.route.id)))}));let o=[...n].reduce(((t,n)=>Object.assign(t,{[n]:e.routes[n]})),{});return{...e,routes:o}}(t,a),null,2)};`:""}\n  window.__reactRouterRouteModules = {${h.map(((e,t)=>`${JSON.stringify(e.route.id)}:route${t}`)).join(",")}};\n\nimport(${JSON.stringify(t.entry.module)});`:" ";return r.createElement(r.Fragment,null,r.createElement("script",{...e,suppressHydrationWarning:!0,dangerouslySetInnerHTML:zt(i),type:void 0}),r.createElement("script",{...e,suppressHydrationWarning:!0,dangerouslySetInnerHTML:zt(o),type:"module",async:!0}))}),[]),p=en?[]:t.entry.imports.concat(jt(h,t,{includeHydrateFallback:!0}));return en?null:r.createElement(r.Fragment,null,d?null:r.createElement("link",{rel:"modulepreload",href:t.url,crossOrigin:e.crossOrigin}),r.createElement("link",{rel:"modulepreload",href:t.entry.module,crossOrigin:e.crossOrigin}),(m=p,[...new Set(m)]).map((t=>r.createElement("link",{key:t,rel:"modulepreload",href:t,crossOrigin:e.crossOrigin}))),f);var m}function nn(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return e=>{t.forEach((t=>{"function"===typeof t?t(e):null!=t&&(t.current=e)}))}}var rn="undefined"!==typeof window&&"undefined"!==typeof window.document&&"undefined"!==typeof window.document.createElement;try{rn&&(window.__reactRouterVersion="7.2.0")}catch(Mm){}function on(){let e=window?.__staticRouterHydrationData;return e&&e.errors&&(e={...e,errors:sn(e.errors)}),e}function sn(e){if(!e)return null;let t=Object.entries(e),n={};for(let[r,i]of t)if(i&&"RouteErrorResponse"===i.__type)n[r]=new q(i.status,i.statusText,i.data,!0===i.internal);else if(i&&"Error"===i.__type){if(i.__subType){let e=window[i.__subType];if("function"===typeof e)try{let t=new e(i.message);t.stack="",n[r]=t}catch(Mm){}}if(null==n[r]){let e=new Error(i.message);e.stack="",n[r]=e}}else n[r]=i;return n}var an=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,ln=r.forwardRef((function(e,t){let n,{onClick:i,discover:o="render",prefetch:s="none",relative:u,reloadDocument:c,replace:h,state:f,target:p,to:m,preventScrollReset:g,viewTransition:v,...y}=e,{basename:_}=r.useContext(Qe),b="string"===typeof m&&an.test(m),w=!1;if("string"===typeof m&&b&&(n=m,rn))try{let e=new URL(window.location.href),t=m.startsWith("//")?new URL(e.protocol+m):new URL(m),n=O(t.pathname,_);t.origin===e.origin&&null!=n?m=n+t.search+t.hash:w=!0}catch(Mm){l(!1,`<Link to="${m}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let S=function(e){let{relative:t}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};a(Je(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:i}=r.useContext(Qe),{hash:o,pathname:s,search:l}=rt(e,{relative:t}),u=s;return"/"!==n&&(u="/"===s?n:F([n,s])),i.createHref({pathname:u,search:l,hash:o})}(m,{relative:u}),[k,C,E]=function(e,t){let n=r.useContext(Qt),[i,o]=r.useState(!1),[s,a]=r.useState(!1),{onFocus:l,onBlur:u,onMouseEnter:c,onMouseLeave:d,onTouchStart:h}=t,f=r.useRef(null);r.useEffect((()=>{if("render"===e&&a(!0),"viewport"===e){let e=new IntersectionObserver((e=>{e.forEach((e=>{a(e.isIntersecting)}))}),{threshold:.5});return f.current&&e.observe(f.current),()=>{e.disconnect()}}}),[e]),r.useEffect((()=>{if(i){let e=setTimeout((()=>{a(!0)}),100);return()=>{clearTimeout(e)}}}),[i]);let p=()=>{o(!0)},m=()=>{o(!1),a(!1)};return n?"intent"!==e?[s,f,{}]:[s,f,{onFocus:Yt(l,p),onBlur:Yt(u,m),onMouseEnter:Yt(c,p),onMouseLeave:Yt(d,m),onTouchStart:Yt(h,p)}]:[!1,f,{}]}(s,y),T=function(e){let{target:t,replace:n,state:i,preventScrollReset:o,relative:s,viewTransition:a}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},l=tt(),u=Xe(),c=rt(e,{relative:s});return r.useCallback((r=>{if(function(e,t){return 0===e.button&&(!t||"_self"===t)&&!function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(e)}(r,t)){r.preventDefault();let t=void 0!==n?n:d(u)===d(c);l(e,{replace:t,state:i,preventScrollReset:o,relative:s,viewTransition:a})}}),[u,l,c,n,i,t,e,o,s,a])}(m,{replace:h,state:f,target:p,preventScrollReset:g,relative:u,viewTransition:v});let I=r.createElement("a",{...y,...E,href:n||S,onClick:w||c?i:function(e){i&&i(e),e.defaultPrevented||T(e)},ref:nn(t,C),target:p,"data-discover":b||"render"!==o?void 0:"true"});return k&&!b?r.createElement(r.Fragment,null,I,r.createElement(Jt,{page:S})):I}));ln.displayName="Link";var un=r.forwardRef((function(e,t){let{"aria-current":n="page",caseSensitive:i=!1,className:o="",end:s=!1,style:l,to:u,viewTransition:c,children:d,...h}=e,f=rt(u,{relative:h.relative}),p=Xe(),m=r.useContext($e),{navigator:g,basename:v}=r.useContext(Qe),y=null!=m&&function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=r.useContext(Ve);a(null!=n,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:i}=hn("useViewTransitionState"),o=rt(e,{relative:t.relative});if(!n.isTransitioning)return!1;let s=O(n.currentLocation.pathname,i)||n.currentLocation.pathname,l=O(n.nextLocation.pathname,i)||n.nextLocation.pathname;return null!=R(o.pathname,l)||null!=R(o.pathname,s)}(f)&&!0===c,_=g.encodeLocation?g.encodeLocation(f).pathname:f.pathname,b=p.pathname,w=m&&m.navigation&&m.navigation.location?m.navigation.location.pathname:null;i||(b=b.toLowerCase(),w=w?w.toLowerCase():null,_=_.toLowerCase()),w&&v&&(w=O(w,v)||w);const S="/"!==_&&_.endsWith("/")?_.length-1:_.length;let k,C=b===_||!s&&b.startsWith(_)&&"/"===b.charAt(S),E=null!=w&&(w===_||!s&&w.startsWith(_)&&"/"===w.charAt(_.length)),T={isActive:C,isPending:E,isTransitioning:y},I=C?n:void 0;k="function"===typeof o?o(T):[o,C?"active":null,E?"pending":null,y?"transitioning":null].filter(Boolean).join(" ");let x="function"===typeof l?l(T):l;return r.createElement(ln,{...h,"aria-current":I,className:k,ref:t,style:x,to:u,viewTransition:c},"function"===typeof d?d(T):d)}));un.displayName="NavLink";var cn=r.forwardRef(((e,t)=>{let{discover:n="render",fetcherKey:i,navigate:o,reloadDocument:s,replace:l,state:u,method:c=Tt,action:h,onSubmit:f,relative:p,preventScrollReset:m,viewTransition:g,...v}=e,y=mn(),_=function(e){let{relative:t}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{basename:n}=r.useContext(Qe),i=r.useContext(Ye);a(i,"useFormAction must be used inside a RouteContext");let[o]=i.matches.slice(-1),s={...rt(e||".",{relative:t})},l=Xe();if(null==e){s.search=l.search;let e=new URLSearchParams(s.search),t=e.getAll("index");if(t.some((e=>""===e))){e.delete("index"),t.filter((e=>e)).forEach((t=>e.append("index",t)));let n=e.toString();s.search=n?`?${n}`:""}}e&&"."!==e||!o.route.index||(s.search=s.search?s.search.replace(/^\?/,"?index&"):"?index");"/"!==n&&(s.pathname="/"===s.pathname?n:F([n,s.pathname]));return d(s)}(h,{relative:p}),b="get"===c.toLowerCase()?"get":"post",w="string"===typeof h&&an.test(h);return r.createElement("form",{ref:t,method:b,action:_,onSubmit:s?f:e=>{if(f&&f(e),e.defaultPrevented)return;e.preventDefault();let t=e.nativeEvent.submitter,n=t?.getAttribute("formmethod")||c;y(t||e.currentTarget,{fetcherKey:i,method:n,navigate:o,replace:l,state:u,relative:p,preventScrollReset:m,viewTransition:g})},...v,"data-discover":w||"render"!==n?void 0:"true"})}));function dn(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function hn(e){let t=r.useContext(He);return a(t,dn(e)),t}cn.displayName="Form";var fn=0,pn=()=>`__${String(++fn)}__`;function mn(){let{router:e}=hn("useSubmit"),{basename:t}=r.useContext(Qe),n=ft("useRouteId");return r.useCallback((async function(r){let i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{action:o,method:s,encType:a,formData:l,body:u}=Ot(r,t);if(!1===i.navigate){let t=i.fetcherKey||pn();await e.fetch(t,n,i.action||o,{preventScrollReset:i.preventScrollReset,formData:l,body:u,formMethod:i.method||s,formEncType:i.encType||a,flushSync:i.flushSync})}else await e.navigate(i.action||o,{preventScrollReset:i.preventScrollReset,formData:l,body:u,formMethod:i.method||s,formEncType:i.encType||a,replace:i.replace,state:i.state,fromRouteId:n,flushSync:i.flushSync,viewTransition:i.viewTransition})}),[e,t,n])}new TextEncoder;var gn=n(950);function vn(e){return r.createElement(wt,{flushSync:gn.flushSync,...e})}var yn={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},_n=r.createContext&&r.createContext(yn),bn=["attr","size","title"];function wn(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Sn(){return Sn=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Sn.apply(this,arguments)}function kn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Cn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?kn(Object(n),!0).forEach((function(t){En(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):kn(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function En(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Tn(e){return e&&e.map(((e,t)=>r.createElement(e.tag,Cn({key:t},e.attr),Tn(e.child))))}function In(e){return t=>r.createElement(xn,Sn({attr:Cn({},e.attr)},t),Tn(e.child))}function xn(e){var t=t=>{var n,{attr:i,size:o,title:s}=e,a=wn(e,bn),l=o||t.size||"1em";return t.className&&(n=t.className),e.className&&(n=(n?n+" ":"")+e.className),r.createElement("svg",Sn({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},t.attr,i,a,{className:n,style:Cn(Cn({color:e.color||t.color},t.style),e.style),height:l,width:l,xmlns:"http://www.w3.org/2000/svg"}),s&&r.createElement("title",null,s),e.children)};return void 0!==_n?r.createElement(_n.Consumer,null,(e=>t(e))):t(yn)}function Pn(e){return In({tag:"svg",attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{d:"M12.854.146a.5.5 0 0 0-.707 0L10.5 1.793 14.207 5.5l1.647-1.646a.5.5 0 0 0 0-.708zm.646 6.061L9.793 2.5 3.293 9H3.5a.5.5 0 0 1 .5.5v.5h.5a.5.5 0 0 1 .5.5v.5h.5a.5.5 0 0 1 .5.5v.5h.5a.5.5 0 0 1 .5.5v.207zm-7.468 7.468A.5.5 0 0 1 6 13.5V13h-.5a.5.5 0 0 1-.5-.5V12h-.5a.5.5 0 0 1-.5-.5V11h-.5a.5.5 0 0 1-.5-.5V10h-.5a.5.5 0 0 1-.175-.032l-.179.178a.5.5 0 0 0-.11.168l-2 5a.5.5 0 0 0 .65.65l5-2a.5.5 0 0 0 .168-.11z"},child:[]}]})(e)}function Rn(e){return In({tag:"svg",attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{d:"M16 8A8 8 0 1 1 0 8a8 8 0 0 1 16 0M8.5 4.5a.5.5 0 0 0-1 0v3h-3a.5.5 0 0 0 0 1h3v3a.5.5 0 0 0 1 0v-3h3a.5.5 0 0 0 0-1h-3z"},child:[]}]})(e)}function Nn(e){return In({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"circle",attr:{cx:"176",cy:"416",r:"16",fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"32"},child:[]},{tag:"circle",attr:{cx:"400",cy:"416",r:"16",fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"32"},child:[]},{tag:"path",attr:{fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"32",d:"M48 80h64l48 272h256"},child:[]},{tag:"path",attr:{fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"32",d:"M160 288h249.44a8 8 0 0 0 7.85-6.43l28.8-144a8 8 0 0 0-7.85-9.57H128"},child:[]}]})(e)}function On(e){return In({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"m289.94 256 95-95A24 24 0 0 0 351 127l-95 95-95-95a24 24 0 0 0-34 34l95 95-95 95a24 24 0 1 0 34 34l95-95 95 95a24 24 0 0 0 34-34z"},child:[]}]})(e)}function An(e){return In({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M421.84 37.37a25.86 25.86 0 0 0-22.6-4.46L199.92 86.49A32.3 32.3 0 0 0 176 118v226c0 6.74-4.36 12.56-11.11 14.83l-.12.05-52 18C92.88 383.53 80 402 80 423.91a55.54 55.54 0 0 0 23.23 45.63A54.78 54.78 0 0 0 135.34 480a55.82 55.82 0 0 0 17.75-2.93l.38-.13 21.84-7.94A47.84 47.84 0 0 0 208 423.91v-212c0-7.29 4.77-13.21 12.16-15.07l.21-.06L395 150.14a4 4 0 0 1 5 3.86v141.93c0 6.75-4.25 12.38-11.11 14.68l-.25.09-50.89 18.11A49.09 49.09 0 0 0 304 375.92a55.67 55.67 0 0 0 23.23 45.8 54.63 54.63 0 0 0 49.88 7.35l.36-.12 21.84-7.95A47.83 47.83 0 0 0 432 375.92V58a25.74 25.74 0 0 0-10.16-20.63z"},child:[]}]})(e)}var Dn=n(579);function Ln(e){let{user:{photoURL:t,displayName:n}}=e;return(0,Dn.jsxs)("div",{className:"flex items-center shrink-0",children:[(0,Dn.jsx)("img",{className:"w-10 h-10 rounded-full mr-2",src:t,alt:n}),(0,Dn.jsx)("span",{className:"hidden md:block",children:n})]})}function Mn(e){let{text:t,onClick:n}=e;return(0,Dn.jsx)("button",{className:"bg-brand text-white py-2 px-4 rounded-sm hover:brightness-110",onClick:n,children:t})}const Fn={randomUUID:"undefined"!==typeof crypto&&crypto.randomUUID&&crypto.randomUUID.bind(crypto)};let jn;const Un=new Uint8Array(16);const zn=[];for(let Fm=0;Fm<256;++Fm)zn.push((Fm+256).toString(16).slice(1));function qn(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return(zn[e[t+0]]+zn[e[t+1]]+zn[e[t+2]]+zn[e[t+3]]+"-"+zn[e[t+4]]+zn[e[t+5]]+"-"+zn[e[t+6]]+zn[e[t+7]]+"-"+zn[e[t+8]]+zn[e[t+9]]+"-"+zn[e[t+10]]+zn[e[t+11]]+zn[e[t+12]]+zn[e[t+13]]+zn[e[t+14]]+zn[e[t+15]]).toLowerCase()}const Hn=function(e,t,n){if(Fn.randomUUID&&!t&&!e)return Fn.randomUUID();const r=(e=e||{}).random??e.rng?.()??function(){if(!jn){if("undefined"===typeof crypto||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");jn=crypto.getRandomValues.bind(crypto)}return jn(Un)}();if(r.length<16)throw new Error("Random bytes length must be >= 16");if(r[6]=15&r[6]|64,r[8]=63&r[8]|128,t){if((n=n||0)<0||n+16>t.length)throw new RangeError(`UUID byte range ${n}:${n+15} is out of buffer bounds`);for(let e=0;e<16;++e)t[n+e]=r[e];return t}return qn(r)},$n=!1,Vn=!1,Wn="${JSCORE_VERSION}",Bn=function(e,t){if(!e)throw Qn(t)},Qn=function(e){return new Error("Firebase Database ("+Wn+") INTERNAL ASSERT FAILED: "+e)},Kn=function(e){const t=[];let n=0;for(let r=0;r<e.length;r++){let i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):55296===(64512&i)&&r+1<e.length&&56320===(64512&e.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&e.charCodeAt(++r)),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t},Yn={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<e.length;i+=3){const t=e[i],o=i+1<e.length,s=o?e[i+1]:0,a=i+2<e.length,l=a?e[i+2]:0,u=t>>2,c=(3&t)<<4|s>>4;let d=(15&s)<<2|l>>6,h=63&l;a||(h=64,o||(d=64)),r.push(n[u],n[c],n[d],n[h])}return r.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(Kn(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){const t=[];let n=0,r=0;for(;n<e.length;){const i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){const o=e[n++];t[r++]=String.fromCharCode((31&i)<<6|63&o)}else if(i>239&&i<365){const o=((7&i)<<18|(63&e[n++])<<12|(63&e[n++])<<6|63&e[n++])-65536;t[r++]=String.fromCharCode(55296+(o>>10)),t[r++]=String.fromCharCode(56320+(1023&o))}else{const o=e[n++],s=e[n++];t[r++]=String.fromCharCode((15&i)<<12|(63&o)<<6|63&s)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<e.length;){const t=n[e.charAt(i++)],o=i<e.length?n[e.charAt(i)]:0;++i;const s=i<e.length?n[e.charAt(i)]:64;++i;const a=i<e.length?n[e.charAt(i)]:64;if(++i,null==t||null==o||null==s||null==a)throw new Gn;const l=t<<2|o>>4;if(r.push(l),64!==s){const e=o<<4&240|s>>2;if(r.push(e),64!==a){const e=s<<6&192|a;r.push(e)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};class Gn extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Jn=function(e){const t=Kn(e);return Yn.encodeByteArray(t,!0)},Xn=function(e){return Jn(e).replace(/\./g,"")},Zn=function(e){try{return Yn.decodeString(e,!0)}catch(Mm){console.error("base64Decode failed: ",Mm)}return null};function er(e){return tr(void 0,e)}function tr(e,t){if(!(t instanceof Object))return t;switch(t.constructor){case Date:return new Date(t.getTime());case Object:void 0===e&&(e={});break;case Array:e=[];break;default:return t}for(const n in t)t.hasOwnProperty(n)&&"__proto__"!==n&&(e[n]=tr(e[n],t[n]));return e}const nr=()=>function(){if("undefined"!==typeof self)return self;if("undefined"!==typeof window)return window;if("undefined"!==typeof n.g)return n.g;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__,rr=()=>{try{return nr()||(()=>{if("undefined"===typeof process)return;const e={NODE_ENV:"production",PUBLIC_URL:"/music_archive",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_CLOUDNARY_PRESET:"ml_default",REACT_APP_CLOUDNARY_URL:"https://api.cloudinary.com/v1_1/dlgctkdxf/image/upload",REACT_APP_FIREBASE_API_KEY:"AIzaSyDmYN-hU-QjLp-kjUMGlH3KQtBqUfp3t5g",REACT_APP_FIREBASE_AUTH_DOMAIN:"musicarchive-cb448.firebaseapp.com",REACT_APP_FIREBASE_DB_URL:"https://musicarchive-cb448-default-rtdb.asia-southeast1.firebasedatabase.app",REACT_APP_FIREBASE_PROJECT_ID:"musicarchive-cb448"}.__FIREBASE_DEFAULTS__;return e?JSON.parse(e):void 0})()||(()=>{if("undefined"===typeof document)return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(Mm){return}const t=e&&Zn(e[1]);return t&&JSON.parse(t)})()}catch(Mm){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${Mm}`)}},ir=e=>{var t,n;return null===(n=null===(t=rr())||void 0===t?void 0:t.emulatorHosts)||void 0===n?void 0:n[e]},or=()=>{var e;return null===(e=rr())||void 0===e?void 0:e.config},sr=e=>{var t;return null===(t=rr())||void 0===t?void 0:t[`_${e}`]};class ar{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}wrapCallback(e){return(t,n)=>{t?this.reject(t):this.resolve(n),"function"===typeof e&&(this.promise.catch((()=>{})),1===e.length?e(t):e(t,n))}}}function lr(){return"undefined"!==typeof navigator&&"string"===typeof navigator.userAgent?navigator.userAgent:""}function ur(){return"undefined"!==typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(lr())}function cr(){return"object"===typeof navigator&&"ReactNative"===navigator.product}function dr(){return!0===$n||!0===Vn}class hr extends Error{constructor(e,t,n){super(t),this.code=e,this.customData=n,this.name="FirebaseError",Object.setPrototypeOf(this,hr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,fr.prototype.create)}}class fr{constructor(e,t,n){this.service=e,this.serviceName=t,this.errors=n}create(e){const t=(arguments.length<=1?void 0:arguments[1])||{},n=`${this.service}/${e}`,r=this.errors[e],i=r?function(e,t){return e.replace(pr,((e,n)=>{const r=t[n];return null!=r?String(r):`<${n}?>`}))}(r,t):"Error",o=`${this.serviceName}: ${i} (${n}).`;return new hr(n,o,t)}}const pr=/\{\$([^}]+)}/g;function mr(e){return JSON.parse(e)}function gr(e){return JSON.stringify(e)}const vr=function(e){let t={},n={},r={},i="";try{const o=e.split(".");t=mr(Zn(o[0])||""),n=mr(Zn(o[1])||""),i=o[2],r=n.d||{},delete n.d}catch(Mm){}return{header:t,claims:n,data:r,signature:i}};function yr(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function _r(e,t){return Object.prototype.hasOwnProperty.call(e,t)?e[t]:void 0}function br(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}function wr(e,t,n){const r={};for(const i in e)Object.prototype.hasOwnProperty.call(e,i)&&(r[i]=t.call(n,e[i],i,e));return r}function Sr(e,t){if(e===t)return!0;const n=Object.keys(e),r=Object.keys(t);for(const i of n){if(!r.includes(i))return!1;const n=e[i],o=t[i];if(kr(n)&&kr(o)){if(!Sr(n,o))return!1}else if(n!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function kr(e){return null!==e&&"object"===typeof e}function Cr(e){const t=[];for(const[n,r]of Object.entries(e))Array.isArray(r)?r.forEach((e=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(e))})):t.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return t.length?"&"+t.join("&"):""}function Er(e){const t={};return e.replace(/^\?/,"").split("&").forEach((e=>{if(e){const[n,r]=e.split("=");t[decodeURIComponent(n)]=decodeURIComponent(r)}})),t}function Tr(e){const t=e.indexOf("?");if(!t)return"";const n=e.indexOf("#",t);return e.substring(t,n>0?n:void 0)}class Ir{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(let e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(e,t){t||(t=0);const n=this.W_;if("string"===typeof e)for(let c=0;c<16;c++)n[c]=e.charCodeAt(t)<<24|e.charCodeAt(t+1)<<16|e.charCodeAt(t+2)<<8|e.charCodeAt(t+3),t+=4;else for(let c=0;c<16;c++)n[c]=e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3],t+=4;for(let c=16;c<80;c++){const e=n[c-3]^n[c-8]^n[c-14]^n[c-16];n[c]=4294967295&(e<<1|e>>>31)}let r,i,o=this.chain_[0],s=this.chain_[1],a=this.chain_[2],l=this.chain_[3],u=this.chain_[4];for(let c=0;c<80;c++){c<40?c<20?(r=l^s&(a^l),i=1518500249):(r=s^a^l,i=1859775393):c<60?(r=s&a|l&(s|a),i=2400959708):(r=s^a^l,i=3395469782);const e=(o<<5|o>>>27)+r+u+i+n[c]&4294967295;u=l,l=a,a=4294967295&(s<<30|s>>>2),s=o,o=e}this.chain_[0]=this.chain_[0]+o&4294967295,this.chain_[1]=this.chain_[1]+s&4294967295,this.chain_[2]=this.chain_[2]+a&4294967295,this.chain_[3]=this.chain_[3]+l&4294967295,this.chain_[4]=this.chain_[4]+u&4294967295}update(e,t){if(null==e)return;void 0===t&&(t=e.length);const n=t-this.blockSize;let r=0;const i=this.buf_;let o=this.inbuf_;for(;r<t;){if(0===o)for(;r<=n;)this.compress_(e,r),r+=this.blockSize;if("string"===typeof e){for(;r<t;)if(i[o]=e.charCodeAt(r),++o,++r,o===this.blockSize){this.compress_(i),o=0;break}}else for(;r<t;)if(i[o]=e[r],++o,++r,o===this.blockSize){this.compress_(i),o=0;break}}this.inbuf_=o,this.total_+=t}digest(){const e=[];let t=8*this.total_;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let r=this.blockSize-1;r>=56;r--)this.buf_[r]=255&t,t/=256;this.compress_(this.buf_);let n=0;for(let r=0;r<5;r++)for(let t=24;t>=0;t-=8)e[n]=this.chain_[r]>>t&255,++n;return e}}class xr{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then((()=>{e(this)})).catch((e=>{this.error(e)}))}next(e){this.forEachObserver((t=>{t.next(e)}))}error(e){this.forEachObserver((t=>{t.error(e)})),this.close(e)}complete(){this.forEachObserver((e=>{e.complete()})),this.close()}subscribe(e,t,n){let r;if(void 0===e&&void 0===t&&void 0===n)throw new Error("Missing Observer.");r=function(e,t){if("object"!==typeof e||null===e)return!1;for(const n of t)if(n in e&&"function"===typeof e[n])return!0;return!1}(e,["next","error","complete"])?e:{next:e,error:t,complete:n},void 0===r.next&&(r.next=Pr),void 0===r.error&&(r.error=Pr),void 0===r.complete&&(r.complete=Pr);const i=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((()=>{try{this.finalError?r.error(this.finalError):r.complete()}catch(Mm){}})),this.observers.push(r),i}unsubscribeOne(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then((()=>{if(void 0!==this.observers&&void 0!==this.observers[e])try{t(this.observers[e])}catch(Mm){"undefined"!==typeof console&&console.error&&console.error(Mm)}}))}close(e){this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then((()=>{this.observers=void 0,this.onNoObservers=void 0})))}}function Pr(){}function Rr(e,t){return`${e} failed: ${t} argument `}const Nr=function(e){let t=0;for(let n=0;n<e.length;n++){const r=e.charCodeAt(n);r<128?t++:r<2048?t+=2:r>=55296&&r<=56319?(t+=4,n++):t+=3}return t};function Or(e){return e&&e._delegate?e._delegate:e}class Ar{constructor(e,t,n){this.name=e,this.instanceFactory=t,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const Dr="[DEFAULT]";class Lr{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const e=new ar;if(this.instancesDeferred.set(t,e),this.isInitialized(t)||this.shouldAutoInitialize())try{const n=this.getOrInitializeService({instanceIdentifier:t});n&&e.resolve(n)}catch(Mm){}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const n=this.normalizeInstanceIdentifier(null===e||void 0===e?void 0:e.identifier),r=null!==(t=null===e||void 0===e?void 0:e.optional)&&void 0!==t&&t;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(r)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(Mm){if(r)return null;throw Mm}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,this.shouldAutoInitialize()){if(function(e){return"EAGER"===e.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:Dr})}catch(Mm){}for(const[e,t]of this.instancesDeferred.entries()){const n=this.normalizeInstanceIdentifier(e);try{const e=this.getOrInitializeService({instanceIdentifier:n});t.resolve(e)}catch(Mm){}}}}clearInstance(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Dr;this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter((e=>"INTERNAL"in e)).map((e=>e.INTERNAL.delete())),...e.filter((e=>"_delete"in e)).map((e=>e._delete()))])}isComponentSet(){return null!=this.component}isInitialized(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Dr;return this.instances.has(e)}getOptions(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Dr;return this.instancesOptions.get(e)||{}}initialize(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{options:t={}}=e,n=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(n))throw Error(`${this.name}(${n}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const r=this.getOrInitializeService({instanceIdentifier:n,options:t});for(const[i,o]of this.instancesDeferred.entries()){n===this.normalizeInstanceIdentifier(i)&&o.resolve(r)}return r}onInit(e,t){var n;const r=this.normalizeInstanceIdentifier(t),i=null!==(n=this.onInitCallbacks.get(r))&&void 0!==n?n:new Set;i.add(e),this.onInitCallbacks.set(r,i);const o=this.instances.get(r);return o&&e(o,r),()=>{i.delete(e)}}invokeOnInitCallbacks(e,t){const n=this.onInitCallbacks.get(t);if(n)for(const i of n)try{i(e,t)}catch(r){}}getOrInitializeService(e){let{instanceIdentifier:t,options:n={}}=e,r=this.instances.get(t);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:(i=t,i===Dr?void 0:i),options:n}),this.instances.set(t,r),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(r,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,r)}catch(o){}var i;return r||null}normalizeInstanceIdentifier(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Dr;return this.component?this.component.multipleInstances?e:Dr:e}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class Mr{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new Lr(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}const Fr=[];var jr;!function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"}(jr||(jr={}));const Ur={debug:jr.DEBUG,verbose:jr.VERBOSE,info:jr.INFO,warn:jr.WARN,error:jr.ERROR,silent:jr.SILENT},zr=jr.INFO,qr={[jr.DEBUG]:"log",[jr.VERBOSE]:"log",[jr.INFO]:"info",[jr.WARN]:"warn",[jr.ERROR]:"error"},Hr=function(e,t){if(t<e.logLevel)return;const n=(new Date).toISOString(),r=qr[t];if(!r)throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`);for(var i=arguments.length,o=new Array(i>2?i-2:0),s=2;s<i;s++)o[s-2]=arguments[s];console[r](`[${n}]  ${e.name}:`,...o)};class $r{constructor(e){this.name=e,this._logLevel=zr,this._logHandler=Hr,this._userLogHandler=null,Fr.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in jr))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel="string"===typeof e?Ur[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if("function"!==typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,jr.DEBUG,...t),this._logHandler(this,jr.DEBUG,...t)}log(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,jr.VERBOSE,...t),this._logHandler(this,jr.VERBOSE,...t)}info(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,jr.INFO,...t),this._logHandler(this,jr.INFO,...t)}warn(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,jr.WARN,...t),this._logHandler(this,jr.WARN,...t)}error(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,jr.ERROR,...t),this._logHandler(this,jr.ERROR,...t)}}let Vr,Wr;const Br=new WeakMap,Qr=new WeakMap,Kr=new WeakMap,Yr=new WeakMap,Gr=new WeakMap;let Jr={get(e,t,n){if(e instanceof IDBTransaction){if("done"===t)return Qr.get(e);if("objectStoreNames"===t)return e.objectStoreNames||Kr.get(e);if("store"===t)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return ei(e[t])},set:(e,t,n)=>(e[t]=n,!0),has:(e,t)=>e instanceof IDBTransaction&&("done"===t||"store"===t)||t in e};function Xr(e){return e!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(Wr||(Wr=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(e)?function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return e.apply(ti(this),n),ei(Br.get(this))}:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return ei(e.apply(ti(this),n))}:function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];const o=e.call(ti(this),t,...r);return Kr.set(o,t.sort?t.sort():[t]),ei(o)}}function Zr(e){return"function"===typeof e?Xr(e):(e instanceof IDBTransaction&&function(e){if(Qr.has(e))return;const t=new Promise(((t,n)=>{const r=()=>{e.removeEventListener("complete",i),e.removeEventListener("error",o),e.removeEventListener("abort",o)},i=()=>{t(),r()},o=()=>{n(e.error||new DOMException("AbortError","AbortError")),r()};e.addEventListener("complete",i),e.addEventListener("error",o),e.addEventListener("abort",o)}));Qr.set(e,t)}(e),t=e,(Vr||(Vr=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])).some((e=>t instanceof e))?new Proxy(e,Jr):e);var t}function ei(e){if(e instanceof IDBRequest)return function(e){const t=new Promise(((t,n)=>{const r=()=>{e.removeEventListener("success",i),e.removeEventListener("error",o)},i=()=>{t(ei(e.result)),r()},o=()=>{n(e.error),r()};e.addEventListener("success",i),e.addEventListener("error",o)}));return t.then((t=>{t instanceof IDBCursor&&Br.set(t,e)})).catch((()=>{})),Gr.set(t,e),t}(e);if(Yr.has(e))return Yr.get(e);const t=Zr(e);return t!==e&&(Yr.set(e,t),Gr.set(t,e)),t}const ti=e=>Gr.get(e);const ni=["get","getKey","getAll","getAllKeys","count"],ri=["put","add","delete","clear"],ii=new Map;function oi(e,t){if(!(e instanceof IDBDatabase)||t in e||"string"!==typeof t)return;if(ii.get(t))return ii.get(t);const n=t.replace(/FromIndex$/,""),r=t!==n,i=ri.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!i&&!ni.includes(n))return;const o=async function(e){const t=this.transaction(e,i?"readwrite":"readonly");let o=t.store;for(var s=arguments.length,a=new Array(s>1?s-1:0),l=1;l<s;l++)a[l-1]=arguments[l];return r&&(o=o.index(a.shift())),(await Promise.all([o[n](...a),i&&t.done]))[0]};return ii.set(t,o),o}Jr=(e=>({...e,get:(t,n,r)=>oi(t,n)||e.get(t,n,r),has:(t,n)=>!!oi(t,n)||e.has(t,n)}))(Jr);class si{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map((e=>{if(function(e){const t=e.getComponent();return"VERSION"===(null===t||void 0===t?void 0:t.type)}(e)){const t=e.getImmediate();return`${t.library}/${t.version}`}return null})).filter((e=>e)).join(" ")}}const ai="@firebase/app",li="0.11.2",ui=new $r("@firebase/app"),ci="@firebase/app-compat",di="@firebase/analytics-compat",hi="@firebase/analytics",fi="@firebase/app-check-compat",pi="@firebase/app-check",mi="@firebase/auth",gi="@firebase/auth-compat",vi="@firebase/database",yi="@firebase/data-connect",_i="@firebase/database-compat",bi="@firebase/functions",wi="@firebase/functions-compat",Si="@firebase/installations",ki="@firebase/installations-compat",Ci="@firebase/messaging",Ei="@firebase/messaging-compat",Ti="@firebase/performance",Ii="@firebase/performance-compat",xi="@firebase/remote-config",Pi="@firebase/remote-config-compat",Ri="@firebase/storage",Ni="@firebase/storage-compat",Oi="@firebase/firestore",Ai="@firebase/vertexai",Di="@firebase/firestore-compat",Li="firebase",Mi="[DEFAULT]",Fi={[ai]:"fire-core",[ci]:"fire-core-compat",[hi]:"fire-analytics",[di]:"fire-analytics-compat",[pi]:"fire-app-check",[fi]:"fire-app-check-compat",[mi]:"fire-auth",[gi]:"fire-auth-compat",[vi]:"fire-rtdb",[yi]:"fire-data-connect",[_i]:"fire-rtdb-compat",[bi]:"fire-fn",[wi]:"fire-fn-compat",[Si]:"fire-iid",[ki]:"fire-iid-compat",[Ci]:"fire-fcm",[Ei]:"fire-fcm-compat",[Ti]:"fire-perf",[Ii]:"fire-perf-compat",[xi]:"fire-rc",[Pi]:"fire-rc-compat",[Ri]:"fire-gcs",[Ni]:"fire-gcs-compat",[Oi]:"fire-fst",[Di]:"fire-fst-compat",[Ai]:"fire-vertex","fire-js":"fire-js",[Li]:"fire-js-all"},ji=new Map,Ui=new Map,zi=new Map;function qi(e,t){try{e.container.addComponent(t)}catch(Mm){ui.debug(`Component ${t.name} failed to register with FirebaseApp ${e.name}`,Mm)}}function Hi(e){const t=e.name;if(zi.has(t))return ui.debug(`There were multiple attempts to register component ${t}.`),!1;zi.set(t,e);for(const n of ji.values())qi(n,e);for(const n of Ui.values())qi(n,e);return!0}function $i(e,t){const n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}function Vi(e){return null!==e&&void 0!==e&&void 0!==e.settings}const Wi=new fr("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."});class Bi{constructor(e,t,n){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new Ar("app",(()=>this),"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Wi.create("app-deleted",{appName:this._name})}}const Qi="11.4.0";function Ki(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e;if("object"!==typeof t){t={name:t}}const r=Object.assign({name:Mi,automaticDataCollectionEnabled:!1},t),i=r.name;if("string"!==typeof i||!i)throw Wi.create("bad-app-name",{appName:String(i)});if(n||(n=or()),!n)throw Wi.create("no-options");const o=ji.get(i);if(o){if(Sr(n,o.options)&&Sr(r,o.config))return o;throw Wi.create("duplicate-app",{appName:i})}const s=new Mr(i);for(const l of zi.values())s.addComponent(l);const a=new Bi(n,r,s);return ji.set(i,a),a}function Yi(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Mi;const t=ji.get(e);if(!t&&e===Mi&&or())return Ki();if(!t)throw Wi.create("no-app",{appName:e});return t}function Gi(e,t,n){var r;let i=null!==(r=Fi[e])&&void 0!==r?r:e;n&&(i+=`-${n}`);const o=i.match(/\s|\//),s=t.match(/\s|\//);if(o||s){const e=[`Unable to register library "${i}" with version "${t}":`];return o&&e.push(`library name "${i}" contains illegal characters (whitespace or "/")`),o&&s&&e.push("and"),s&&e.push(`version name "${t}" contains illegal characters (whitespace or "/")`),void ui.warn(e.join(" "))}Hi(new Ar(`${i}-version`,(()=>({library:i,version:t})),"VERSION"))}const Ji="firebase-heartbeat-store";let Xi=null;function Zi(){return Xi||(Xi=function(e,t){let{blocked:n,upgrade:r,blocking:i,terminated:o}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const s=indexedDB.open(e,t),a=ei(s);return r&&s.addEventListener("upgradeneeded",(e=>{r(ei(s.result),e.oldVersion,e.newVersion,ei(s.transaction),e)})),n&&s.addEventListener("blocked",(e=>n(e.oldVersion,e.newVersion,e))),a.then((e=>{o&&e.addEventListener("close",(()=>o())),i&&e.addEventListener("versionchange",(e=>i(e.oldVersion,e.newVersion,e)))})).catch((()=>{})),a}("firebase-heartbeat-database",1,{upgrade:(e,t)=>{if(0===t)try{e.createObjectStore(Ji)}catch(Mm){console.warn(Mm)}}}).catch((e=>{throw Wi.create("idb-open",{originalErrorMessage:e.message})}))),Xi}async function eo(e,t){try{const n=(await Zi()).transaction(Ji,"readwrite"),r=n.objectStore(Ji);await r.put(t,to(e)),await n.done}catch(Mm){if(Mm instanceof hr)ui.warn(Mm.message);else{const t=Wi.create("idb-set",{originalErrorMessage:null===Mm||void 0===Mm?void 0:Mm.message});ui.warn(t.message)}}}function to(e){return`${e.name}!${e.options.appId}`}class no{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new io(t),this._heartbeatsCachePromise=this._storage.read().then((e=>(this._heartbeatsCache=e,e)))}async triggerHeartbeat(){var e,t;try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=ro();if(null==(null===(e=this._heartbeatsCache)||void 0===e?void 0:e.heartbeats)&&(this._heartbeatsCache=await this._heartbeatsCachePromise,null==(null===(t=this._heartbeatsCache)||void 0===t?void 0:t.heartbeats)))return;if(this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some((e=>e.date===r)))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats.length>30){const e=function(e){if(0===e.length)return-1;let t=0,n=e[0].date;for(let r=1;r<e.length;r++)e[r].date<n&&(n=e[r].date,t=r);return t}(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(e,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(Mm){ui.warn(Mm)}}async getHeartbeatsHeader(){var e;try{if(null===this._heartbeatsCache&&await this._heartbeatsCachePromise,null==(null===(e=this._heartbeatsCache)||void 0===e?void 0:e.heartbeats)||0===this._heartbeatsCache.heartbeats.length)return"";const t=ro(),{heartbeatsToSend:n,unsentEntries:r}=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1024;const n=[];let r=e.slice();for(const i of e){const e=n.find((e=>e.agent===i.agent));if(e){if(e.dates.push(i.date),oo(n)>t){e.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),oo(n)>t){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}(this._heartbeatsCache.heartbeats),i=Xn(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=t,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}catch(Mm){return ui.warn(Mm),""}}}function ro(){return(new Date).toISOString().substring(0,10)}class io{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return!!function(){try{return"object"===typeof indexedDB}catch(Mm){return!1}}()&&new Promise(((e,t)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var e;t((null===(e=i.error)||void 0===e?void 0:e.message)||"")}}catch(Wl){t(Wl)}})).then((()=>!0)).catch((()=>!1))}async read(){if(await this._canUseIndexedDBPromise){const e=await async function(e){try{const t=(await Zi()).transaction(Ji),n=await t.objectStore(Ji).get(to(e));return await t.done,n}catch(Mm){if(Mm instanceof hr)ui.warn(Mm.message);else{const t=Wi.create("idb-get",{originalErrorMessage:null===Mm||void 0===Mm?void 0:Mm.message});ui.warn(t.message)}}}(this.app);return(null===e||void 0===e?void 0:e.heartbeats)?e:{heartbeats:[]}}return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const n=await this.read();return eo(this.app,{lastSentHeartbeatDate:null!==(t=e.lastSentHeartbeatDate)&&void 0!==t?t:n.lastSentHeartbeatDate,heartbeats:e.heartbeats})}}async add(e){var t;if(await this._canUseIndexedDBPromise){const n=await this.read();return eo(this.app,{lastSentHeartbeatDate:null!==(t=e.lastSentHeartbeatDate)&&void 0!==t?t:n.lastSentHeartbeatDate,heartbeats:[...n.heartbeats,...e.heartbeats]})}}}function oo(e){return Xn(JSON.stringify({version:2,heartbeats:e})).length}var so;so="",Hi(new Ar("platform-logger",(e=>new si(e)),"PRIVATE")),Hi(new Ar("heartbeat",(e=>new no(e)),"PRIVATE")),Gi(ai,li,so),Gi(ai,li,"esm2017"),Gi("fire-js","");function ao(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}Object.create;Object.create;"function"===typeof SuppressedError&&SuppressedError;function lo(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const uo=lo,co=new fr("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),ho=new $r("@firebase/auth");function fo(e){if(ho.logLevel<=jr.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];ho.error(`Auth (${Qi}): ${e}`,...n)}}function po(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw _o(e,...n)}function mo(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return _o(e,...n)}function go(e,t,n){const r=Object.assign(Object.assign({},uo()),{[t]:n});return new fr("auth","Firebase",r).create(t,{appName:e.name})}function vo(e){return go(e,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function yo(e,t,n){if(!(t instanceof n))throw n.name!==t.constructor.name&&po(e,"argument-error"),go(e,"argument-error",`Type of ${t.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function _o(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];if("string"!==typeof e){const t=n[0],r=[...n.slice(1)];return r[0]&&(r[0].appName=e.name),e._errorFactory.create(t,...r)}return co.create(e,...n)}function bo(e,t){if(!e){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];throw _o(t,...r)}}function wo(e){const t="INTERNAL ASSERTION FAILED: "+e;throw fo(t),new Error(t)}function So(e,t){e||wo(t)}function ko(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.href)||""}function Co(){return"http:"===Eo()||"https:"===Eo()}function Eo(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.protocol)||null}function To(){return!("undefined"!==typeof navigator&&navigator&&"onLine"in navigator&&"boolean"===typeof navigator.onLine&&(Co()||function(){const e="object"===typeof chrome?chrome.runtime:"object"===typeof browser?browser.runtime:void 0;return"object"===typeof e&&void 0!==e.id}()||"connection"in navigator))||navigator.onLine}class Io{constructor(e,t){this.shortDelay=e,this.longDelay=t,So(t>e,"Short delay should be less than long delay!"),this.isMobile=ur()||cr()}get(){return To()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function xo(e,t){So(e.emulator,"Emulator should always be set here");const{url:n}=e.emulator;return t?`${n}${t.startsWith("/")?t.slice(1):t}`:n}class Po{static initialize(e,t,n){this.fetchImpl=e,t&&(this.headersImpl=t),n&&(this.responseImpl=n)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!==typeof self&&"fetch"in self?self.fetch:"undefined"!==typeof globalThis&&globalThis.fetch?globalThis.fetch:"undefined"!==typeof fetch?fetch:void wo("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!==typeof self&&"Headers"in self?self.Headers:"undefined"!==typeof globalThis&&globalThis.Headers?globalThis.Headers:"undefined"!==typeof Headers?Headers:void wo("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!==typeof self&&"Response"in self?self.Response:"undefined"!==typeof globalThis&&globalThis.Response?globalThis.Response:"undefined"!==typeof Response?Response:void wo("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const Ro={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},No=new Io(3e4,6e4);function Oo(e,t){return e.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:e.tenantId}):t}async function Ao(e,t,n,r){return Do(e,arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},(async()=>{let i={},o={};r&&("GET"===t?o=r:i={body:JSON.stringify(r)});const s=Cr(Object.assign({key:e.config.apiKey},o)).slice(1),a=await e._getAdditionalHeaders();a["Content-Type"]="application/json",e.languageCode&&(a["X-Firebase-Locale"]=e.languageCode);const l=Object.assign({method:t,headers:a},i);return"undefined"!==typeof navigator&&"Cloudflare-Workers"===navigator.userAgent||(l.referrerPolicy="no-referrer"),Po.fetch()(Mo(e,e.config.apiHost,n,s),l)}))}async function Do(e,t,n){e._canInitEmulator=!1;const r=Object.assign(Object.assign({},Ro),t);try{const t=new jo(e),i=await Promise.race([n(),t.promise]);t.clearNetworkTimeout();const o=await i.json();if("needConfirmation"in o)throw Uo(e,"account-exists-with-different-credential",o);if(i.ok&&!("errorMessage"in o))return o;{const t=i.ok?o.errorMessage:o.error.message,[n,s]=t.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===n)throw Uo(e,"credential-already-in-use",o);if("EMAIL_EXISTS"===n)throw Uo(e,"email-already-in-use",o);if("USER_DISABLED"===n)throw Uo(e,"user-disabled",o);const a=r[n]||n.toLowerCase().replace(/[_\s]+/g,"-");if(s)throw go(e,a,s);po(e,a)}}catch(Mm){if(Mm instanceof hr)throw Mm;po(e,"network-request-failed",{message:String(Mm)})}}async function Lo(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};const o=await Ao(e,t,n,r,i);return"mfaPendingCredential"in o&&po(e,"multi-factor-auth-required",{_serverResponse:o}),o}function Mo(e,t,n,r){const i=`${t}${n}?${r}`;return e.config.emulator?xo(e.config,i):`${e.config.apiScheme}://${i}`}function Fo(e){switch(e){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class jo{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise(((e,t)=>{this.timer=setTimeout((()=>t(mo(this.auth,"network-request-failed"))),No.get())}))}}function Uo(e,t,n){const r={appName:e.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=mo(e,t,r);return i.customData._tokenResponse=n,i}function zo(e){return void 0!==e&&void 0!==e.enterprise}class qo{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],void 0===e.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||0===this.recaptchaEnforcementState.length)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return Fo(t.enforcementState);return null}isProviderEnabled(e){return"ENFORCE"===this.getProviderEnforcementState(e)||"AUDIT"===this.getProviderEnforcementState(e)}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function Ho(e,t){return Ao(e,"GET","/v2/recaptchaConfig",Oo(e,t))}async function $o(e,t){return Ao(e,"POST","/v1/accounts:lookup",t)}function Vo(e){if(e)try{const t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch(Mm){}}function Wo(e){return 1e3*Number(e)}function Bo(e){const[t,n,r]=e.split(".");if(void 0===t||void 0===n||void 0===r)return fo("JWT malformed, contained fewer than 3 sections"),null;try{const e=Zn(n);return e?JSON.parse(e):(fo("Failed to decode base64 JWT payload"),null)}catch(Mm){return fo("Caught error parsing JWT payload as JSON",null===Mm||void 0===Mm?void 0:Mm.toString()),null}}function Qo(e){const t=Bo(e);return bo(t,"internal-error"),bo("undefined"!==typeof t.exp,"internal-error"),bo("undefined"!==typeof t.iat,"internal-error"),Number(t.exp)-Number(t.iat)}async function Ko(e,t){if(arguments.length>2&&void 0!==arguments[2]&&arguments[2])return t;try{return await t}catch(Mm){throw Mm instanceof hr&&function(e){let{code:t}=e;return"auth/user-disabled"===t||"auth/user-token-expired"===t}(Mm)&&e.auth.currentUser===e&&await e.auth.signOut(),Mm}}class Yo{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const e=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),e}{this.errorBackoff=3e4;const e=(null!==(t=this.user.stsTokenManager.expirationTime)&&void 0!==t?t:0)-Date.now()-3e5;return Math.max(0,e)}}schedule(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout((async()=>{await this.iteration()}),t)}async iteration(){try{await this.user.getIdToken(!0)}catch(Mm){return void("auth/network-request-failed"===(null===Mm||void 0===Mm?void 0:Mm.code)&&this.schedule(!0))}this.schedule()}}class Go{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=Vo(this.lastLoginAt),this.creationTime=Vo(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function Jo(e){var t;const n=e.auth,r=await e.getIdToken(),i=await Ko(e,$o(n,{idToken:r}));bo(null===i||void 0===i?void 0:i.users.length,n,"internal-error");const o=i.users[0];e._notifyReloadListener(o);const s=(null===(t=o.providerUserInfo)||void 0===t?void 0:t.length)?Xo(o.providerUserInfo):[],a=(l=e.providerData,u=s,[...l.filter((e=>!u.some((t=>t.providerId===e.providerId)))),...u]);var l,u;const c=e.isAnonymous,d=!(e.email&&o.passwordHash)&&!(null===a||void 0===a?void 0:a.length),h=!!c&&d,f={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:a,metadata:new Go(o.createdAt,o.lastLoginAt),isAnonymous:h};Object.assign(e,f)}function Xo(e){return e.map((e=>{var{providerId:t}=e,n=ao(e,["providerId"]);return{providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}}))}class Zo{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){bo(e.idToken,"internal-error"),bo("undefined"!==typeof e.idToken,"internal-error"),bo("undefined"!==typeof e.refreshToken,"internal-error");const t="expiresIn"in e&&"undefined"!==typeof e.expiresIn?Number(e.expiresIn):Qo(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){bo(0!==e.length,"internal-error");const t=Qo(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e){return arguments.length>1&&void 0!==arguments[1]&&arguments[1]||!this.accessToken||this.isExpired?(bo(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null):this.accessToken}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:n,refreshToken:r,expiresIn:i}=await async function(e,t){const n=await Do(e,{},(async()=>{const n=Cr({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:r,apiKey:i}=e.config,o=Mo(e,r,"/v1/token",`key=${i}`),s=await e._getAdditionalHeaders();return s["Content-Type"]="application/x-www-form-urlencoded",Po.fetch()(o,{method:"POST",headers:s,body:n})}));return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}(e,t);this.updateTokensAndExpiration(n,r,Number(i))}updateTokensAndExpiration(e,t,n){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*n}static fromJSON(e,t){const{refreshToken:n,accessToken:r,expirationTime:i}=t,o=new Zo;return n&&(bo("string"===typeof n,"internal-error",{appName:e}),o.refreshToken=n),r&&(bo("string"===typeof r,"internal-error",{appName:e}),o.accessToken=r),i&&(bo("number"===typeof i,"internal-error",{appName:e}),o.expirationTime=i),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Zo,this.toJSON())}_performRefresh(){return wo("not implemented")}}function es(e,t){bo("string"===typeof e||"undefined"===typeof e,"internal-error",{appName:t})}class ts{constructor(e){var{uid:t,auth:n,stsTokenManager:r}=e,i=ao(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Yo(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new Go(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const t=await Ko(this,this.stsTokenManager.getToken(this.auth,e));return bo(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return async function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n=Or(e),r=await n.getIdToken(t),i=Bo(r);bo(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const o="object"===typeof i.firebase?i.firebase:void 0,s=null===o||void 0===o?void 0:o.sign_in_provider;return{claims:i,token:r,authTime:Vo(Wo(i.auth_time)),issuedAtTime:Vo(Wo(i.iat)),expirationTime:Vo(Wo(i.exp)),signInProvider:s||null,signInSecondFactor:(null===o||void 0===o?void 0:o.sign_in_second_factor)||null}}(this,e)}reload(){return async function(e){const t=Or(e);await Jo(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}(this)}_assign(e){this!==e&&(bo(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map((e=>Object.assign({},e))),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new ts(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){bo(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),n=!0),t&&await Jo(this),await this.auth._persistUserIfCurrent(this),n&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Vi(this.auth.app))return Promise.reject(vo(this.auth));const e=await this.getIdToken();return await Ko(this,async function(e,t){return Ao(e,"POST","/v1/accounts:delete",t)}(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map((e=>Object.assign({},e))),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var n,r,i,o,s,a,l,u;const c=null!==(n=t.displayName)&&void 0!==n?n:void 0,d=null!==(r=t.email)&&void 0!==r?r:void 0,h=null!==(i=t.phoneNumber)&&void 0!==i?i:void 0,f=null!==(o=t.photoURL)&&void 0!==o?o:void 0,p=null!==(s=t.tenantId)&&void 0!==s?s:void 0,m=null!==(a=t._redirectEventId)&&void 0!==a?a:void 0,g=null!==(l=t.createdAt)&&void 0!==l?l:void 0,v=null!==(u=t.lastLoginAt)&&void 0!==u?u:void 0,{uid:y,emailVerified:_,isAnonymous:b,providerData:w,stsTokenManager:S}=t;bo(y&&S,e,"internal-error");const k=Zo.fromJSON(this.name,S);bo("string"===typeof y,e,"internal-error"),es(c,e.name),es(d,e.name),bo("boolean"===typeof _,e,"internal-error"),bo("boolean"===typeof b,e,"internal-error"),es(h,e.name),es(f,e.name),es(p,e.name),es(m,e.name),es(g,e.name),es(v,e.name);const C=new ts({uid:y,auth:e,email:d,emailVerified:_,displayName:c,isAnonymous:b,photoURL:f,phoneNumber:h,tenantId:p,stsTokenManager:k,createdAt:g,lastLoginAt:v});return w&&Array.isArray(w)&&(C.providerData=w.map((e=>Object.assign({},e)))),m&&(C._redirectEventId=m),C}static async _fromIdTokenResponse(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r=new Zo;r.updateFromServerResponse(t);const i=new ts({uid:t.localId,auth:e,stsTokenManager:r,isAnonymous:n});return await Jo(i),i}static async _fromGetAccountInfoResponse(e,t,n){const r=t.users[0];bo(void 0!==r.localId,"internal-error");const i=void 0!==r.providerUserInfo?Xo(r.providerUserInfo):[],o=!(r.email&&r.passwordHash)&&!(null===i||void 0===i?void 0:i.length),s=new Zo;s.updateFromIdToken(n);const a=new ts({uid:r.localId,auth:e,stsTokenManager:s,isAnonymous:o}),l={uid:r.localId,displayName:r.displayName||null,photoURL:r.photoUrl||null,email:r.email||null,emailVerified:r.emailVerified||!1,phoneNumber:r.phoneNumber||null,tenantId:r.tenantId||null,providerData:i,metadata:new Go(r.createdAt,r.lastLoginAt),isAnonymous:!(r.email&&r.passwordHash)&&!(null===i||void 0===i?void 0:i.length)};return Object.assign(a,l),a}}const ns=new Map;function rs(e){So(e instanceof Function,"Expected a class definition");let t=ns.get(e);return t?(So(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,ns.set(e,t),t)}class is{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return void 0===t?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}is.type="NONE";const os=is;function ss(e,t,n){return`firebase:${e}:${t}:${n}`}class as{constructor(e,t,n){this.persistence=e,this.auth=t,this.userKey=n;const{config:r,name:i}=this.auth;this.fullUserKey=ss(this.userKey,r.apiKey,i),this.fullPersistenceKey=ss("persistence",r.apiKey,i),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?ts._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();return await this.removeCurrentUser(),this.persistence=e,t?this.setCurrentUser(t):void 0}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"authUser";if(!t.length)return new as(rs(os),e,n);const r=(await Promise.all(t.map((async e=>{if(await e._isAvailable())return e})))).filter((e=>e));let i=r[0]||rs(os);const o=ss(n,e.config.apiKey,e.name);let s=null;for(const u of t)try{const t=await u._get(o);if(t){const n=ts._fromJSON(e,t);u!==i&&(s=n),i=u;break}}catch(l){}const a=r.filter((e=>e._shouldAllowMigration));return i._shouldAllowMigration&&a.length?(i=a[0],s&&await i._set(o,s.toJSON()),await Promise.all(t.map((async e=>{if(e!==i)try{await e._remove(o)}catch(l){}}))),new as(i,e,n)):new as(i,e,n)}}function ls(e){const t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(hs(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(us(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(ps(t))return"Blackberry";if(ms(t))return"Webos";if(cs(t))return"Safari";if((t.includes("chrome/")||ds(t))&&!t.includes("edge/"))return"Chrome";if(fs(t))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,n=e.match(t);if(2===(null===n||void 0===n?void 0:n.length))return n[1]}return"Other"}function us(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:lr();return/firefox\//i.test(e)}function cs(){const e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:lr()).toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function ds(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:lr();return/crios\//i.test(e)}function hs(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:lr();return/iemobile/i.test(e)}function fs(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:lr();return/android/i.test(e)}function ps(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:lr();return/blackberry/i.test(e)}function ms(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:lr();return/webos/i.test(e)}function gs(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:lr();return/iphone|ipad|ipod/i.test(e)||/macintosh/i.test(e)&&/mobile/i.test(e)}function vs(){return function(){const e=lr();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}()&&10===document.documentMode}function ys(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:lr();return gs(e)||fs(e)||ms(e)||ps(e)||/windows phone/i.test(e)||hs(e)}function _s(e){let t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];switch(e){case"Browser":t=ls(lr());break;case"Worker":t=`${ls(lr())}-${e}`;break;default:t=e}const r=n.length?n.join(","):"FirebaseCore-web";return`${t}/JsCore/${Qi}/${r}`}class bs{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const n=t=>new Promise(((n,r)=>{try{n(e(t))}catch(Mm){r(Mm)}}));n.onAbort=t,this.queue.push(n);const r=this.queue.length-1;return()=>{this.queue[r]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const n of this.queue)await n(e),n.onAbort&&t.push(n.onAbort)}catch(Mm){t.reverse();for(const r of t)try{r()}catch(n){}throw this.auth._errorFactory.create("login-blocked",{originalMessage:null===Mm||void 0===Mm?void 0:Mm.message})}}}class ws{constructor(e){var t,n,r,i;const o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=null!==(t=o.minPasswordLength)&&void 0!==t?t:6,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),void 0!==o.containsLowercaseCharacter&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),void 0!==o.containsUppercaseCharacter&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),void 0!==o.containsNumericCharacter&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),void 0!==o.containsNonAlphanumericCharacter&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,"ENFORCEMENT_STATE_UNSPECIFIED"===this.enforcementState&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=null!==(r=null===(n=e.allowedNonAlphanumericCharacters)||void 0===n?void 0:n.join(""))&&void 0!==r?r:"",this.forceUpgradeOnSignin=null!==(i=e.forceUpgradeOnSignin)&&void 0!==i&&i,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,n,r,i,o,s;const a={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,a),this.validatePasswordCharacterOptions(e,a),a.isValid&&(a.isValid=null===(t=a.meetsMinPasswordLength)||void 0===t||t),a.isValid&&(a.isValid=null===(n=a.meetsMaxPasswordLength)||void 0===n||n),a.isValid&&(a.isValid=null===(r=a.containsLowercaseLetter)||void 0===r||r),a.isValid&&(a.isValid=null===(i=a.containsUppercaseLetter)||void 0===i||i),a.isValid&&(a.isValid=null===(o=a.containsNumericCharacter)||void 0===o||o),a.isValid&&(a.isValid=null===(s=a.containsNonAlphanumericCharacter)||void 0===s||s),a}validatePasswordLengthOptions(e,t){const n=this.customStrengthOptions.minPasswordLength,r=this.customStrengthOptions.maxPasswordLength;n&&(t.meetsMinPasswordLength=e.length>=n),r&&(t.meetsMaxPasswordLength=e.length<=r)}validatePasswordCharacterOptions(e,t){let n;this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);for(let r=0;r<e.length;r++)n=e.charAt(r),this.updatePasswordCharacterOptionsStatuses(t,n>="a"&&n<="z",n>="A"&&n<="Z",n>="0"&&n<="9",this.allowedNonAlphanumericCharacters.includes(n))}updatePasswordCharacterOptionsStatuses(e,t,n,r,i){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=n)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=r)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=i))}}class Ss{constructor(e,t,n,r){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=n,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Cs(this),this.idTokenSubscription=new Cs(this),this.beforeStateQueue=new bs(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=co,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=r.sdkClientVersion}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=rs(t)),this._initializationPromise=this.queue((async()=>{var n,r;if(!this._deleted&&(this.persistenceManager=await as.create(this,e),!this._deleted)){if(null===(n=this._popupRedirectResolver)||void 0===n?void 0:n._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch(Mm){}await this.initializeCurrentUser(t),this.lastNotifiedUid=(null===(r=this.currentUser)||void 0===r?void 0:r.uid)||null,this._deleted||(this._isInitialized=!0)}})),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();return this.currentUser||e?this.currentUser&&e&&this.currentUser.uid===e.uid?(this._currentUser._assign(e),void await this.currentUser.getIdToken()):void await this._updateCurrentUser(e,!0):void 0}async initializeCurrentUserFromIdToken(e){try{const t=await $o(this,{idToken:e}),n=await ts._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(n)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var t;if(Vi(this.app)){const e=this.app.settings.authIdToken;return e?new Promise((t=>{setTimeout((()=>this.initializeCurrentUserFromIdToken(e).then(t,t)))})):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let r=n,i=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const n=null===(t=this.redirectUser)||void 0===t?void 0:t._redirectEventId,o=null===r||void 0===r?void 0:r._redirectEventId,s=await this.tryRedirectSignIn(e);n&&n!==o||!(null===s||void 0===s?void 0:s.user)||(r=s.user,i=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(r)}catch(Mm){r=n,this._popupRedirectResolver._overrideRedirectResult(this,(()=>Promise.reject(Mm)))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return bo(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch(Mm){await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await Jo(e)}catch(Mm){if("auth/network-request-failed"!==(null===Mm||void 0===Mm?void 0:Mm.code))return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=function(){if("undefined"===typeof navigator)return null;const e=navigator;return e.languages&&e.languages[0]||e.language||null}()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Vi(this.app))return Promise.reject(vo(this));const t=e?Or(e):null;return t&&bo(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!this._deleted)return e&&bo(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue((async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()}))}async signOut(){return Vi(this.app)?Promise.reject(vo(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Vi(this.app)?Promise.reject(vo(this)):this.queue((async()=>{await this.assertedPersistence.setPersistence(rs(e))}))}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return null===this.tenantId?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await async function(e){return Ao(e,"GET","/v2/passwordPolicy",Oo(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}))}(this),t=new ws(e);null===this.tenantId?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new fr("auth","Firebase",e())}onAuthStateChanged(e,t,n){return this.registerStateListener(this.authStateSubscription,e,t,n)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,n){return this.registerStateListener(this.idTokenSubscription,e,t,n)}authStateReady(){return new Promise(((e,t)=>{if(this.currentUser)e();else{const n=this.onAuthStateChanged((()=>{n(),e()}),t)}}))}async revokeAccessToken(e){if(this.currentUser){const t={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:await this.currentUser.getIdToken()};null!=this.tenantId&&(t.tenantId=this.tenantId),await async function(e,t){return Ao(e,"POST","/v2/accounts:revokeToken",Oo(e,t))}(this,t)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}async _setRedirectUser(e,t){const n=await this.getOrInitRedirectPersistenceManager(t);return null===e?n.removeCurrentUser():n.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&rs(e)||this._popupRedirectResolver;bo(t,this,"argument-error"),this.redirectPersistenceManager=await as.create(this,[rs(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,n;return this._isInitialized&&await this.queue((async()=>{})),(null===(t=this._currentUser)||void 0===t?void 0:t._redirectEventId)===e?this._currentUser:(null===(n=this.redirectUser)||void 0===n?void 0:n._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue((async()=>this.directlySetCurrentUser(e)))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const n=null!==(t=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==t?t:null;this.lastNotifiedUid!==n&&(this.lastNotifiedUid=n,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,n,r){if(this._deleted)return()=>{};const i="function"===typeof t?t:t.next.bind(t);let o=!1;const s=this._isInitialized?Promise.resolve():this._initializationPromise;if(bo(s,this,"internal-error"),s.then((()=>{o||i(this.currentUser)})),"function"===typeof t){const i=e.addObserver(t,n,r);return()=>{o=!0,i()}}{const n=e.addObserver(t);return()=>{o=!0,n()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return bo(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){e&&!this.frameworks.includes(e)&&(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=_s(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const n=await(null===(e=this.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===e?void 0:e.getHeartbeatsHeader());n&&(t["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(t["X-Firebase-AppCheck"]=r),t}async _getAppCheckToken(){var e;if(Vi(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await(null===(e=this.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===e?void 0:e.getToken());return(null===t||void 0===t?void 0:t.error)&&function(e){if(ho.logLevel<=jr.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];ho.warn(`Auth (${Qi}): ${e}`,...n)}}(`Error while retrieving App Check token: ${t.error}`),null===t||void 0===t?void 0:t.token}}function ks(e){return Or(e)}class Cs{constructor(e){this.auth=e,this.observer=null,this.addObserver=function(e,t){const n=new xr(e,t);return n.subscribe.bind(n)}((e=>this.observer=e))}get next(){return bo(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let Es={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function Ts(e){return Es.loadJS(e)}function Is(e){return`__${e}${Math.floor(1e6*Math.random())}`}class xs{constructor(){this.enterprise=new Ps}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class Ps{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}const Rs="NO_RECAPTCHA";class Ns{constructor(e){this.type="recaptcha-enterprise",this.auth=ks(e)}async verify(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"verify",t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];function n(t,n,r){const i=window.grecaptcha;zo(i)?i.enterprise.ready((()=>{i.enterprise.execute(t,{action:e}).then((e=>{n(e)})).catch((()=>{n(Rs)}))})):r(Error("No reCAPTCHA enterprise script loaded."))}if(this.auth.settings.appVerificationDisabledForTesting){return(new xs).execute("siteKey",{action:"verify"})}return new Promise(((e,r)=>{(async function(e){if(!t){if(null==e.tenantId&&null!=e._agentRecaptchaConfig)return e._agentRecaptchaConfig.siteKey;if(null!=e.tenantId&&void 0!==e._tenantRecaptchaConfigs[e.tenantId])return e._tenantRecaptchaConfigs[e.tenantId].siteKey}return new Promise((async(t,n)=>{Ho(e,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then((r=>{if(void 0!==r.recaptchaKey){const n=new qo(r);return null==e.tenantId?e._agentRecaptchaConfig=n:e._tenantRecaptchaConfigs[e.tenantId]=n,t(n.siteKey)}n(new Error("recaptcha Enterprise site key undefined"))})).catch((e=>{n(e)}))}))})(this.auth).then((i=>{if(!t&&zo(window.grecaptcha))n(i,e,r);else{if("undefined"===typeof window)return void r(new Error("RecaptchaVerifier is only supported in browser"));let t=Es.recaptchaEnterpriseScript;0!==t.length&&(t+=i),Ts(t).then((()=>{n(i,e,r)})).catch((e=>{r(e)}))}})).catch((e=>{r(e)}))}))}}async function Os(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],i=arguments.length>4&&void 0!==arguments[4]&&arguments[4];const o=new Ns(e);let s;if(i)s=Rs;else try{s=await o.verify(n)}catch(Wl){s=await o.verify(n,!0)}const a=Object.assign({},t);if("mfaSmsEnrollment"===n||"mfaSmsSignIn"===n){if("phoneEnrollmentInfo"in a){const e=a.phoneEnrollmentInfo.phoneNumber,t=a.phoneEnrollmentInfo.recaptchaToken;Object.assign(a,{phoneEnrollmentInfo:{phoneNumber:e,recaptchaToken:t,captchaResponse:s,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in a){const e=a.phoneSignInInfo.recaptchaToken;Object.assign(a,{phoneSignInInfo:{recaptchaToken:e,captchaResponse:s,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return a}return r?Object.assign(a,{captchaResp:s}):Object.assign(a,{captchaResponse:s}),Object.assign(a,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(a,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),a}async function As(e,t,n,r,i){var o,s;if("EMAIL_PASSWORD_PROVIDER"===i){if(null===(o=e._getRecaptchaConfig())||void 0===o?void 0:o.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const i=await Os(e,t,n,"getOobCode"===n);return r(e,i)}return r(e,t).catch((async i=>{if("auth/missing-recaptcha-token"===i.code){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const i=await Os(e,t,n,"getOobCode"===n);return r(e,i)}return Promise.reject(i)}))}if("PHONE_PROVIDER"===i){if(null===(s=e._getRecaptchaConfig())||void 0===s?void 0:s.isProviderEnabled("PHONE_PROVIDER")){const i=await Os(e,t,n);return r(e,i).catch((async i=>{var o;if("AUDIT"===(null===(o=e._getRecaptchaConfig())||void 0===o?void 0:o.getProviderEnforcementState("PHONE_PROVIDER"))&&("auth/missing-recaptcha-token"===i.code||"auth/invalid-app-credential"===i.code)){console.log(`Failed to verify with reCAPTCHA Enterprise. Automatically triggering the reCAPTCHA v2 flow to complete the ${n} flow.`);const i=await Os(e,t,n,!1,!0);return r(e,i)}return Promise.reject(i)}))}{const i=await Os(e,t,n,!1,!0);return r(e,i)}}return Promise.reject(i+" provider is not supported.")}async function Ds(e){const t=ks(e),n=await Ho(t,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),r=new qo(n);if(null==t.tenantId?t._agentRecaptchaConfig=r:t._tenantRecaptchaConfigs[t.tenantId]=r,r.isAnyProviderEnabled()){new Ns(t).verify()}}function Ls(e,t,n){const r=ks(e);bo(/^https?:\/\//.test(t),r,"invalid-emulator-scheme");const i=!!(null===n||void 0===n?void 0:n.disableWarnings),o=Ms(t),{host:s,port:a}=function(e){const t=Ms(e),n=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const e=i[1];return{host:e,port:Fs(r.substr(e.length+1))}}{const[e,t]=r.split(":");return{host:e,port:Fs(t)}}}(t),l={url:`${o}//${s}${null===a?"":`:${a}`}/`},u=Object.freeze({host:s,port:a,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!r._canInitEmulator)return bo(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),void bo(Sr(l,r.config.emulator)&&Sr(u,r.emulatorConfig),r,"emulator-config-failed");r.config.emulator=l,r.emulatorConfig=u,r.settings.appVerificationDisabledForTesting=!0,i||function(){function e(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}"undefined"!==typeof console&&"function"===typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials.");"undefined"!==typeof window&&"undefined"!==typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",e):e())}()}function Ms(e){const t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function Fs(e){if(!e)return null;const t=Number(e);return isNaN(t)?null:t}class js{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return wo("not implemented")}_getIdTokenResponse(e){return wo("not implemented")}_linkToIdToken(e,t){return wo("not implemented")}_getReauthenticationResolver(e){return wo("not implemented")}}async function Us(e,t){return Ao(e,"POST","/v1/accounts:signUp",t)}async function zs(e,t){return Lo(e,"POST","/v1/accounts:signInWithPassword",Oo(e,t))}class qs extends js{constructor(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;super("password",n),this._email=e,this._password=t,this._tenantId=r}static _fromEmailAndPassword(e,t){return new qs(e,t,"password")}static _fromEmailAndCode(e,t){return new qs(e,t,"emailLink",arguments.length>2&&void 0!==arguments[2]?arguments[2]:null)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t="string"===typeof e?JSON.parse(e):e;if((null===t||void 0===t?void 0:t.email)&&(null===t||void 0===t?void 0:t.password)){if("password"===t.signInMethod)return this._fromEmailAndPassword(t.email,t.password);if("emailLink"===t.signInMethod)return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":return As(e,{returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"},"signInWithPassword",zs,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return async function(e,t){return Lo(e,"POST","/v1/accounts:signInWithEmailLink",Oo(e,t))}(e,{email:this._email,oobCode:this._password});default:po(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":return As(e,{idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",Us,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return async function(e,t){return Lo(e,"POST","/v1/accounts:signInWithEmailLink",Oo(e,t))}(e,{idToken:t,email:this._email,oobCode:this._password});default:po(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}async function Hs(e,t){return Lo(e,"POST","/v1/accounts:signInWithIdp",Oo(e,t))}class $s extends js{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new $s(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):po("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t="string"===typeof e?JSON.parse(e):e,{providerId:n,signInMethod:r}=t,i=ao(t,["providerId","signInMethod"]);if(!n||!r)return null;const o=new $s(n,r);return o.idToken=i.idToken||void 0,o.accessToken=i.accessToken||void 0,o.secret=i.secret,o.nonce=i.nonce,o.pendingToken=i.pendingToken||null,o}_getIdTokenResponse(e){return Hs(e,this.buildRequest())}_linkToIdToken(e,t){const n=this.buildRequest();return n.idToken=t,Hs(e,n)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,Hs(e,t)}buildRequest(){const e={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=Cr(t)}return e}}async function Vs(e,t){return Ao(e,"POST","/v1/accounts:sendVerificationCode",Oo(e,t))}const Ws={USER_NOT_FOUND:"user-not-found"};class Bs extends js{constructor(e){super("phone","phone"),this.params=e}static _fromVerification(e,t){return new Bs({verificationId:e,verificationCode:t})}static _fromTokenResponse(e,t){return new Bs({phoneNumber:e,temporaryProof:t})}_getIdTokenResponse(e){return async function(e,t){return Lo(e,"POST","/v1/accounts:signInWithPhoneNumber",Oo(e,t))}(e,this._makeVerificationRequest())}_linkToIdToken(e,t){return async function(e,t){const n=await Lo(e,"POST","/v1/accounts:signInWithPhoneNumber",Oo(e,t));if(n.temporaryProof)throw Uo(e,"account-exists-with-different-credential",n);return n}(e,Object.assign({idToken:t},this._makeVerificationRequest()))}_getReauthenticationResolver(e){return async function(e,t){return Lo(e,"POST","/v1/accounts:signInWithPhoneNumber",Oo(e,Object.assign(Object.assign({},t),{operation:"REAUTH"})),Ws)}(e,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:e,phoneNumber:t,verificationId:n,verificationCode:r}=this.params;return e&&t?{temporaryProof:e,phoneNumber:t}:{sessionInfo:n,code:r}}toJSON(){const e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}static fromJSON(e){"string"===typeof e&&(e=JSON.parse(e));const{verificationId:t,verificationCode:n,phoneNumber:r,temporaryProof:i}=e;return n||t||r||i?new Bs({verificationId:t,verificationCode:n,phoneNumber:r,temporaryProof:i}):null}}class Qs{constructor(e){var t,n,r,i,o,s;const a=Er(Tr(e)),l=null!==(t=a.apiKey)&&void 0!==t?t:null,u=null!==(n=a.oobCode)&&void 0!==n?n:null,c=function(e){switch(e){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(r=a.mode)&&void 0!==r?r:null);bo(l&&u&&c,"argument-error"),this.apiKey=l,this.operation=c,this.code=u,this.continueUrl=null!==(i=a.continueUrl)&&void 0!==i?i:null,this.languageCode=null!==(o=a.languageCode)&&void 0!==o?o:null,this.tenantId=null!==(s=a.tenantId)&&void 0!==s?s:null}static parseLink(e){const t=function(e){const t=Er(Tr(e)).link,n=t?Er(Tr(t)).deep_link_id:null,r=Er(Tr(e)).deep_link_id;return(r?Er(Tr(r)).link:null)||r||n||t||e}(e);try{return new Qs(t)}catch(n){return null}}}class Ks{constructor(){this.providerId=Ks.PROVIDER_ID}static credential(e,t){return qs._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const n=Qs.parseLink(t);return bo(n,"argument-error"),qs._fromEmailAndCode(e,n.code,n.tenantId)}}Ks.PROVIDER_ID="password",Ks.EMAIL_PASSWORD_SIGN_IN_METHOD="password",Ks.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class Ys{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class Gs extends Ys{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class Js extends Gs{constructor(){super("facebook.com")}static credential(e){return $s._fromParams({providerId:Js.PROVIDER_ID,signInMethod:Js.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Js.credentialFromTaggedObject(e)}static credentialFromError(e){return Js.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return Js.credential(t.oauthAccessToken)}catch(n){return null}}}Js.FACEBOOK_SIGN_IN_METHOD="facebook.com",Js.PROVIDER_ID="facebook.com";class Xs extends Gs{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return $s._fromParams({providerId:Xs.PROVIDER_ID,signInMethod:Xs.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return Xs.credentialFromTaggedObject(e)}static credentialFromError(e){return Xs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{oauthIdToken:n,oauthAccessToken:r}=t;if(!n&&!r)return null;try{return Xs.credential(n,r)}catch(i){return null}}}Xs.GOOGLE_SIGN_IN_METHOD="google.com",Xs.PROVIDER_ID="google.com";class Zs extends Gs{constructor(){super("github.com")}static credential(e){return $s._fromParams({providerId:Zs.PROVIDER_ID,signInMethod:Zs.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Zs.credentialFromTaggedObject(e)}static credentialFromError(e){return Zs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return Zs.credential(t.oauthAccessToken)}catch(n){return null}}}Zs.GITHUB_SIGN_IN_METHOD="github.com",Zs.PROVIDER_ID="github.com";class ea extends Gs{constructor(){super("twitter.com")}static credential(e,t){return $s._fromParams({providerId:ea.PROVIDER_ID,signInMethod:ea.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return ea.credentialFromTaggedObject(e)}static credentialFromError(e){return ea.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=t;if(!n||!r)return null;try{return ea.credential(n,r)}catch(i){return null}}}ea.TWITTER_SIGN_IN_METHOD="twitter.com",ea.PROVIDER_ID="twitter.com";class ta{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const i=await ts._fromIdTokenResponse(e,n,r),o=na(n);return new ta({user:i,providerId:o,_tokenResponse:n,operationType:t})}static async _forOperation(e,t,n){await e._updateTokensIfNecessary(n,!0);const r=na(n);return new ta({user:e,providerId:r,_tokenResponse:n,operationType:t})}}function na(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}class ra extends hr{constructor(e,t,n,r){var i;super(t.code,t.message),this.operationType=n,this.user=r,Object.setPrototypeOf(this,ra.prototype),this.customData={appName:e.name,tenantId:null!==(i=e.tenantId)&&void 0!==i?i:void 0,_serverResponse:t.customData._serverResponse,operationType:n}}static _fromErrorAndOperation(e,t,n,r){return new ra(e,t,n,r)}}function ia(e,t,n,r){return("reauthenticate"===t?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch((n=>{if("auth/multi-factor-auth-required"===n.code)throw ra._fromErrorAndOperation(e,n,t,r);throw n}))}async function oa(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r=await Ko(e,t._linkToIdToken(e.auth,await e.getIdToken()),n);return ta._forOperation(e,"link",r)}async function sa(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const{auth:r}=e;if(Vi(r.app))return Promise.reject(vo(r));const i="reauthenticate";try{const o=await Ko(e,ia(r,i,t,e),n);bo(o.idToken,r,"internal-error");const s=Bo(o.idToken);bo(s,r,"internal-error");const{sub:a}=s;return bo(e.uid===a,r,"user-mismatch"),ta._forOperation(e,i,o)}catch(Mm){throw"auth/user-not-found"===(null===Mm||void 0===Mm?void 0:Mm.code)&&po(r,"user-mismatch"),Mm}}async function aa(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(Vi(e.app))return Promise.reject(vo(e));const r="signIn",i=await ia(e,r,t),o=await ta._fromIdTokenResponse(e,r,i);return n||await e._updateCurrentUser(o.user),o}function la(e,t){return Ao(e,"POST","/v2/accounts/mfaEnrollment:start",Oo(e,t))}new WeakMap;const ua="__sak";class ca{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(ua,"1"),this.storage.removeItem(ua),Promise.resolve(!0)):Promise.resolve(!1)}catch(e){return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}class da extends ca{constructor(){super((()=>window.localStorage),"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=ys(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const n=this.storage.getItem(t),r=this.localCache[t];n!==r&&e(t,r,n)}}onStorageEvent(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!e.key)return void this.forAllChangedKeys(((e,t,n)=>{this.notifyListeners(e,n)}));const n=e.key;t?this.detachListener():this.stopPolling();const r=()=>{const e=this.storage.getItem(n);(t||this.localCache[n]!==e)&&this.notifyListeners(n,e)},i=this.storage.getItem(n);vs()&&i!==e.newValue&&e.newValue!==e.oldValue?setTimeout(r,10):r()}notifyListeners(e,t){this.localCache[e]=t;const n=this.listeners[e];if(n)for(const r of Array.from(n))r(t?JSON.parse(t):t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval((()=>{this.forAllChangedKeys(((e,t,n)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:n}),!0)}))}),1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}da.type="LOCAL";const ha=da;class fa extends ca{constructor(){super((()=>window.sessionStorage),"SESSION")}_addListener(e,t){}_removeListener(e,t){}}fa.type="SESSION";const pa=fa;class ma{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find((t=>t.isListeningto(e)));if(t)return t;const n=new ma(e);return this.receivers.push(n),n}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:n,eventType:r,data:i}=t.data,o=this.handlersMap[r];if(!(null===o||void 0===o?void 0:o.size))return;t.ports[0].postMessage({status:"ack",eventId:n,eventType:r});const s=Array.from(o).map((async e=>e(t.origin,i))),a=await function(e){return Promise.all(e.map((async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}})))}(s);t.ports[0].postMessage({status:"done",eventId:n,eventType:r,response:a})}_subscribe(e,t){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),t&&0!==this.handlersMap[e].size||delete this.handlersMap[e],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}function ga(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,n="";for(let r=0;r<t;r++)n+=Math.floor(10*Math.random());return e+n}ma.receivers=[];class va{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:50;const r="undefined"!==typeof MessageChannel?new MessageChannel:null;if(!r)throw new Error("connection_unavailable");let i,o;return new Promise(((s,a)=>{const l=ga("",20);r.port1.start();const u=setTimeout((()=>{a(new Error("unsupported_event"))}),n);o={messageChannel:r,onMessage(e){const t=e;if(t.data.eventId===l)switch(t.data.status){case"ack":clearTimeout(u),i=setTimeout((()=>{a(new Error("timeout"))}),3e3);break;case"done":clearTimeout(i),s(t.data.response);break;default:clearTimeout(u),clearTimeout(i),a(new Error("invalid_response"))}}},this.handlers.add(o),r.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:l,data:t},[r.port2])})).finally((()=>{o&&this.removeMessageHandler(o)}))}}function ya(){return window}function _a(){return"undefined"!==typeof ya().WorkerGlobalScope&&"function"===typeof ya().importScripts}const ba="firebaseLocalStorageDb",wa="firebaseLocalStorage",Sa="fbase_key";class ka{constructor(e){this.request=e}toPromise(){return new Promise(((e,t)=>{this.request.addEventListener("success",(()=>{e(this.request.result)})),this.request.addEventListener("error",(()=>{t(this.request.error)}))}))}}function Ca(e,t){return e.transaction([wa],t?"readwrite":"readonly").objectStore(wa)}function Ea(){const e=indexedDB.open(ba,1);return new Promise(((t,n)=>{e.addEventListener("error",(()=>{n(e.error)})),e.addEventListener("upgradeneeded",(()=>{const t=e.result;try{t.createObjectStore(wa,{keyPath:Sa})}catch(Mm){n(Mm)}})),e.addEventListener("success",(async()=>{const n=e.result;n.objectStoreNames.contains(wa)?t(n):(n.close(),await function(){const e=indexedDB.deleteDatabase(ba);return new ka(e).toPromise()}(),t(await Ea()))}))}))}async function Ta(e,t,n){const r=Ca(e,!0).put({[Sa]:t,value:n});return new ka(r).toPromise()}function Ia(e,t){const n=Ca(e,!0).delete(t);return new ka(n).toPromise()}class xa{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then((()=>{}),(()=>{}))}async _openDb(){return this.db||(this.db=await Ea()),this.db}async _withRetries(e){let t=0;for(;;)try{const t=await this._openDb();return await e(t)}catch(Mm){if(t++>3)throw Mm;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return _a()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=ma._getInstance(_a()?self:null),this.receiver._subscribe("keyChanged",(async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)}))),this.receiver._subscribe("ping",(async(e,t)=>["keyChanged"]))}async initializeSender(){var e,t;if(this.activeServiceWorker=await async function(){if(!(null===navigator||void 0===navigator?void 0:navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch(e){return null}}(),!this.activeServiceWorker)return;this.sender=new va(this.activeServiceWorker);const n=await this.sender._send("ping",{},800);n&&(null===(e=n[0])||void 0===e?void 0:e.fulfilled)&&(null===(t=n[0])||void 0===t?void 0:t.value.includes("keyChanged"))&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(this.sender&&this.activeServiceWorker&&function(){var e;return(null===(e=null===navigator||void 0===navigator?void 0:navigator.serviceWorker)||void 0===e?void 0:e.controller)||null}()===this.activeServiceWorker)try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch(t){}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Ea();return await Ta(e,ua,"1"),await Ia(e,ua),!0}catch(e){}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite((async()=>(await this._withRetries((n=>Ta(n,e,t))),this.localCache[e]=t,this.notifyServiceWorker(e))))}async _get(e){const t=await this._withRetries((t=>async function(e,t){const n=Ca(e,!1).get(t),r=await new ka(n).toPromise();return void 0===r?null:r.value}(t,e)));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite((async()=>(await this._withRetries((t=>Ia(t,e))),delete this.localCache[e],this.notifyServiceWorker(e))))}async _poll(){const e=await this._withRetries((e=>{const t=Ca(e,!1).getAll();return new ka(t).toPromise()}));if(!e)return[];if(0!==this.pendingWrites)return[];const t=[],n=new Set;if(0!==e.length)for(const{fbase_key:r,value:i}of e)n.add(r),JSON.stringify(this.localCache[r])!==JSON.stringify(i)&&(this.notifyListeners(r,i),t.push(r));for(const r of Object.keys(this.localCache))this.localCache[r]&&!n.has(r)&&(this.notifyListeners(r,null),t.push(r));return t}notifyListeners(e,t){this.localCache[e]=t;const n=this.listeners[e];if(n)for(const r of Array.from(n))r(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval((async()=>this._poll()),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&this.stopPolling()}}xa.type="LOCAL";const Pa=xa;function Ra(e,t){return Ao(e,"POST","/v2/accounts/mfaSignIn:start",Oo(e,t))}Is("rcb"),new Io(3e4,6e4);const Na="recaptcha";async function Oa(e,t,n){var r;if(!e._getRecaptchaConfig())try{await Ds(e)}catch(Wl){console.log("Failed to initialize reCAPTCHA Enterprise config. Triggering the reCAPTCHA v2 verification.")}try{let i;if(i="string"===typeof t?{phoneNumber:t}:t,"session"in i){const t=i.session;if("phoneNumber"in i){bo("enroll"===t.type,e,"internal-error");const r={idToken:t.credential,phoneEnrollmentInfo:{phoneNumber:i.phoneNumber,clientType:"CLIENT_TYPE_WEB"}},o=As(e,r,"mfaSmsEnrollment",(async(e,t)=>{if(t.phoneEnrollmentInfo.captchaResponse===Rs){bo((null===n||void 0===n?void 0:n.type)===Na,e,"argument-error");return la(e,await Aa(e,t,n))}return la(e,t)}),"PHONE_PROVIDER"),s=await o.catch((e=>Promise.reject(e)));return s.phoneSessionInfo.sessionInfo}{bo("signin"===t.type,e,"internal-error");const o=(null===(r=i.multiFactorHint)||void 0===r?void 0:r.uid)||i.multiFactorUid;bo(o,e,"missing-multi-factor-info");const s={mfaPendingCredential:t.credential,mfaEnrollmentId:o,phoneSignInInfo:{clientType:"CLIENT_TYPE_WEB"}},a=As(e,s,"mfaSmsSignIn",(async(e,t)=>{if(t.phoneSignInInfo.captchaResponse===Rs){bo((null===n||void 0===n?void 0:n.type)===Na,e,"argument-error");return Ra(e,await Aa(e,t,n))}return Ra(e,t)}),"PHONE_PROVIDER"),l=await a.catch((e=>Promise.reject(e)));return l.phoneResponseInfo.sessionInfo}}{const t={phoneNumber:i.phoneNumber,clientType:"CLIENT_TYPE_WEB"},r=As(e,t,"sendVerificationCode",(async(e,t)=>{if(t.captchaResponse===Rs){bo((null===n||void 0===n?void 0:n.type)===Na,e,"argument-error");return Vs(e,await Aa(e,t,n))}return Vs(e,t)}),"PHONE_PROVIDER"),o=await r.catch((e=>Promise.reject(e)));return o.sessionInfo}}finally{null===n||void 0===n||n._reset()}}async function Aa(e,t,n){bo(n.type===Na,e,"argument-error");const r=await n.verify();bo("string"===typeof r,e,"argument-error");const i=Object.assign({},t);if("phoneEnrollmentInfo"in i){const e=i.phoneEnrollmentInfo.phoneNumber,t=i.phoneEnrollmentInfo.captchaResponse,n=i.phoneEnrollmentInfo.clientType,o=i.phoneEnrollmentInfo.recaptchaVersion;return Object.assign(i,{phoneEnrollmentInfo:{phoneNumber:e,recaptchaToken:r,captchaResponse:t,clientType:n,recaptchaVersion:o}}),i}if("phoneSignInInfo"in i){const e=i.phoneSignInInfo.captchaResponse,t=i.phoneSignInInfo.clientType,n=i.phoneSignInInfo.recaptchaVersion;return Object.assign(i,{phoneSignInInfo:{recaptchaToken:r,captchaResponse:e,clientType:t,recaptchaVersion:n}}),i}return Object.assign(i,{recaptchaToken:r}),i}class Da{constructor(e){this.providerId=Da.PROVIDER_ID,this.auth=ks(e)}verifyPhoneNumber(e,t){return Oa(this.auth,e,Or(t))}static credential(e,t){return Bs._fromVerification(e,t)}static credentialFromResult(e){const t=e;return Da.credentialFromTaggedObject(t)}static credentialFromError(e){return Da.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{phoneNumber:n,temporaryProof:r}=t;return n&&r?Bs._fromTokenResponse(n,r):null}}function La(e,t){return t?rs(t):(bo(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}Da.PROVIDER_ID="phone",Da.PHONE_SIGN_IN_METHOD="phone";class Ma extends js{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Hs(e,this._buildIdpRequest())}_linkToIdToken(e,t){return Hs(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return Hs(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function Fa(e){return aa(e.auth,new Ma(e),e.bypassAuthState)}function ja(e){const{auth:t,user:n}=e;return bo(n,t,"internal-error"),sa(n,new Ma(e),e.bypassAuthState)}async function Ua(e){const{auth:t,user:n}=e;return bo(n,t,"internal-error"),oa(n,new Ma(e),e.bypassAuthState)}class za{constructor(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]&&arguments[4];this.auth=e,this.resolver=n,this.user=r,this.bypassAuthState=i,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise((async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(Mm){this.reject(Mm)}}))}async onAuthEvent(e){const{urlResponse:t,sessionId:n,postBody:r,tenantId:i,error:o,type:s}=e;if(o)return void this.reject(o);const a={auth:this.auth,requestUri:t,sessionId:n,tenantId:i||void 0,postBody:r||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(s)(a))}catch(Mm){this.reject(Mm)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return Fa;case"linkViaPopup":case"linkViaRedirect":return Ua;case"reauthViaPopup":case"reauthViaRedirect":return ja;default:po(this.auth,"internal-error")}}resolve(e){So(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){So(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const qa=new Io(2e3,1e4);class Ha extends za{constructor(e,t,n,r,i){super(e,t,r,i),this.provider=n,this.authWindow=null,this.pollId=null,Ha.currentPopupAction&&Ha.currentPopupAction.cancel(),Ha.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return bo(e,this.auth,"internal-error"),e}async onExecution(){So(1===this.filter.length,"Popup operations only handle one event");const e=ga();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch((e=>{this.reject(e)})),this.resolver._isIframeWebStorageSupported(this.auth,(e=>{e||this.reject(mo(this.auth,"web-storage-unsupported"))})),this.pollUserCancellation()}get eventId(){var e;return(null===(e=this.authWindow)||void 0===e?void 0:e.associatedEvent)||null}cancel(){this.reject(mo(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Ha.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,n;(null===(n=null===(t=this.authWindow)||void 0===t?void 0:t.window)||void 0===n?void 0:n.closed)?this.pollId=window.setTimeout((()=>{this.pollId=null,this.reject(mo(this.auth,"popup-closed-by-user"))}),8e3):this.pollId=window.setTimeout(e,qa.get())};e()}}Ha.currentPopupAction=null;const $a=new Map;class Va extends za{constructor(e,t){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,arguments.length>2&&void 0!==arguments[2]&&arguments[2]),this.eventId=null}async execute(){let e=$a.get(this.auth._key());if(!e){try{const t=await async function(e,t){const n=Qa(t),r=Ba(e);if(!await r._isAvailable())return!1;const i="true"===await r._get(n);return await r._remove(n),i}(this.resolver,this.auth),n=t?await super.execute():null;e=()=>Promise.resolve(n)}catch(Mm){e=()=>Promise.reject(Mm)}$a.set(this.auth._key(),e)}return this.bypassAuthState||$a.set(this.auth._key(),(()=>Promise.resolve(null))),e()}async onAuthEvent(e){if("signInViaRedirect"===e.type)return super.onAuthEvent(e);if("unknown"!==e.type){if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}else this.resolve(null)}async onExecution(){}cleanUp(){}}function Wa(e,t){$a.set(e._key(),t)}function Ba(e){return rs(e._redirectPersistence)}function Qa(e){return ss("pendingRedirect",e.config.apiKey,e.name)}async function Ka(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(Vi(e.app))return Promise.reject(vo(e));const r=ks(e),i=La(r,t),o=new Va(r,i,n),s=await o.execute();return s&&!n&&(delete s.user._redirectEventId,await r._persistUserIfCurrent(s.user),await r._setRedirectUser(null,t)),s}class Ya{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach((n=>{this.isEventForConsumer(e,n)&&(t=!0,this.sendToConsumer(e,n),this.saveEventToCache(e))})),this.hasHandledPotentialRedirect||!function(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Ja(e);default:return!1}}(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var n;if(e.error&&!Ja(e)){const r=(null===(n=e.error.code)||void 0===n?void 0:n.split("auth/")[1])||"internal-error";t.onError(mo(this.auth,r))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const n=null===t.eventId||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&n}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(Ga(e))}saveEventToCache(e){this.cachedEventUids.add(Ga(e)),this.lastProcessedEventTime=Date.now()}}function Ga(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter((e=>e)).join("-")}function Ja(e){let{type:t,error:n}=e;return"unknown"===t&&"auth/no-auth-event"===(null===n||void 0===n?void 0:n.code)}const Xa=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Za=/^https?/;async function el(e){if(e.config.emulator)return;const{authorizedDomains:t}=await async function(e){return Ao(e,"GET","/v1/projects",arguments.length>1&&void 0!==arguments[1]?arguments[1]:{})}(e);for(const r of t)try{if(tl(r))return}catch(n){}po(e,"unauthorized-domain")}function tl(e){const t=ko(),{protocol:n,hostname:r}=new URL(t);if(e.startsWith("chrome-extension://")){const i=new URL(e);return""===i.hostname&&""===r?"chrome-extension:"===n&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):"chrome-extension:"===n&&i.hostname===r}if(!Za.test(n))return!1;if(Xa.test(e))return r===e;const i=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}const nl=new Io(3e4,6e4);function rl(){const e=ya().___jsl;if(null===e||void 0===e?void 0:e.H)for(const t of Object.keys(e.H))if(e.H[t].r=e.H[t].r||[],e.H[t].L=e.H[t].L||[],e.H[t].r=[...e.H[t].L],e.CP)for(let n=0;n<e.CP.length;n++)e.CP[n]=null}function il(e){return new Promise(((t,n)=>{var r,i,o;function s(){rl(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{rl(),n(mo(e,"network-request-failed"))},timeout:nl.get()})}if(null===(i=null===(r=ya().gapi)||void 0===r?void 0:r.iframes)||void 0===i?void 0:i.Iframe)t(gapi.iframes.getContext());else{if(!(null===(o=ya().gapi)||void 0===o?void 0:o.load)){const t=Is("iframefcb");return ya()[t]=()=>{gapi.load?s():n(mo(e,"network-request-failed"))},Ts(`${Es.gapiScript}?onload=${t}`).catch((e=>n(e)))}s()}})).catch((e=>{throw ol=null,e}))}let ol=null;const sl=new Io(5e3,15e3),al={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},ll=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function ul(e){const t=e.config;bo(t.authDomain,e,"auth-domain-config-required");const n=t.emulator?xo(t,"emulator/auth/iframe"):`https://${e.config.authDomain}/__/auth/iframe`,r={apiKey:t.apiKey,appName:e.name,v:Qi},i=ll.get(e.config.apiHost);i&&(r.eid=i);const o=e._getFrameworks();return o.length&&(r.fw=o.join(",")),`${n}?${Cr(r).slice(1)}`}async function cl(e){const t=await function(e){return ol=ol||il(e),ol}(e),n=ya().gapi;return bo(n,e,"internal-error"),t.open({where:document.body,url:ul(e),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:al,dontclear:!0},(t=>new Promise((async(n,r)=>{await t.restyle({setHideOnLeave:!1});const i=mo(e,"network-request-failed"),o=ya().setTimeout((()=>{r(i)}),sl.get());function s(){ya().clearTimeout(o),n(t)}t.ping(s).then(s,(()=>{r(i)}))}))))}const dl={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class hl{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch(Mm){}}}function fl(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:500,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:600;const o=Math.max((window.screen.availHeight-i)/2,0).toString(),s=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const l=Object.assign(Object.assign({},dl),{width:r.toString(),height:i.toString(),top:o,left:s}),u=lr().toLowerCase();n&&(a=ds(u)?"_blank":n),us(u)&&(t=t||"http://localhost",l.scrollbars="yes");const c=Object.entries(l).reduce(((e,t)=>{let[n,r]=t;return`${e}${n}=${r},`}),"");if(function(){var e;return gs(arguments.length>0&&void 0!==arguments[0]?arguments[0]:lr())&&!!(null===(e=window.navigator)||void 0===e?void 0:e.standalone)}(u)&&"_self"!==a)return function(e,t){const n=document.createElement("a");n.href=e,n.target=t;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}(t||"",a),new hl(null);const d=window.open(t||"",a,c);bo(d,e,"popup-blocked");try{d.focus()}catch(Mm){}return new hl(d)}const pl="__/auth/handler",ml="emulator/auth/handler",gl=encodeURIComponent("fac");async function vl(e,t,n,r,i,o){bo(e.config.authDomain,e,"auth-domain-config-required"),bo(e.config.apiKey,e,"invalid-api-key");const s={apiKey:e.config.apiKey,appName:e.name,authType:n,redirectUrl:r,v:Qi,eventId:i};if(t instanceof Ys){t.setDefaultLanguage(e.languageCode),s.providerId=t.providerId||"",br(t.getCustomParameters())||(s.customParameters=JSON.stringify(t.getCustomParameters()));for(const[e,t]of Object.entries(o||{}))s[e]=t}if(t instanceof Gs){const e=t.getScopes().filter((e=>""!==e));e.length>0&&(s.scopes=e.join(","))}e.tenantId&&(s.tid=e.tenantId);const a=s;for(const c of Object.keys(a))void 0===a[c]&&delete a[c];const l=await e._getAppCheckToken(),u=l?`#${gl}=${encodeURIComponent(l)}`:"";return`${function(e){let{config:t}=e;if(!t.emulator)return`https://${t.authDomain}/${pl}`;return xo(t,ml)}(e)}?${Cr(a).slice(1)}${u}`}const yl="webStorageSupport";const _l=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=pa,this._completeRedirectFn=Ka,this._overrideRedirectResult=Wa}async _openPopup(e,t,n,r){var i;So(null===(i=this.eventManagers[e._key()])||void 0===i?void 0:i.manager,"_initialize() not called before _openPopup()");return fl(e,await vl(e,t,n,ko(),r),ga())}async _openRedirect(e,t,n,r){await this._originValidation(e);return function(e){ya().location.href=e}(await vl(e,t,n,ko(),r)),new Promise((()=>{}))}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:e,promise:n}=this.eventManagers[t];return e?Promise.resolve(e):(So(n,"If manager is not set, promise should be"),n)}const n=this.initAndGetManager(e);return this.eventManagers[t]={promise:n},n.catch((()=>{delete this.eventManagers[t]})),n}async initAndGetManager(e){const t=await cl(e),n=new Ya(e);return t.register("authEvent",(t=>{bo(null===t||void 0===t?void 0:t.authEvent,e,"invalid-auth-event");return{status:n.onEvent(t.authEvent)?"ACK":"ERROR"}}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:n},this.iframes[e._key()]=t,n}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(yl,{type:yl},(n=>{var r;const i=null===(r=null===n||void 0===n?void 0:n[0])||void 0===r?void 0:r[yl];void 0!==i&&t(!!i),po(e,"internal-error")}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=el(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return ys()||cs()||gs()}};var bl="@firebase/auth",wl="1.9.1";class Sl{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}async getToken(e){if(this.assertAuthConfigured(),await this.auth._initializationPromise,!this.auth.currentUser)return null;return{accessToken:await this.auth.currentUser.getIdToken(e)}}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged((t=>{e((null===t||void 0===t?void 0:t.stsTokenManager.accessToken)||null)}));this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){bo(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}const kl=sr("authIdTokenMaxAge")||300;let Cl=null;var El,Tl;El={loadJS:e=>new Promise(((t,n)=>{const r=document.createElement("script");r.setAttribute("src",e),r.onload=t,r.onerror=e=>{const t=mo("internal-error");t.customData=e,n(t)},r.type="text/javascript",r.charset="UTF-8",function(){var e,t;return null!==(t=null===(e=document.getElementsByTagName("head"))||void 0===e?void 0:e[0])&&void 0!==t?t:document}().appendChild(r)})),gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="},Es=El,Tl="Browser",Hi(new Ar("auth",((e,t)=>{let{options:n}=t;const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:s,authDomain:a}=r.options;bo(s&&!s.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:s,authDomain:a,clientPlatform:Tl,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:_s(Tl)},u=new Ss(r,i,o,l);return function(e,t){const n=(null===t||void 0===t?void 0:t.persistence)||[],r=(Array.isArray(n)?n:[n]).map(rs);(null===t||void 0===t?void 0:t.errorMap)&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(r,null===t||void 0===t?void 0:t.popupRedirectResolver)}(u,n),u}),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback(((e,t,n)=>{e.getProvider("auth-internal").initialize()}))),Hi(new Ar("auth-internal",(e=>(e=>new Sl(e))(ks(e.getProvider("auth").getImmediate()))),"PRIVATE").setInstantiationMode("EXPLICIT")),Gi(bl,wl,function(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}(Tl)),Gi(bl,wl,"esm2017");const Il="@firebase/database",xl="1.0.13";let Pl="";function Rl(e){Pl=e}class Nl{constructor(e){this.domStorage_=e,this.prefix_="firebase:"}set(e,t){null==t?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),gr(t))}get(e){const t=this.domStorage_.getItem(this.prefixedName_(e));return null==t?null:mr(t)}remove(e){this.domStorage_.removeItem(this.prefixedName_(e))}prefixedName_(e){return this.prefix_+e}toString(){return this.domStorage_.toString()}}class Ol{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(e,t){null==t?delete this.cache_[e]:this.cache_[e]=t}get(e){return yr(this.cache_,e)?this.cache_[e]:null}remove(e){delete this.cache_[e]}}const Al=function(e){try{if("undefined"!==typeof window&&"undefined"!==typeof window[e]){const t=window[e];return t.setItem("firebase:sentinel","cache"),t.removeItem("firebase:sentinel"),new Nl(t)}}catch(Mm){}return new Ol},Dl=Al("localStorage"),Ll=Al("sessionStorage"),Ml=new $r("@firebase/database"),Fl=function(){let e=1;return function(){return e++}}(),jl=function(e){const t=function(e){const t=[];let n=0;for(let r=0;r<e.length;r++){let i=e.charCodeAt(r);if(i>=55296&&i<=56319){const t=i-55296;r++,Bn(r<e.length,"Surrogate pair missing trail surrogate."),i=65536+(t<<10)+(e.charCodeAt(r)-56320)}i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):i<65536?(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t}(e),n=new Ir;n.update(t);const r=n.digest();return Yn.encodeByteArray(r)},Ul=function(){let e="";for(let t=0;t<arguments.length;t++){const n=t<0||arguments.length<=t?void 0:arguments[t];Array.isArray(n)||n&&"object"===typeof n&&"number"===typeof n.length?e+=Ul.apply(null,n):e+="object"===typeof n?gr(n):n,e+=" "}return e};let zl=null,ql=!0;const Hl=function(e,t){Bn(!t||!0===e||!1===e,"Can't turn on custom loggers persistently."),!0===e?(Ml.logLevel=jr.VERBOSE,zl=Ml.log.bind(Ml),t&&Ll.set("logging_enabled",!0)):"function"===typeof e?zl=e:(zl=null,Ll.remove("logging_enabled"))},$l=function(){if(!0===ql&&(ql=!1,null===zl&&!0===Ll.get("logging_enabled")&&Hl(!0)),zl){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];const r=Ul.apply(null,t);zl(r)}},Vl=function(e){return function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];$l(e,...n)}},Wl=function(){const e="FIREBASE INTERNAL ERROR: "+Ul(...arguments);Ml.error(e)},Bl=function(){const e=`FIREBASE FATAL ERROR: ${Ul(...arguments)}`;throw Ml.error(e),new Error(e)},Ql=function(){const e="FIREBASE WARNING: "+Ul(...arguments);Ml.warn(e)},Kl=function(e){return"number"===typeof e&&(e!==e||e===Number.POSITIVE_INFINITY||e===Number.NEGATIVE_INFINITY)},Yl="[MIN_NAME]",Gl="[MAX_NAME]",Jl=function(e,t){if(e===t)return 0;if(e===Yl||t===Gl)return-1;if(t===Yl||e===Gl)return 1;{const n=ou(e),r=ou(t);return null!==n?null!==r?n-r===0?e.length-t.length:n-r:-1:null!==r?1:e<t?-1:1}},Xl=function(e,t){return e===t?0:e<t?-1:1},Zl=function(e,t){if(t&&e in t)return t[e];throw new Error("Missing required key ("+e+") in object: "+gr(t))},eu=function(e){if("object"!==typeof e||null===e)return gr(e);const t=[];for(const r in e)t.push(r);t.sort();let n="{";for(let r=0;r<t.length;r++)0!==r&&(n+=","),n+=gr(t[r]),n+=":",n+=eu(e[t[r]]);return n+="}",n},tu=function(e,t){const n=e.length;if(n<=t)return[e];const r=[];for(let i=0;i<n;i+=t)i+t>n?r.push(e.substring(i,n)):r.push(e.substring(i,i+t));return r};function nu(e,t){for(const n in e)e.hasOwnProperty(n)&&t(n,e[n])}const ru=function(e){Bn(!Kl(e),"Invalid JSON number");const t=1023;let n,r,i,o,s;0===e?(r=0,i=0,n=1/e===-1/0?1:0):(n=e<0,(e=Math.abs(e))>=Math.pow(2,-1022)?(o=Math.min(Math.floor(Math.log(e)/Math.LN2),t),r=o+t,i=Math.round(e*Math.pow(2,52-o)-Math.pow(2,52))):(r=0,i=Math.round(e/Math.pow(2,-1074))));const a=[];for(s=52;s;s-=1)a.push(i%2?1:0),i=Math.floor(i/2);for(s=11;s;s-=1)a.push(r%2?1:0),r=Math.floor(r/2);a.push(n?1:0),a.reverse();const l=a.join("");let u="";for(s=0;s<64;s+=8){let e=parseInt(l.substr(s,8),2).toString(16);1===e.length&&(e="0"+e),u+=e}return u.toLowerCase()};const iu=new RegExp("^-?(0*)\\d{1,10}$"),ou=function(e){if(iu.test(e)){const t=Number(e);if(t>=-2147483648&&t<=2147483647)return t}return null},su=function(e){try{e()}catch(Mm){setTimeout((()=>{const t=Mm.stack||"";throw Ql("Exception was thrown by user callback.",t),Mm}),Math.floor(0))}},au=function(e,t){const n=setTimeout(e,t);return"number"===typeof n&&"undefined"!==typeof Deno&&Deno.unrefTimer?Deno.unrefTimer(n):"object"===typeof n&&n.unref&&n.unref(),n};class lu{constructor(e,t){this.appCheckProvider=t,this.appName=e.name,Vi(e)&&e.settings.appCheckToken&&(this.serverAppAppCheckToken=e.settings.appCheckToken),this.appCheck=null===t||void 0===t?void 0:t.getImmediate({optional:!0}),this.appCheck||null===t||void 0===t||t.get().then((e=>this.appCheck=e))}getToken(e){if(this.serverAppAppCheckToken){if(e)throw new Error("Attempted reuse of `FirebaseServerApp.appCheckToken` after previous usage failed.");return Promise.resolve({token:this.serverAppAppCheckToken})}return this.appCheck?this.appCheck.getToken(e):new Promise(((t,n)=>{setTimeout((()=>{this.appCheck?this.getToken(e).then(t,n):t(null)}),0)}))}addTokenChangeListener(e){var t;null===(t=this.appCheckProvider)||void 0===t||t.get().then((t=>t.addTokenListener(e)))}notifyForInvalidToken(){Ql(`Provided AppCheck credentials for the app named "${this.appName}" are invalid. This usually indicates your app was not initialized correctly.`)}}class uu{constructor(e,t,n){this.appName_=e,this.firebaseOptions_=t,this.authProvider_=n,this.auth_=null,this.auth_=n.getImmediate({optional:!0}),this.auth_||n.onInit((e=>this.auth_=e))}getToken(e){return this.auth_?this.auth_.getToken(e).catch((e=>e&&"auth/token-not-initialized"===e.code?($l("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(e))):new Promise(((t,n)=>{setTimeout((()=>{this.auth_?this.getToken(e).then(t,n):t(null)}),0)}))}addTokenChangeListener(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then((t=>t.addAuthTokenListener(e)))}removeTokenChangeListener(e){this.authProvider_.get().then((t=>t.removeAuthTokenListener(e)))}notifyForInvalidToken(){let e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?e+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?e+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':e+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',Ql(e)}}class cu{constructor(e){this.accessToken=e}getToken(e){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(e){e(this.accessToken)}removeTokenChangeListener(e){}notifyForInvalidToken(){}}cu.OWNER="owner";const du="5",hu=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,fu="ac",pu="websocket",mu="long_polling";class gu{constructor(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]&&arguments[4],o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"",s=arguments.length>6&&void 0!==arguments[6]&&arguments[6],a=arguments.length>7&&void 0!==arguments[7]&&arguments[7],l=arguments.length>8&&void 0!==arguments[8]?arguments[8]:null;this.secure=t,this.namespace=n,this.webSocketOnly=r,this.nodeAdmin=i,this.persistenceKey=o,this.includeNamespaceInQueryParams=s,this.isUsingEmulator=a,this.emulatorOptions=l,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=Dl.get("host:"+e)||this._host}isCacheableHost(){return"s-"===this.internalHost.substr(0,2)}isCustomHost(){return"firebaseio.com"!==this._domain&&"firebaseio-demo.com"!==this._domain}get host(){return this._host}set host(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&Dl.set("host:"+this._host,this.internalHost))}toString(){let e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}toURLString(){const e=this.secure?"https://":"http://",t=this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:"";return`${e}${this.host}/${t}`}}function vu(e,t,n){let r;if(Bn("string"===typeof t,"typeof type must == string"),Bn("object"===typeof n,"typeof params must == object"),t===pu)r=(e.secure?"wss://":"ws://")+e.internalHost+"/.ws?";else{if(t!==mu)throw new Error("Unknown connection type: "+t);r=(e.secure?"https://":"http://")+e.internalHost+"/.lp?"}(function(e){return e.host!==e.internalHost||e.isCustomHost()||e.includeNamespaceInQueryParams})(e)&&(n.ns=e.namespace);const i=[];return nu(n,((e,t)=>{i.push(e+"="+t)})),r+i.join("&")}class yu{constructor(){this.counters_={}}incrementCounter(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;yr(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=t}get(){return er(this.counters_)}}const _u={},bu={};function wu(e){const t=e.toString();return _u[t]||(_u[t]=new yu),_u[t]}class Su{constructor(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(e,t){this.closeAfterResponse=e,this.onClose=t,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(e,t){for(this.pendingResponses[e]=t;this.pendingResponses[this.currentResponseNum];){const e=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let t=0;t<e.length;++t)e[t]&&su((()=>{this.onMessage_(e[t])}));if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}const ku="start";class Cu{constructor(e,t,n,r,i,o,s){this.connId=e,this.repoInfo=t,this.applicationId=n,this.appCheckToken=r,this.authToken=i,this.transportSessionId=o,this.lastSessionId=s,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=Vl(e),this.stats_=wu(t),this.urlFn=e=>(this.appCheckToken&&(e[fu]=this.appCheckToken),vu(t,mu,e))}open(e,t){var n=this;this.curSegmentNum=0,this.onDisconnect_=t,this.myPacketOrderer=new Su(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout((()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null}),Math.floor(3e4)),function(e){if(dr()||"complete"===document.readyState)e();else{let t=!1;const n=function(){document.body?t||(t=!0,e()):setTimeout(n,Math.floor(10))};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",(()=>{"complete"===document.readyState&&n()})),window.attachEvent("onload",n))}}((()=>{if(this.isClosed_)return;this.scriptTagHolder=new Eu((function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];const[i,o,s,a,l]=t;if(n.incrementIncomingBytes_(t),n.scriptTagHolder)if(n.connectTimeoutTimer_&&(clearTimeout(n.connectTimeoutTimer_),n.connectTimeoutTimer_=null),n.everConnected_=!0,i===ku)n.id=o,n.password=s;else{if("close"!==i)throw new Error("Unrecognized command received: "+i);o?(n.scriptTagHolder.sendNewPolls=!1,n.myPacketOrderer.closeAfter(o,(()=>{n.onClosed_()}))):n.onClosed_()}}),(function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];const[i,o]=t;n.incrementIncomingBytes_(t),n.myPacketOrderer.handleResponse(i,o)}),(()=>{this.onClosed_()}),this.urlFn);const e={};e[ku]="t",e.ser=Math.floor(1e8*Math.random()),this.scriptTagHolder.uniqueCallbackIdentifier&&(e.cb=this.scriptTagHolder.uniqueCallbackIdentifier),e.v=du,this.transportSessionId&&(e.s=this.transportSessionId),this.lastSessionId&&(e.ls=this.lastSessionId),this.applicationId&&(e.p=this.applicationId),this.appCheckToken&&(e[fu]=this.appCheckToken),"undefined"!==typeof location&&location.hostname&&hu.test(location.hostname)&&(e.r="f");const t=this.urlFn(e);this.log_("Connecting via long-poll to "+t),this.scriptTagHolder.addTag(t,(()=>{}))}))}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){Cu.forceAllow_=!0}static forceDisallow(){Cu.forceDisallow_=!0}static isAvailable(){return!dr()&&(!!Cu.forceAllow_||!Cu.forceDisallow_&&"undefined"!==typeof document&&null!=document.createElement&&!("object"===typeof window&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))&&!("object"===typeof Windows&&"object"===typeof Windows.UI))}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(e){const t=gr(e);this.bytesSent+=t.length,this.stats_.incrementCounter("bytes_sent",t.length);const n=Jn(t),r=tu(n,1840);for(let i=0;i<r.length;i++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,r.length,r[i]),this.curSegmentNum++}addDisconnectPingFrame(e,t){if(dr())return;this.myDisconnFrame=document.createElement("iframe");const n={dframe:"t"};n.id=e,n.pw=t,this.myDisconnFrame.src=this.urlFn(n),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(e){const t=gr(e).length;this.bytesReceived+=t,this.stats_.incrementCounter("bytes_received",t)}}class Eu{constructor(e,t,n,r){if(this.onDisconnect=n,this.urlFn=r,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(1e8*Math.random()),this.sendNewPolls=!0,dr())this.commandCB=e,this.onMessageCB=t;else{this.uniqueCallbackIdentifier=Fl(),window["pLPCommand"+this.uniqueCallbackIdentifier]=e,window["pRTLPCB"+this.uniqueCallbackIdentifier]=t,this.myIFrame=Eu.createIFrame_();let n="";if(this.myIFrame.src&&"javascript:"===this.myIFrame.src.substr(0,11)){n='<script>document.domain="'+document.domain+'";<\/script>'}const r="<html><body>"+n+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(r),this.myIFrame.doc.close()}catch(Mm){$l("frame writing exception"),Mm.stack&&$l(Mm.stack),$l(Mm)}}}static createIFrame_(){const e=document.createElement("iframe");if(e.style.display="none",!document.body)throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";document.body.appendChild(e);try{e.contentWindow.document||$l("No IE domain setting required")}catch(Mm){const n=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+n+"';document.close();})())"}return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout((()=>{null!==this.myIFrame&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)}),Math.floor(0)));const e=this.onDisconnect;e&&(this.onDisconnect=null,e())}startLongPoll(e,t){for(this.myID=e,this.myPW=t,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const e={};e.id=this.myID,e.pw=this.myPW,e.ser=this.currentSerial;let t=this.urlFn(e),n="",r=0;for(;this.pendingSegs.length>0;){if(!(this.pendingSegs[0].d.length+30+n.length<=1870))break;{const e=this.pendingSegs.shift();n=n+"&seg"+r+"="+e.seg+"&ts"+r+"="+e.ts+"&d"+r+"="+e.d,r++}}return t+=n,this.addLongPollTag_(t,this.currentSerial),!0}return!1}enqueueSegment(e,t,n){this.pendingSegs.push({seg:e,ts:t,d:n}),this.alive&&this.newRequest_()}addLongPollTag_(e,t){this.outstandingRequests.add(t);const n=()=>{this.outstandingRequests.delete(t),this.newRequest_()},r=setTimeout(n,Math.floor(25e3));this.addTag(e,(()=>{clearTimeout(r),n()}))}addTag(e,t){dr()?this.doNodeLongPoll(e,t):setTimeout((()=>{try{if(!this.sendNewPolls)return;const n=this.myIFrame.doc.createElement("script");n.type="text/javascript",n.async=!0,n.src=e,n.onload=n.onreadystatechange=function(){const e=n.readyState;e&&"loaded"!==e&&"complete"!==e||(n.onload=n.onreadystatechange=null,n.parentNode&&n.parentNode.removeChild(n),t())},n.onerror=()=>{$l("Long-poll script failed to load: "+e),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(n)}catch(Mm){}}),Math.floor(1))}}let Tu=null;"undefined"!==typeof MozWebSocket?Tu=MozWebSocket:"undefined"!==typeof WebSocket&&(Tu=WebSocket);class Iu{constructor(e,t,n,r,i,o,s){this.connId=e,this.applicationId=n,this.appCheckToken=r,this.authToken=i,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=Vl(this.connId),this.stats_=wu(t),this.connURL=Iu.connectionURL_(t,o,s,r,n),this.nodeAdmin=t.nodeAdmin}static connectionURL_(e,t,n,r,i){const o={};return o.v=du,!dr()&&"undefined"!==typeof location&&location.hostname&&hu.test(location.hostname)&&(o.r="f"),t&&(o.s=t),n&&(o.ls=n),r&&(o[fu]=r),i&&(o.p=i),vu(e,pu,o)}open(e,t){this.onDisconnect=t,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,Dl.set("previous_websocket_failure",!0);try{let e;if(dr()){const t=this.nodeAdmin?"AdminNode":"Node";e={headers:{"User-Agent":`Firebase/${du}/${Pl}/${process.platform}/${t}`,"X-Firebase-GMPID":this.applicationId||""}},this.authToken&&(e.headers.Authorization=`Bearer ${this.authToken}`),this.appCheckToken&&(e.headers["X-Firebase-AppCheck"]=this.appCheckToken);const n={NODE_ENV:"production",PUBLIC_URL:"/music_archive",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_CLOUDNARY_PRESET:"ml_default",REACT_APP_CLOUDNARY_URL:"https://api.cloudinary.com/v1_1/dlgctkdxf/image/upload",REACT_APP_FIREBASE_API_KEY:"AIzaSyDmYN-hU-QjLp-kjUMGlH3KQtBqUfp3t5g",REACT_APP_FIREBASE_AUTH_DOMAIN:"musicarchive-cb448.firebaseapp.com",REACT_APP_FIREBASE_DB_URL:"https://musicarchive-cb448-default-rtdb.asia-southeast1.firebasedatabase.app",REACT_APP_FIREBASE_PROJECT_ID:"musicarchive-cb448"},r=0===this.connURL.indexOf("wss://")?n.HTTPS_PROXY||n.https_proxy:n.HTTP_PROXY||n.http_proxy;r&&(e.proxy={origin:r})}this.mySock=new Tu(this.connURL,[],e)}catch(Mm){this.log_("Error instantiating WebSocket.");const t=Mm.message||Mm.data;return t&&this.log_(t),void this.onClosed_()}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=e=>{this.handleIncomingFrame(e)},this.mySock.onerror=e=>{this.log_("WebSocket error.  Closing connection.");const t=e.message||e.data;t&&this.log_(t),this.onClosed_()}}start(){}static forceDisallow(){Iu.forceDisallow_=!0}static isAvailable(){let e=!1;if("undefined"!==typeof navigator&&navigator.userAgent){const t=/Android ([0-9]{0,}\.[0-9]{0,})/,n=navigator.userAgent.match(t);n&&n.length>1&&parseFloat(n[1])<4.4&&(e=!0)}return!e&&null!==Tu&&!Iu.forceDisallow_}static previouslyFailed(){return Dl.isInMemoryStorage||!0===Dl.get("previous_websocket_failure")}markConnectionHealthy(){Dl.remove("previous_websocket_failure")}appendFrame_(e){if(this.frames.push(e),this.frames.length===this.totalFrames){const e=this.frames.join("");this.frames=null;const t=mr(e);this.onMessage(t)}}handleNewFrameCount_(e){this.totalFrames=e,this.frames=[]}extractFrameCount_(e){if(Bn(null===this.frames,"We already have a frame buffer"),e.length<=6){const t=Number(e);if(!isNaN(t))return this.handleNewFrameCount_(t),null}return this.handleNewFrameCount_(1),e}handleIncomingFrame(e){if(null===this.mySock)return;const t=e.data;if(this.bytesReceived+=t.length,this.stats_.incrementCounter("bytes_received",t.length),this.resetKeepAlive(),null!==this.frames)this.appendFrame_(t);else{const e=this.extractFrameCount_(t);null!==e&&this.appendFrame_(e)}}send(e){this.resetKeepAlive();const t=gr(e);this.bytesSent+=t.length,this.stats_.incrementCounter("bytes_sent",t.length);const n=tu(t,16384);n.length>1&&this.sendString_(String(n.length));for(let r=0;r<n.length;r++)this.sendString_(n[r])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval((()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()}),Math.floor(45e3))}sendString_(e){try{this.mySock.send(e)}catch(Mm){this.log_("Exception thrown from WebSocket.send():",Mm.message||Mm.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}Iu.responsesRequiredToBeHealthy=2,Iu.healthyTimeout=3e4;class xu{static get ALL_TRANSPORTS(){return[Cu,Iu]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}constructor(e){this.initTransports_(e)}initTransports_(e){const t=Iu&&Iu.isAvailable();let n=t&&!Iu.previouslyFailed();if(e.webSocketOnly&&(t||Ql("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),n=!0),n)this.transports_=[Iu];else{const e=this.transports_=[];for(const t of xu.ALL_TRANSPORTS)t&&t.isAvailable()&&e.push(t);xu.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}xu.globalTransportInitialized_=!1;class Pu{constructor(e,t,n,r,i,o,s,a,l,u){this.id=e,this.repoInfo_=t,this.applicationId_=n,this.appCheckToken_=r,this.authToken_=i,this.onMessage_=o,this.onReady_=s,this.onDisconnect_=a,this.onKill_=l,this.lastSessionId=u,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=Vl("c:"+this.id+":"),this.transportManager_=new xu(t),this.log_("Connection created"),this.start_()}start_(){const e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const t=this.connReceiver_(this.conn_),n=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout((()=>{this.conn_&&this.conn_.open(t,n)}),Math.floor(0));const r=e.healthyTimeout||0;r>0&&(this.healthyTimeout_=au((()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>102400?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>10240?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))}),Math.floor(r)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(e){return t=>{e===this.conn_?this.onConnectionLost_(t):e===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(e){return t=>{2!==this.state_&&(e===this.rx_?this.onPrimaryMessageReceived_(t):e===this.secondaryConn_?this.onSecondaryMessageReceived_(t):this.log_("message on old connection"))}}sendRequest(e){const t={t:"d",d:e};this.sendData_(t)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(e){if("t"in e){const t=e.t;"a"===t?this.upgradeIfSecondaryHealthy_():"r"===t?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),this.tx_!==this.secondaryConn_&&this.rx_!==this.secondaryConn_||this.close()):"o"===t&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(e){const t=Zl("t",e),n=Zl("d",e);if("c"===t)this.onSecondaryControl_(n);else{if("d"!==t)throw new Error("Unknown protocol layer: "+t);this.pendingDataMessages.push(n)}}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:"p",d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:"a",d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:"n",d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(e){const t=Zl("t",e),n=Zl("d",e);"c"===t?this.onControl_(n):"d"===t&&this.onDataMessage_(n)}onDataMessage_(e){this.onPrimaryResponse_(),this.onMessage_(e)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(e){const t=Zl("t",e);if("d"in e){const n=e.d;if("h"===t){const e=Object.assign({},n);this.repoInfo_.isUsingEmulator&&(e.h=this.repoInfo_.host),this.onHandshake_(e)}else if("n"===t){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let e=0;e<this.pendingDataMessages.length;++e)this.onDataMessage_(this.pendingDataMessages[e]);this.pendingDataMessages=[],this.tryCleanupConnection()}else"s"===t?this.onConnectionShutdown_(n):"r"===t?this.onReset_(n):"e"===t?Wl("Server Error: "+n):"o"===t?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):Wl("Unknown control packet command: "+t)}}onHandshake_(e){const t=e.ts,n=e.v,r=e.h;this.sessionId=e.s,this.repoInfo_.host=r,0===this.state_&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,t),du!==n&&Ql("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}startUpgrade_(e){this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const t=this.connReceiver_(this.secondaryConn_),n=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(t,n),au((()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())}),Math.floor(6e4))}onReset_(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,1===this.state_?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(e,t){this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(t,this.sessionId),this.onReady_=null),0===this.primaryResponsesRequired_?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):au((()=>{this.sendPingOnPrimaryIfNecessary_()}),Math.floor(5e3))}sendPingOnPrimaryIfNecessary_(){this.isHealthy_||1!==this.state_||(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:"p",d:{}}}))}onSecondaryConnectionLost_(){const e=this.secondaryConn_;this.secondaryConn_=null,this.tx_!==e&&this.rx_!==e||this.close()}onConnectionLost_(e){this.conn_=null,e||0!==this.state_?1===this.state_&&this.log_("Realtime connection lost."):(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(Dl.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)),this.close()}onConnectionShutdown_(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(e){if(1!==this.state_)throw"Connection is not connected";this.tx_.send(e)}close(){2!==this.state_&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}class Ru{put(e,t,n,r){}merge(e,t,n,r){}refreshAuthToken(e){}refreshAppCheckToken(e){}onDisconnectPut(e,t,n){}onDisconnectMerge(e,t,n){}onDisconnectCancel(e,t){}reportStats(e){}}class Nu{constructor(e){this.allowedEvents_=e,this.listeners_={},Bn(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}trigger(e){if(Array.isArray(this.listeners_[e])){const i=[...this.listeners_[e]];for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];for(let e=0;e<i.length;e++)i[e].callback.apply(i[e].context,n)}}on(e,t,n){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:t,context:n});const r=this.getInitialEvent(e);r&&t.apply(n,r)}off(e,t,n){this.validateEventType_(e);const r=this.listeners_[e]||[];for(let i=0;i<r.length;i++)if(r[i].callback===t&&(!n||n===r[i].context))return void r.splice(i,1)}validateEventType_(e){Bn(this.allowedEvents_.find((t=>t===e)),"Unknown event: "+e)}}class Ou extends Nu{static getInstance(){return new Ou}constructor(){super(["online"]),this.online_=!0,"undefined"===typeof window||"undefined"===typeof window.addEventListener||ur()||(window.addEventListener("online",(()=>{this.online_||(this.online_=!0,this.trigger("online",!0))}),!1),window.addEventListener("offline",(()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))}),!1))}getInitialEvent(e){return Bn("online"===e,"Unknown event type: "+e),[this.online_]}currentlyOnline(){return this.online_}}class Au{constructor(e,t){if(void 0===t){this.pieces_=e.split("/");let t=0;for(let e=0;e<this.pieces_.length;e++)this.pieces_[e].length>0&&(this.pieces_[t]=this.pieces_[e],t++);this.pieces_.length=t,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=t}toString(){let e="";for(let t=this.pieceNum_;t<this.pieces_.length;t++)""!==this.pieces_[t]&&(e+="/"+this.pieces_[t]);return e||"/"}}function Du(){return new Au("")}function Lu(e){return e.pieceNum_>=e.pieces_.length?null:e.pieces_[e.pieceNum_]}function Mu(e){return e.pieces_.length-e.pieceNum_}function Fu(e){let t=e.pieceNum_;return t<e.pieces_.length&&t++,new Au(e.pieces_,t)}function ju(e){return e.pieceNum_<e.pieces_.length?e.pieces_[e.pieces_.length-1]:null}function Uu(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return e.pieces_.slice(e.pieceNum_+t)}function zu(e){if(e.pieceNum_>=e.pieces_.length)return null;const t=[];for(let n=e.pieceNum_;n<e.pieces_.length-1;n++)t.push(e.pieces_[n]);return new Au(t,0)}function qu(e,t){const n=[];for(let r=e.pieceNum_;r<e.pieces_.length;r++)n.push(e.pieces_[r]);if(t instanceof Au)for(let r=t.pieceNum_;r<t.pieces_.length;r++)n.push(t.pieces_[r]);else{const e=t.split("/");for(let t=0;t<e.length;t++)e[t].length>0&&n.push(e[t])}return new Au(n,0)}function Hu(e){return e.pieceNum_>=e.pieces_.length}function $u(e,t){const n=Lu(e),r=Lu(t);if(null===n)return t;if(n===r)return $u(Fu(e),Fu(t));throw new Error("INTERNAL ERROR: innerPath ("+t+") is not within outerPath ("+e+")")}function Vu(e,t){if(Mu(e)!==Mu(t))return!1;for(let n=e.pieceNum_,r=t.pieceNum_;n<=e.pieces_.length;n++,r++)if(e.pieces_[n]!==t.pieces_[r])return!1;return!0}function Wu(e,t){let n=e.pieceNum_,r=t.pieceNum_;if(Mu(e)>Mu(t))return!1;for(;n<e.pieces_.length;){if(e.pieces_[n]!==t.pieces_[r])return!1;++n,++r}return!0}class Bu{constructor(e,t){this.errorPrefix_=t,this.parts_=Uu(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(let n=0;n<this.parts_.length;n++)this.byteLength_+=Nr(this.parts_[n]);Qu(this)}}function Qu(e){if(e.byteLength_>768)throw new Error(e.errorPrefix_+"has a key path longer than 768 bytes ("+e.byteLength_+").");if(e.parts_.length>32)throw new Error(e.errorPrefix_+"path specified exceeds the maximum depth that can be written (32) or object contains a cycle "+Ku(e))}function Ku(e){return 0===e.parts_.length?"":"in property '"+e.parts_.join(".")+"'"}class Yu extends Nu{static getInstance(){return new Yu}constructor(){let e,t;super(["visible"]),"undefined"!==typeof document&&"undefined"!==typeof document.addEventListener&&("undefined"!==typeof document.hidden?(t="visibilitychange",e="hidden"):"undefined"!==typeof document.mozHidden?(t="mozvisibilitychange",e="mozHidden"):"undefined"!==typeof document.msHidden?(t="msvisibilitychange",e="msHidden"):"undefined"!==typeof document.webkitHidden&&(t="webkitvisibilitychange",e="webkitHidden")),this.visible_=!0,t&&document.addEventListener(t,(()=>{const t=!document[e];t!==this.visible_&&(this.visible_=t,this.trigger("visible",t))}),!1)}getInitialEvent(e){return Bn("visible"===e,"Unknown event type: "+e),[this.visible_]}}const Gu=1e3;class Ju extends Ru{constructor(e,t,n,r,i,o,s,a){if(super(),this.repoInfo_=e,this.applicationId_=t,this.onDataUpdate_=n,this.onConnectStatus_=r,this.onServerInfoUpdate_=i,this.authTokenProvider_=o,this.appCheckTokenProvider_=s,this.authOverride_=a,this.id=Ju.nextPersistentConnectionId_++,this.log_=Vl("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=Gu,this.maxReconnectDelay_=3e5,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,a&&!dr())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");Yu.getInstance().on("visible",this.onVisible_,this),-1===e.host.indexOf("fblocal")&&Ou.getInstance().on("online",this.onOnline_,this)}sendRequest(e,t,n){const r=++this.requestNumber_,i={r:r,a:e,b:t};this.log_(gr(i)),Bn(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(i),n&&(this.requestCBHash_[r]=n)}get(e){this.initConnection_();const t=new ar,n={action:"g",request:{p:e._path.toString(),q:e._queryObject},onComplete:e=>{const n=e.d;"ok"===e.s?t.resolve(n):t.reject(n)}};this.outstandingGets_.push(n),this.outstandingGetCount_++;const r=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(r),t.promise}listen(e,t,n,r){this.initConnection_();const i=e._queryIdentifier,o=e._path.toString();this.log_("Listen called for "+o+" "+i),this.listens.has(o)||this.listens.set(o,new Map),Bn(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),Bn(!this.listens.get(o).has(i),"listen() called twice for same path/queryId.");const s={onComplete:r,hashFn:t,query:e,tag:n};this.listens.get(o).set(i,s),this.connected_&&this.sendListen_(s)}sendGet_(e){const t=this.outstandingGets_[e];this.sendRequest("g",t.request,(n=>{delete this.outstandingGets_[e],this.outstandingGetCount_--,0===this.outstandingGetCount_&&(this.outstandingGets_=[]),t.onComplete&&t.onComplete(n)}))}sendListen_(e){const t=e.query,n=t._path.toString(),r=t._queryIdentifier;this.log_("Listen on "+n+" for "+r);const i={p:n};e.tag&&(i.q=t._queryObject,i.t=e.tag),i.h=e.hashFn(),this.sendRequest("q",i,(i=>{const o=i.d,s=i.s;Ju.warnOnListenWarnings_(o,t);(this.listens.get(n)&&this.listens.get(n).get(r))===e&&(this.log_("listen response",i),"ok"!==s&&this.removeListen_(n,r),e.onComplete&&e.onComplete(s,o))}))}static warnOnListenWarnings_(e,t){if(e&&"object"===typeof e&&yr(e,"w")){const n=_r(e,"w");if(Array.isArray(n)&&~n.indexOf("no_index")){const e='".indexOn": "'+t._queryParams.getIndex().toString()+'"',n=t._path.toString();Ql(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${e} at ${n} to your security rules for better performance.`)}}}refreshAuthToken(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},(()=>{})),this.reduceReconnectDelayIfAdminCredential_(e)}reduceReconnectDelayIfAdminCredential_(e){(e&&40===e.length||function(e){const t=vr(e).claims;return"object"===typeof t&&!0===t.admin}(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=3e4)}refreshAppCheckToken(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},(()=>{}))}tryAuth(){if(this.connected_&&this.authToken_){const e=this.authToken_,t=function(e){const t=vr(e).claims;return!!t&&"object"===typeof t&&t.hasOwnProperty("iat")}(e)?"auth":"gauth",n={cred:e};null===this.authOverride_?n.noauth=!0:"object"===typeof this.authOverride_&&(n.authvar=this.authOverride_),this.sendRequest(t,n,(t=>{const n=t.s,r=t.d||"error";this.authToken_===e&&("ok"===n?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(n,r))}))}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},(e=>{const t=e.s,n=e.d||"error";"ok"===t?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(t,n)}))}unlisten(e,t){const n=e._path.toString(),r=e._queryIdentifier;this.log_("Unlisten called for "+n+" "+r),Bn(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query");this.removeListen_(n,r)&&this.connected_&&this.sendUnlisten_(n,r,e._queryObject,t)}sendUnlisten_(e,t,n,r){this.log_("Unlisten on "+e+" for "+t);const i={p:e};r&&(i.q=n,i.t=r),this.sendRequest("n",i)}onDisconnectPut(e,t,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,t,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:t,onComplete:n})}onDisconnectMerge(e,t,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,t,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:t,onComplete:n})}onDisconnectCancel(e,t){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,t):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:t})}sendOnDisconnect_(e,t,n,r){const i={p:t,d:n};this.log_("onDisconnect "+e,i),this.sendRequest(e,i,(e=>{r&&setTimeout((()=>{r(e.s,e.d)}),Math.floor(0))}))}put(e,t,n,r){this.putInternal("p",e,t,n,r)}merge(e,t,n,r){this.putInternal("m",e,t,n,r)}putInternal(e,t,n,r,i){this.initConnection_();const o={p:t,d:n};void 0!==i&&(o.h=i),this.outstandingPuts_.push({action:e,request:o,onComplete:r}),this.outstandingPutCount_++;const s=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(s):this.log_("Buffering put: "+t)}sendPut_(e){const t=this.outstandingPuts_[e].action,n=this.outstandingPuts_[e].request,r=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(t,n,(n=>{this.log_(t+" response",n),delete this.outstandingPuts_[e],this.outstandingPutCount_--,0===this.outstandingPutCount_&&(this.outstandingPuts_=[]),r&&r(n.s,n.d)}))}reportStats(e){if(this.connected_){const t={c:e};this.log_("reportStats",t),this.sendRequest("s",t,(e=>{if("ok"!==e.s){const t=e.d;this.log_("reportStats","Error sending stats: "+t)}}))}}onDataMessage_(e){if("r"in e){this.log_("from server: "+gr(e));const t=e.r,n=this.requestCBHash_[t];n&&(delete this.requestCBHash_[t],n(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}}onDataPush_(e,t){this.log_("handleServerMessage",e,t),"d"===e?this.onDataUpdate_(t.p,t.d,!1,t.t):"m"===e?this.onDataUpdate_(t.p,t.d,!0,t.t):"c"===e?this.onListenRevoked_(t.p,t.q):"ac"===e?this.onAuthRevoked_(t.s,t.d):"apc"===e?this.onAppCheckRevoked_(t.s,t.d):"sd"===e?this.onSecurityDebugPacket_(t):Wl("Unrecognized action received from server: "+gr(e)+"\nAre you using the latest client?")}onReady_(e,t){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=(new Date).getTime(),this.handleTimestamp_(e),this.lastSessionId=t,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(e){Bn(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout((()=>{this.establishConnectionTimer_=null,this.establishConnection_()}),Math.floor(e))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=Gu,this.realtime_||this.scheduleConnect_(0)),this.visible_=e}onOnline_(e){e?(this.log_("Browser went online."),this.reconnectDelay_=Gu,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){if(this.visible_){if(this.lastConnectionEstablishedTime_){(new Date).getTime()-this.lastConnectionEstablishedTime_>3e4&&(this.reconnectDelay_=Gu),this.lastConnectionEstablishedTime_=null}}else this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=(new Date).getTime();const e=Math.max(0,(new Date).getTime()-this.lastConnectionAttemptTime_);let t=Math.max(0,this.reconnectDelay_-e);t=Math.random()*t,this.log_("Trying to reconnect in "+t+"ms"),this.scheduleConnect_(t),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,1.3*this.reconnectDelay_)}this.onConnectStatus_(!1)}async establishConnection_(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=(new Date).getTime(),this.lastConnectionEstablishedTime_=null;const e=this.onDataMessage_.bind(this),t=this.onReady_.bind(this),n=this.onRealtimeDisconnect_.bind(this),r=this.id+":"+Ju.nextConnectionId_++,i=this.lastSessionId;let o=!1,s=null;const a=function(){s?s.close():(o=!0,n())},l=function(e){Bn(s,"sendRequest call when we're not connected not allowed."),s.sendRequest(e)};this.realtime_={close:a,sendRequest:l};const u=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{const[a,l]=await Promise.all([this.authTokenProvider_.getToken(u),this.appCheckTokenProvider_.getToken(u)]);o?$l("getToken() completed but was canceled"):($l("getToken() completed. Creating connection."),this.authToken_=a&&a.accessToken,this.appCheckToken_=l&&l.token,s=new Pu(r,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,e,t,n,(e=>{Ql(e+" ("+this.repoInfo_.toString()+")"),this.interrupt("server_kill")}),i))}catch(Wl){this.log_("Failed to get token: "+Wl),o||(this.repoInfo_.nodeAdmin&&Ql(Wl),a())}}}interrupt(e){$l("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(e){$l("Resuming connection for reason: "+e),delete this.interruptReasons_[e],br(this.interruptReasons_)&&(this.reconnectDelay_=Gu,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(e){const t=e-(new Date).getTime();this.onServerInfoUpdate_({serverTimeOffset:t})}cancelSentTransactions_(){for(let e=0;e<this.outstandingPuts_.length;e++){const t=this.outstandingPuts_[e];t&&"h"in t.request&&t.queued&&(t.onComplete&&t.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}0===this.outstandingPutCount_&&(this.outstandingPuts_=[])}onListenRevoked_(e,t){let n;n=t?t.map((e=>eu(e))).join("$"):"default";const r=this.removeListen_(e,n);r&&r.onComplete&&r.onComplete("permission_denied")}removeListen_(e,t){const n=new Au(e).toString();let r;if(this.listens.has(n)){const e=this.listens.get(n);r=e.get(t),e.delete(t),0===e.size&&this.listens.delete(n)}else r=void 0;return r}onAuthRevoked_(e,t){$l("Auth token revoked: "+e+"/"+t),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),"invalid_token"!==e&&"permission_denied"!==e||(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=3&&(this.reconnectDelay_=3e4,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(e,t){$l("App check token revoked: "+e+"/"+t),this.appCheckToken_=null,this.forceTokenRefresh_=!0,"invalid_token"!==e&&"permission_denied"!==e||(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=3&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace("\n","\nFIREBASE: "))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const e of this.listens.values())for(const t of e.values())this.sendListen_(t);for(let e=0;e<this.outstandingPuts_.length;e++)this.outstandingPuts_[e]&&this.sendPut_(e);for(;this.onDisconnectRequestQueue_.length;){const e=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(e.action,e.pathString,e.data,e.onComplete)}for(let e=0;e<this.outstandingGets_.length;e++)this.outstandingGets_[e]&&this.sendGet_(e)}sendConnectStats_(){const e={};let t="js";dr()&&(t=this.repoInfo_.nodeAdmin?"admin_node":"node"),e["sdk."+t+"."+Pl.replace(/\./g,"-")]=1,ur()?e["framework.cordova"]=1:cr()&&(e["framework.reactnative"]=1),this.reportStats(e)}shouldReconnect_(){const e=Ou.getInstance().currentlyOnline();return br(this.interruptReasons_)&&e}}Ju.nextPersistentConnectionId_=0,Ju.nextConnectionId_=0;class Xu{constructor(e,t){this.name=e,this.node=t}static Wrap(e,t){return new Xu(e,t)}}class Zu{getCompare(){return this.compare.bind(this)}indexedValueChanged(e,t){const n=new Xu(Yl,e),r=new Xu(Yl,t);return 0!==this.compare(n,r)}minPost(){return Xu.MIN}}let ec;class tc extends Zu{static get __EMPTY_NODE(){return ec}static set __EMPTY_NODE(e){ec=e}compare(e,t){return Jl(e.name,t.name)}isDefinedOn(e){throw Qn("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(e,t){return!1}minPost(){return Xu.MIN}maxPost(){return new Xu(Gl,ec)}makePost(e,t){return Bn("string"===typeof e,"KeyIndex indexValue must always be a string."),new Xu(e,ec)}toString(){return".key"}}const nc=new tc;class rc{constructor(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null;this.isReverse_=r,this.resultGenerator_=i,this.nodeStack_=[];let o=1;for(;!e.isEmpty();)if(o=t?n(e.key,t):1,r&&(o*=-1),o<0)e=this.isReverse_?e.left:e.right;else{if(0===o){this.nodeStack_.push(e);break}this.nodeStack_.push(e),e=this.isReverse_?e.right:e.left}}getNext(){if(0===this.nodeStack_.length)return null;let e,t=this.nodeStack_.pop();if(e=this.resultGenerator_?this.resultGenerator_(t.key,t.value):{key:t.key,value:t.value},this.isReverse_)for(t=t.left;!t.isEmpty();)this.nodeStack_.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack_.push(t),t=t.left;return e}hasNext(){return this.nodeStack_.length>0}peek(){if(0===this.nodeStack_.length)return null;const e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}}class ic{constructor(e,t,n,r,i){this.key=e,this.value=t,this.color=null!=n?n:ic.RED,this.left=null!=r?r:oc.EMPTY_NODE,this.right=null!=i?i:oc.EMPTY_NODE}copy(e,t,n,r,i){return new ic(null!=e?e:this.key,null!=t?t:this.value,null!=n?n:this.color,null!=r?r:this.left,null!=i?i:this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,n){let r=this;const i=n(e,r.key);return r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n)),r.fixUp_()}removeMin_(){if(this.left.isEmpty())return oc.EMPTY_NODE;let e=this;return e.left.isRed_()||e.left.left.isRed_()||(e=e.moveRedLeft_()),e=e.copy(null,null,null,e.left.removeMin_(),null),e.fixUp_()}remove(e,t){let n,r;if(n=this,t(e,n.key)<0)n.left.isEmpty()||n.left.isRed_()||n.left.left.isRed_()||(n=n.moveRedLeft_()),n=n.copy(null,null,null,n.left.remove(e,t),null);else{if(n.left.isRed_()&&(n=n.rotateRight_()),n.right.isEmpty()||n.right.isRed_()||n.right.left.isRed_()||(n=n.moveRedRight_()),0===t(e,n.key)){if(n.right.isEmpty())return oc.EMPTY_NODE;r=n.right.min_(),n=n.copy(r.key,r.value,null,null,n.right.removeMin_())}n=n.copy(null,null,null,null,n.right.remove(e,t))}return n.fixUp_()}isRed_(){return this.color}fixUp_(){let e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e}moveRedLeft_(){let e=this.colorFlip_();return e.right.left.isRed_()&&(e=e.copy(null,null,null,null,e.right.rotateRight_()),e=e.rotateLeft_(),e=e.colorFlip_()),e}moveRedRight_(){let e=this.colorFlip_();return e.left.left.isRed_()&&(e=e.rotateRight_(),e=e.colorFlip_()),e}rotateLeft_(){const e=this.copy(null,null,ic.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight_(){const e=this.copy(null,null,ic.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip_(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth_(){const e=this.check_();return Math.pow(2,e)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)}}ic.RED=!0,ic.BLACK=!1;class oc{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:oc.EMPTY_NODE;this.comparator_=e,this.root_=t}insert(e,t){return new oc(this.comparator_,this.root_.insert(e,t,this.comparator_).copy(null,null,ic.BLACK,null,null))}remove(e){return new oc(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,ic.BLACK,null,null))}get(e){let t,n=this.root_;for(;!n.isEmpty();){if(t=this.comparator_(e,n.key),0===t)return n.value;t<0?n=n.left:t>0&&(n=n.right)}return null}getPredecessorKey(e){let t,n=this.root_,r=null;for(;!n.isEmpty();){if(t=this.comparator_(e,n.key),0===t){if(n.left.isEmpty())return r?r.key:null;for(n=n.left;!n.right.isEmpty();)n=n.right;return n.key}t<0?n=n.left:t>0&&(r=n,n=n.right)}throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(e){return this.root_.inorderTraversal(e)}reverseTraversal(e){return this.root_.reverseTraversal(e)}getIterator(e){return new rc(this.root_,null,this.comparator_,!1,e)}getIteratorFrom(e,t){return new rc(this.root_,e,this.comparator_,!1,t)}getReverseIteratorFrom(e,t){return new rc(this.root_,e,this.comparator_,!0,t)}getReverseIterator(e){return new rc(this.root_,null,this.comparator_,!0,e)}}function sc(e,t){return Jl(e.name,t.name)}function ac(e,t){return Jl(e,t)}let lc;oc.EMPTY_NODE=new class{copy(e,t,n,r,i){return this}insert(e,t,n){return new ic(e,t,null)}remove(e,t){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}};const uc=function(e){return"number"===typeof e?"number:"+ru(e):"string:"+e},cc=function(e){if(e.isLeafNode()){const t=e.val();Bn("string"===typeof t||"number"===typeof t||"object"===typeof t&&yr(t,".sv"),"Priority must be a string or number.")}else Bn(e===lc||e.isEmpty(),"priority of unexpected type.");Bn(e===lc||e.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};let dc,hc,fc;class pc{static set __childrenNodeConstructor(e){dc=e}static get __childrenNodeConstructor(){return dc}constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:pc.__childrenNodeConstructor.EMPTY_NODE;this.value_=e,this.priorityNode_=t,this.lazyHash_=null,Bn(void 0!==this.value_&&null!==this.value_,"LeafNode shouldn't be created with null/undefined value."),cc(this.priorityNode_)}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(e){return new pc(this.value_,e)}getImmediateChild(e){return".priority"===e?this.priorityNode_:pc.__childrenNodeConstructor.EMPTY_NODE}getChild(e){return Hu(e)?this:".priority"===Lu(e)?this.priorityNode_:pc.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(e,t){return null}updateImmediateChild(e,t){return".priority"===e?this.updatePriority(t):t.isEmpty()&&".priority"!==e?this:pc.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,t).updatePriority(this.priorityNode_)}updateChild(e,t){const n=Lu(e);return null===n?t:t.isEmpty()&&".priority"!==n?this:(Bn(".priority"!==n||1===Mu(e),".priority must be the last token in a path"),this.updateImmediateChild(n,pc.__childrenNodeConstructor.EMPTY_NODE.updateChild(Fu(e),t)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(e,t){return!1}val(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(null===this.lazyHash_){let e="";this.priorityNode_.isEmpty()||(e+="priority:"+uc(this.priorityNode_.val())+":");const t=typeof this.value_;e+=t+":",e+="number"===t?ru(this.value_):this.value_,this.lazyHash_=jl(e)}return this.lazyHash_}getValue(){return this.value_}compareTo(e){return e===pc.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof pc.__childrenNodeConstructor?-1:(Bn(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))}compareToLeafNode_(e){const t=typeof e.value_,n=typeof this.value_,r=pc.VALUE_TYPE_ORDER.indexOf(t),i=pc.VALUE_TYPE_ORDER.indexOf(n);return Bn(r>=0,"Unknown leaf type: "+t),Bn(i>=0,"Unknown leaf type: "+n),r===i?"object"===n?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:i-r}withIndex(){return this}isIndexed(){return!0}equals(e){if(e===this)return!0;if(e.isLeafNode()){const t=e;return this.value_===t.value_&&this.priorityNode_.equals(t.priorityNode_)}return!1}}pc.VALUE_TYPE_ORDER=["object","boolean","number","string"];const mc=new class extends Zu{compare(e,t){const n=e.node.getPriority(),r=t.node.getPriority(),i=n.compareTo(r);return 0===i?Jl(e.name,t.name):i}isDefinedOn(e){return!e.getPriority().isEmpty()}indexedValueChanged(e,t){return!e.getPriority().equals(t.getPriority())}minPost(){return Xu.MIN}maxPost(){return new Xu(Gl,new pc("[PRIORITY-POST]",fc))}makePost(e,t){const n=hc(e);return new Xu(t,new pc("[PRIORITY-POST]",n))}toString(){return".priority"}},gc=Math.log(2);class vc{constructor(e){var t;this.count=(t=e+1,parseInt(Math.log(t)/gc,10)),this.current_=this.count-1;const n=(r=this.count,parseInt(Array(r+1).join("1"),2));var r;this.bits_=e+1&n}nextBitIsOne(){const e=!(this.bits_&1<<this.current_);return this.current_--,e}}const yc=function(e,t,n,r){e.sort(t);const i=function(t,r){const o=r-t;let s,a;if(0===o)return null;if(1===o)return s=e[t],a=n?n(s):s,new ic(a,s.node,ic.BLACK,null,null);{const l=parseInt(o/2,10)+t,u=i(t,l),c=i(l+1,r);return s=e[l],a=n?n(s):s,new ic(a,s.node,ic.BLACK,u,c)}},o=function(t){let r=null,o=null,s=e.length;const a=function(t,r){const o=s-t,a=s;s-=t;const u=i(o+1,a),c=e[o],d=n?n(c):c;l(new ic(d,c.node,r,null,u))},l=function(e){r?(r.left=e,r=e):(o=e,r=e)};for(let e=0;e<t.count;++e){const n=t.nextBitIsOne(),r=Math.pow(2,t.count-(e+1));n?a(r,ic.BLACK):(a(r,ic.BLACK),a(r,ic.RED))}return o}(new vc(e.length));return new oc(r||t,o)};let _c;const bc={};class wc{static get Default(){return Bn(bc&&mc,"ChildrenNode.ts has not been loaded"),_c=_c||new wc({".priority":bc},{".priority":mc}),_c}constructor(e,t){this.indexes_=e,this.indexSet_=t}get(e){const t=_r(this.indexes_,e);if(!t)throw new Error("No index defined for "+e);return t instanceof oc?t:null}hasIndex(e){return yr(this.indexSet_,e.toString())}addIndex(e,t){Bn(e!==nc,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const n=[];let r=!1;const i=t.getIterator(Xu.Wrap);let o,s=i.getNext();for(;s;)r=r||e.isDefinedOn(s.node),n.push(s),s=i.getNext();o=r?yc(n,e.getCompare()):bc;const a=e.toString(),l=Object.assign({},this.indexSet_);l[a]=e;const u=Object.assign({},this.indexes_);return u[a]=o,new wc(u,l)}addToIndexes(e,t){const n=wr(this.indexes_,((n,r)=>{const i=_r(this.indexSet_,r);if(Bn(i,"Missing index implementation for "+r),n===bc){if(i.isDefinedOn(e.node)){const n=[],r=t.getIterator(Xu.Wrap);let o=r.getNext();for(;o;)o.name!==e.name&&n.push(o),o=r.getNext();return n.push(e),yc(n,i.getCompare())}return bc}{const r=t.get(e.name);let i=n;return r&&(i=i.remove(new Xu(e.name,r))),i.insert(e,e.node)}}));return new wc(n,this.indexSet_)}removeFromIndexes(e,t){const n=wr(this.indexes_,(n=>{if(n===bc)return n;{const r=t.get(e.name);return r?n.remove(new Xu(e.name,r)):n}}));return new wc(n,this.indexSet_)}}let Sc;class kc{static get EMPTY_NODE(){return Sc||(Sc=new kc(new oc(ac),null,wc.Default))}constructor(e,t,n){this.children_=e,this.priorityNode_=t,this.indexMap_=n,this.lazyHash_=null,this.priorityNode_&&cc(this.priorityNode_),this.children_.isEmpty()&&Bn(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}isLeafNode(){return!1}getPriority(){return this.priorityNode_||Sc}updatePriority(e){return this.children_.isEmpty()?this:new kc(this.children_,e,this.indexMap_)}getImmediateChild(e){if(".priority"===e)return this.getPriority();{const t=this.children_.get(e);return null===t?Sc:t}}getChild(e){const t=Lu(e);return null===t?this:this.getImmediateChild(t).getChild(Fu(e))}hasChild(e){return null!==this.children_.get(e)}updateImmediateChild(e,t){if(Bn(t,"We should always be passing snapshot nodes"),".priority"===e)return this.updatePriority(t);{const n=new Xu(e,t);let r,i;t.isEmpty()?(r=this.children_.remove(e),i=this.indexMap_.removeFromIndexes(n,this.children_)):(r=this.children_.insert(e,t),i=this.indexMap_.addToIndexes(n,this.children_));const o=r.isEmpty()?Sc:this.priorityNode_;return new kc(r,o,i)}}updateChild(e,t){const n=Lu(e);if(null===n)return t;{Bn(".priority"!==Lu(e)||1===Mu(e),".priority must be the last token in a path");const r=this.getImmediateChild(n).updateChild(Fu(e),t);return this.updateImmediateChild(n,r)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(e){if(this.isEmpty())return null;const t={};let n=0,r=0,i=!0;if(this.forEachChild(mc,((o,s)=>{t[o]=s.val(e),n++,i&&kc.INTEGER_REGEXP_.test(o)?r=Math.max(r,Number(o)):i=!1})),!e&&i&&r<2*n){const e=[];for(const n in t)e[n]=t[n];return e}return e&&!this.getPriority().isEmpty()&&(t[".priority"]=this.getPriority().val()),t}hash(){if(null===this.lazyHash_){let e="";this.getPriority().isEmpty()||(e+="priority:"+uc(this.getPriority().val())+":"),this.forEachChild(mc,((t,n)=>{const r=n.hash();""!==r&&(e+=":"+t+":"+r)})),this.lazyHash_=""===e?"":jl(e)}return this.lazyHash_}getPredecessorChildName(e,t,n){const r=this.resolveIndex_(n);if(r){const n=r.getPredecessorKey(new Xu(e,t));return n?n.name:null}return this.children_.getPredecessorKey(e)}getFirstChildName(e){const t=this.resolveIndex_(e);if(t){const e=t.minKey();return e&&e.name}return this.children_.minKey()}getFirstChild(e){const t=this.getFirstChildName(e);return t?new Xu(t,this.children_.get(t)):null}getLastChildName(e){const t=this.resolveIndex_(e);if(t){const e=t.maxKey();return e&&e.name}return this.children_.maxKey()}getLastChild(e){const t=this.getLastChildName(e);return t?new Xu(t,this.children_.get(t)):null}forEachChild(e,t){const n=this.resolveIndex_(e);return n?n.inorderTraversal((e=>t(e.name,e.node))):this.children_.inorderTraversal(t)}getIterator(e){return this.getIteratorFrom(e.minPost(),e)}getIteratorFrom(e,t){const n=this.resolveIndex_(t);if(n)return n.getIteratorFrom(e,(e=>e));{const n=this.children_.getIteratorFrom(e.name,Xu.Wrap);let r=n.peek();for(;null!=r&&t.compare(r,e)<0;)n.getNext(),r=n.peek();return n}}getReverseIterator(e){return this.getReverseIteratorFrom(e.maxPost(),e)}getReverseIteratorFrom(e,t){const n=this.resolveIndex_(t);if(n)return n.getReverseIteratorFrom(e,(e=>e));{const n=this.children_.getReverseIteratorFrom(e.name,Xu.Wrap);let r=n.peek();for(;null!=r&&t.compare(r,e)>0;)n.getNext(),r=n.peek();return n}}compareTo(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===Cc?-1:0}withIndex(e){if(e===nc||this.indexMap_.hasIndex(e))return this;{const t=this.indexMap_.addIndex(e,this.children_);return new kc(this.children_,this.priorityNode_,t)}}isIndexed(e){return e===nc||this.indexMap_.hasIndex(e)}equals(e){if(e===this)return!0;if(e.isLeafNode())return!1;{const t=e;if(this.getPriority().equals(t.getPriority())){if(this.children_.count()===t.children_.count()){const e=this.getIterator(mc),n=t.getIterator(mc);let r=e.getNext(),i=n.getNext();for(;r&&i;){if(r.name!==i.name||!r.node.equals(i.node))return!1;r=e.getNext(),i=n.getNext()}return null===r&&null===i}return!1}return!1}}resolveIndex_(e){return e===nc?null:this.indexMap_.get(e.toString())}}kc.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;const Cc=new class extends kc{constructor(){super(new oc(ac),kc.EMPTY_NODE,wc.Default)}compareTo(e){return e===this?0:1}equals(e){return e===this}getPriority(){return this}getImmediateChild(e){return kc.EMPTY_NODE}isEmpty(){return!1}};Object.defineProperties(Xu,{MIN:{value:new Xu(Yl,kc.EMPTY_NODE)},MAX:{value:new Xu(Gl,Cc)}}),tc.__EMPTY_NODE=kc.EMPTY_NODE,pc.__childrenNodeConstructor=kc,lc=Cc,function(e){fc=e}(Cc);function Ec(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(null===e)return kc.EMPTY_NODE;if("object"===typeof e&&".priority"in e&&(t=e[".priority"]),Bn(null===t||"string"===typeof t||"number"===typeof t||"object"===typeof t&&".sv"in t,"Invalid priority type found: "+typeof t),"object"===typeof e&&".value"in e&&null!==e[".value"]&&(e=e[".value"]),"object"!==typeof e||".sv"in e){return new pc(e,Ec(t))}if(e instanceof Array){let n=kc.EMPTY_NODE;return nu(e,((t,r)=>{if(yr(e,t)&&"."!==t.substring(0,1)){const e=Ec(r);!e.isLeafNode()&&e.isEmpty()||(n=n.updateImmediateChild(t,e))}})),n.updatePriority(Ec(t))}{const n=[];let r=!1;if(nu(e,((e,t)=>{if("."!==e.substring(0,1)){const i=Ec(t);i.isEmpty()||(r=r||!i.getPriority().isEmpty(),n.push(new Xu(e,i)))}})),0===n.length)return kc.EMPTY_NODE;const i=yc(n,sc,(e=>e.name),ac);if(r){const e=yc(n,mc.getCompare());return new kc(i,Ec(t),new wc({".priority":e},{".priority":mc}))}return new kc(i,Ec(t),wc.Default)}}!function(e){hc=e}(Ec);class Tc extends Zu{constructor(e){super(),this.indexPath_=e,Bn(!Hu(e)&&".priority"!==Lu(e),"Can't create PathIndex with empty path or .priority key")}extractChild(e){return e.getChild(this.indexPath_)}isDefinedOn(e){return!e.getChild(this.indexPath_).isEmpty()}compare(e,t){const n=this.extractChild(e.node),r=this.extractChild(t.node),i=n.compareTo(r);return 0===i?Jl(e.name,t.name):i}makePost(e,t){const n=Ec(e),r=kc.EMPTY_NODE.updateChild(this.indexPath_,n);return new Xu(t,r)}maxPost(){const e=kc.EMPTY_NODE.updateChild(this.indexPath_,Cc);return new Xu(Gl,e)}toString(){return Uu(this.indexPath_,0).join("/")}}const Ic=new class extends Zu{compare(e,t){const n=e.node.compareTo(t.node);return 0===n?Jl(e.name,t.name):n}isDefinedOn(e){return!0}indexedValueChanged(e,t){return!e.equals(t)}minPost(){return Xu.MIN}maxPost(){return Xu.MAX}makePost(e,t){const n=Ec(e);return new Xu(t,n)}toString(){return".value"}};function xc(e){return{type:"value",snapshotNode:e}}function Pc(e,t){return{type:"child_added",snapshotNode:t,childName:e}}function Rc(e,t){return{type:"child_removed",snapshotNode:t,childName:e}}function Nc(e,t,n){return{type:"child_changed",snapshotNode:t,childName:e,oldSnap:n}}class Oc{constructor(e){this.index_=e}updateChild(e,t,n,r,i,o){Bn(e.isIndexed(this.index_),"A node must be indexed if only a child is updated");const s=e.getImmediateChild(t);return s.getChild(r).equals(n.getChild(r))&&s.isEmpty()===n.isEmpty()?e:(null!=o&&(n.isEmpty()?e.hasChild(t)?o.trackChildChange(Rc(t,s)):Bn(e.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):s.isEmpty()?o.trackChildChange(Pc(t,n)):o.trackChildChange(Nc(t,n,s))),e.isLeafNode()&&n.isEmpty()?e:e.updateImmediateChild(t,n).withIndex(this.index_))}updateFullNode(e,t,n){return null!=n&&(e.isLeafNode()||e.forEachChild(mc,((e,r)=>{t.hasChild(e)||n.trackChildChange(Rc(e,r))})),t.isLeafNode()||t.forEachChild(mc,((t,r)=>{if(e.hasChild(t)){const i=e.getImmediateChild(t);i.equals(r)||n.trackChildChange(Nc(t,r,i))}else n.trackChildChange(Pc(t,r))}))),t.withIndex(this.index_)}updatePriority(e,t){return e.isEmpty()?kc.EMPTY_NODE:e.updatePriority(t)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}class Ac{constructor(e){this.indexedFilter_=new Oc(e.getIndex()),this.index_=e.getIndex(),this.startPost_=Ac.getStartPost_(e),this.endPost_=Ac.getEndPost_(e),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(e){const t=this.startIsInclusive_?this.index_.compare(this.getStartPost(),e)<=0:this.index_.compare(this.getStartPost(),e)<0,n=this.endIsInclusive_?this.index_.compare(e,this.getEndPost())<=0:this.index_.compare(e,this.getEndPost())<0;return t&&n}updateChild(e,t,n,r,i,o){return this.matches(new Xu(t,n))||(n=kc.EMPTY_NODE),this.indexedFilter_.updateChild(e,t,n,r,i,o)}updateFullNode(e,t,n){t.isLeafNode()&&(t=kc.EMPTY_NODE);let r=t.withIndex(this.index_);r=r.updatePriority(kc.EMPTY_NODE);const i=this;return t.forEachChild(mc,((e,t)=>{i.matches(new Xu(e,t))||(r=r.updateImmediateChild(e,kc.EMPTY_NODE))})),this.indexedFilter_.updateFullNode(e,r,n)}updatePriority(e,t){return e}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(e){if(e.hasStart()){const t=e.getIndexStartName();return e.getIndex().makePost(e.getIndexStartValue(),t)}return e.getIndex().minPost()}static getEndPost_(e){if(e.hasEnd()){const t=e.getIndexEndName();return e.getIndex().makePost(e.getIndexEndValue(),t)}return e.getIndex().maxPost()}}class Dc{constructor(e){this.withinDirectionalStart=e=>this.reverse_?this.withinEndPost(e):this.withinStartPost(e),this.withinDirectionalEnd=e=>this.reverse_?this.withinStartPost(e):this.withinEndPost(e),this.withinStartPost=e=>{const t=this.index_.compare(this.rangedFilter_.getStartPost(),e);return this.startIsInclusive_?t<=0:t<0},this.withinEndPost=e=>{const t=this.index_.compare(e,this.rangedFilter_.getEndPost());return this.endIsInclusive_?t<=0:t<0},this.rangedFilter_=new Ac(e),this.index_=e.getIndex(),this.limit_=e.getLimit(),this.reverse_=!e.isViewFromLeft(),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}updateChild(e,t,n,r,i,o){return this.rangedFilter_.matches(new Xu(t,n))||(n=kc.EMPTY_NODE),e.getImmediateChild(t).equals(n)?e:e.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(e,t,n,r,i,o):this.fullLimitUpdateChild_(e,t,n,i,o)}updateFullNode(e,t,n){let r;if(t.isLeafNode()||t.isEmpty())r=kc.EMPTY_NODE.withIndex(this.index_);else if(2*this.limit_<t.numChildren()&&t.isIndexed(this.index_)){let e;r=kc.EMPTY_NODE.withIndex(this.index_),e=this.reverse_?t.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):t.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let n=0;for(;e.hasNext()&&n<this.limit_;){const t=e.getNext();if(this.withinDirectionalStart(t)){if(!this.withinDirectionalEnd(t))break;r=r.updateImmediateChild(t.name,t.node),n++}}}else{let e;r=t.withIndex(this.index_),r=r.updatePriority(kc.EMPTY_NODE),e=this.reverse_?r.getReverseIterator(this.index_):r.getIterator(this.index_);let n=0;for(;e.hasNext();){const t=e.getNext();n<this.limit_&&this.withinDirectionalStart(t)&&this.withinDirectionalEnd(t)?n++:r=r.updateImmediateChild(t.name,kc.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(e,r,n)}updatePriority(e,t){return e}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(e,t,n,r,i){let o;if(this.reverse_){const e=this.index_.getCompare();o=(t,n)=>e(n,t)}else o=this.index_.getCompare();const s=e;Bn(s.numChildren()===this.limit_,"");const a=new Xu(t,n),l=this.reverse_?s.getFirstChild(this.index_):s.getLastChild(this.index_),u=this.rangedFilter_.matches(a);if(s.hasChild(t)){const e=s.getImmediateChild(t);let c=r.getChildAfterChild(this.index_,l,this.reverse_);for(;null!=c&&(c.name===t||s.hasChild(c.name));)c=r.getChildAfterChild(this.index_,c,this.reverse_);const d=null==c?1:o(c,a);if(u&&!n.isEmpty()&&d>=0)return null!=i&&i.trackChildChange(Nc(t,n,e)),s.updateImmediateChild(t,n);{null!=i&&i.trackChildChange(Rc(t,e));const n=s.updateImmediateChild(t,kc.EMPTY_NODE);return null!=c&&this.rangedFilter_.matches(c)?(null!=i&&i.trackChildChange(Pc(c.name,c.node)),n.updateImmediateChild(c.name,c.node)):n}}return n.isEmpty()?e:u&&o(l,a)>=0?(null!=i&&(i.trackChildChange(Rc(l.name,l.node)),i.trackChildChange(Pc(t,n))),s.updateImmediateChild(t,n).updateImmediateChild(l.name,kc.EMPTY_NODE)):e}}class Lc{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=mc}hasStart(){return this.startSet_}isViewFromLeft(){return""===this.viewFrom_?this.startSet_:"l"===this.viewFrom_}getIndexStartValue(){return Bn(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return Bn(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:Yl}hasEnd(){return this.endSet_}getIndexEndValue(){return Bn(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return Bn(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:Gl}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&""!==this.viewFrom_}getLimit(){return Bn(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===mc}copy(){const e=new Lc;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.startAfterSet_=this.startAfterSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.endBeforeSet_=this.endBeforeSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e}}function Mc(e){const t={};if(e.isDefault())return t;let n;if(e.index_===mc?n="$priority":e.index_===Ic?n="$value":e.index_===nc?n="$key":(Bn(e.index_ instanceof Tc,"Unrecognized index type!"),n=e.index_.toString()),t.orderBy=gr(n),e.startSet_){const n=e.startAfterSet_?"startAfter":"startAt";t[n]=gr(e.indexStartValue_),e.startNameSet_&&(t[n]+=","+gr(e.indexStartName_))}if(e.endSet_){const n=e.endBeforeSet_?"endBefore":"endAt";t[n]=gr(e.indexEndValue_),e.endNameSet_&&(t[n]+=","+gr(e.indexEndName_))}return e.limitSet_&&(e.isViewFromLeft()?t.limitToFirst=e.limit_:t.limitToLast=e.limit_),t}function Fc(e){const t={};if(e.startSet_&&(t.sp=e.indexStartValue_,e.startNameSet_&&(t.sn=e.indexStartName_),t.sin=!e.startAfterSet_),e.endSet_&&(t.ep=e.indexEndValue_,e.endNameSet_&&(t.en=e.indexEndName_),t.ein=!e.endBeforeSet_),e.limitSet_){t.l=e.limit_;let n=e.viewFrom_;""===n&&(n=e.isViewFromLeft()?"l":"r"),t.vf=n}return e.index_!==mc&&(t.i=e.index_.toString()),t}class jc extends Ru{reportStats(e){throw new Error("Method not implemented.")}static getListenId_(e,t){return void 0!==t?"tag$"+t:(Bn(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}constructor(e,t,n,r){super(),this.repoInfo_=e,this.onDataUpdate_=t,this.authTokenProvider_=n,this.appCheckTokenProvider_=r,this.log_=Vl("p:rest:"),this.listens_={}}listen(e,t,n,r){const i=e._path.toString();this.log_("Listen called for "+i+" "+e._queryIdentifier);const o=jc.getListenId_(e,n),s={};this.listens_[o]=s;const a=Mc(e._queryParams);this.restRequest_(i+".json",a,((e,t)=>{let a=t;if(404===e&&(a=null,e=null),null===e&&this.onDataUpdate_(i,a,!1,n),_r(this.listens_,o)===s){let t;t=e?401===e?"permission_denied":"rest_error:"+e:"ok",r(t,null)}}))}unlisten(e,t){const n=jc.getListenId_(e,t);delete this.listens_[n]}get(e){const t=Mc(e._queryParams),n=e._path.toString(),r=new ar;return this.restRequest_(n+".json",t,((e,t)=>{let i=t;404===e&&(i=null,e=null),null===e?(this.onDataUpdate_(n,i,!1,null),r.resolve(i)):r.reject(new Error(i))})),r.promise}refreshAuthToken(e){}restRequest_(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2?arguments[2]:void 0;return t.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then((r=>{let[i,o]=r;i&&i.accessToken&&(t.auth=i.accessToken),o&&o.token&&(t.ac=o.token);const s=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+e+"?ns="+this.repoInfo_.namespace+Cr(t);this.log_("Sending REST request for "+s);const a=new XMLHttpRequest;a.onreadystatechange=()=>{if(n&&4===a.readyState){this.log_("REST Response for "+s+" received. status:",a.status,"response:",a.responseText);let e=null;if(a.status>=200&&a.status<300){try{e=mr(a.responseText)}catch(Mm){Ql("Failed to parse JSON response for "+s+": "+a.responseText)}n(null,e)}else 401!==a.status&&404!==a.status&&Ql("Got unsuccessful REST response for "+s+" Status: "+a.status),n(a.status);n=null}},a.open("GET",s,!0),a.send()}))}}class Uc{constructor(){this.rootNode_=kc.EMPTY_NODE}getNode(e){return this.rootNode_.getChild(e)}updateSnapshot(e,t){this.rootNode_=this.rootNode_.updateChild(e,t)}}function zc(){return{value:null,children:new Map}}function qc(e,t,n){if(Hu(t))e.value=n,e.children.clear();else if(null!==e.value)e.value=e.value.updateChild(t,n);else{const r=Lu(t);e.children.has(r)||e.children.set(r,zc());qc(e.children.get(r),t=Fu(t),n)}}function Hc(e,t,n){null!==e.value?n(t,e.value):function(e,t){e.children.forEach(((e,n)=>{t(n,e)}))}(e,((e,r)=>{Hc(r,new Au(t.toString()+"/"+e),n)}))}class $c{constructor(e){this.collection_=e,this.last_=null}get(){const e=this.collection_.get(),t=Object.assign({},e);return this.last_&&nu(this.last_,((e,n)=>{t[e]=t[e]-n})),this.last_=e,t}}class Vc{constructor(e,t){this.server_=t,this.statsToReport_={},this.statsListener_=new $c(e);const n=1e4+2e4*Math.random();au(this.reportStats_.bind(this),Math.floor(n))}reportStats_(){const e=this.statsListener_.get(),t={};let n=!1;nu(e,((e,r)=>{r>0&&yr(this.statsToReport_,e)&&(t[e]=r,n=!0)})),n&&this.server_.reportStats(t),au(this.reportStats_.bind(this),Math.floor(2*Math.random()*3e5))}}var Wc;function Bc(e){return{fromUser:!1,fromServer:!0,queryId:e,tagged:!0}}!function(e){e[e.OVERWRITE=0]="OVERWRITE",e[e.MERGE=1]="MERGE",e[e.ACK_USER_WRITE=2]="ACK_USER_WRITE",e[e.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"}(Wc||(Wc={}));class Qc{constructor(e,t,n){this.path=e,this.affectedTree=t,this.revert=n,this.type=Wc.ACK_USER_WRITE,this.source={fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}operationForChild(e){if(Hu(this.path)){if(null!=this.affectedTree.value)return Bn(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const t=this.affectedTree.subtree(new Au(e));return new Qc(Du(),t,this.revert)}}return Bn(Lu(this.path)===e,"operationForChild called for unrelated child."),new Qc(Fu(this.path),this.affectedTree,this.revert)}}class Kc{constructor(e,t){this.source=e,this.path=t,this.type=Wc.LISTEN_COMPLETE}operationForChild(e){return Hu(this.path)?new Kc(this.source,Du()):new Kc(this.source,Fu(this.path))}}class Yc{constructor(e,t,n){this.source=e,this.path=t,this.snap=n,this.type=Wc.OVERWRITE}operationForChild(e){return Hu(this.path)?new Yc(this.source,Du(),this.snap.getImmediateChild(e)):new Yc(this.source,Fu(this.path),this.snap)}}class Gc{constructor(e,t,n){this.source=e,this.path=t,this.children=n,this.type=Wc.MERGE}operationForChild(e){if(Hu(this.path)){const t=this.children.subtree(new Au(e));return t.isEmpty()?null:t.value?new Yc(this.source,Du(),t.value):new Gc(this.source,Du(),t)}return Bn(Lu(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new Gc(this.source,Fu(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}class Jc{constructor(e,t,n){this.node_=e,this.fullyInitialized_=t,this.filtered_=n}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(e){if(Hu(e))return this.isFullyInitialized()&&!this.filtered_;const t=Lu(e);return this.isCompleteForChild(t)}isCompleteForChild(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}getNode(){return this.node_}}class Xc{constructor(e){this.query_=e,this.index_=this.query_._queryParams.getIndex()}}function Zc(e,t,n,r,i,o){const s=r.filter((e=>e.type===n));s.sort(((t,n)=>function(e,t,n){if(null==t.childName||null==n.childName)throw Qn("Should only compare child_ events.");const r=new Xu(t.childName,t.snapshotNode),i=new Xu(n.childName,n.snapshotNode);return e.index_.compare(r,i)}(e,t,n))),s.forEach((n=>{const r=function(e,t,n){return"value"===t.type||"child_removed"===t.type||(t.prevName=n.getPredecessorChildName(t.childName,t.snapshotNode,e.index_)),t}(e,n,o);i.forEach((i=>{i.respondsTo(n.type)&&t.push(i.createEvent(r,e.query_))}))}))}function ed(e,t){return{eventCache:e,serverCache:t}}function td(e,t,n,r){return ed(new Jc(t,n,r),e.serverCache)}function nd(e,t,n,r){return ed(e.eventCache,new Jc(t,n,r))}function rd(e){return e.eventCache.isFullyInitialized()?e.eventCache.getNode():null}function id(e){return e.serverCache.isFullyInitialized()?e.serverCache.getNode():null}let od;class sd{static fromObject(e){let t=new sd(null);return nu(e,((e,n)=>{t=t.set(new Au(e),n)})),t}constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:(od||(od=new oc(Xl)),od);this.value=e,this.children=t}isEmpty(){return null===this.value&&this.children.isEmpty()}findRootMostMatchingPathAndValue(e,t){if(null!=this.value&&t(this.value))return{path:Du(),value:this.value};if(Hu(e))return null;{const n=Lu(e),r=this.children.get(n);if(null!==r){const i=r.findRootMostMatchingPathAndValue(Fu(e),t);if(null!=i){return{path:qu(new Au(n),i.path),value:i.value}}return null}return null}}findRootMostValueAndPath(e){return this.findRootMostMatchingPathAndValue(e,(()=>!0))}subtree(e){if(Hu(e))return this;{const t=Lu(e),n=this.children.get(t);return null!==n?n.subtree(Fu(e)):new sd(null)}}set(e,t){if(Hu(e))return new sd(t,this.children);{const n=Lu(e),r=(this.children.get(n)||new sd(null)).set(Fu(e),t),i=this.children.insert(n,r);return new sd(this.value,i)}}remove(e){if(Hu(e))return this.children.isEmpty()?new sd(null):new sd(null,this.children);{const t=Lu(e),n=this.children.get(t);if(n){const r=n.remove(Fu(e));let i;return i=r.isEmpty()?this.children.remove(t):this.children.insert(t,r),null===this.value&&i.isEmpty()?new sd(null):new sd(this.value,i)}return this}}get(e){if(Hu(e))return this.value;{const t=Lu(e),n=this.children.get(t);return n?n.get(Fu(e)):null}}setTree(e,t){if(Hu(e))return t;{const n=Lu(e),r=(this.children.get(n)||new sd(null)).setTree(Fu(e),t);let i;return i=r.isEmpty()?this.children.remove(n):this.children.insert(n,r),new sd(this.value,i)}}fold(e){return this.fold_(Du(),e)}fold_(e,t){const n={};return this.children.inorderTraversal(((r,i)=>{n[r]=i.fold_(qu(e,r),t)})),t(e,this.value,n)}findOnPath(e,t){return this.findOnPath_(e,Du(),t)}findOnPath_(e,t,n){const r=!!this.value&&n(t,this.value);if(r)return r;if(Hu(e))return null;{const r=Lu(e),i=this.children.get(r);return i?i.findOnPath_(Fu(e),qu(t,r),n):null}}foreachOnPath(e,t){return this.foreachOnPath_(e,Du(),t)}foreachOnPath_(e,t,n){if(Hu(e))return this;{this.value&&n(t,this.value);const r=Lu(e),i=this.children.get(r);return i?i.foreachOnPath_(Fu(e),qu(t,r),n):new sd(null)}}foreach(e){this.foreach_(Du(),e)}foreach_(e,t){this.children.inorderTraversal(((n,r)=>{r.foreach_(qu(e,n),t)})),this.value&&t(e,this.value)}foreachChild(e){this.children.inorderTraversal(((t,n)=>{n.value&&e(t,n.value)}))}}class ad{constructor(e){this.writeTree_=e}static empty(){return new ad(new sd(null))}}function ld(e,t,n){if(Hu(t))return new ad(new sd(n));{const r=e.writeTree_.findRootMostValueAndPath(t);if(null!=r){const i=r.path;let o=r.value;const s=$u(i,t);return o=o.updateChild(s,n),new ad(e.writeTree_.set(i,o))}{const r=new sd(n),i=e.writeTree_.setTree(t,r);return new ad(i)}}}function ud(e,t,n){let r=e;return nu(n,((e,n)=>{r=ld(r,qu(t,e),n)})),r}function cd(e,t){if(Hu(t))return ad.empty();{const n=e.writeTree_.setTree(t,new sd(null));return new ad(n)}}function dd(e,t){return null!=hd(e,t)}function hd(e,t){const n=e.writeTree_.findRootMostValueAndPath(t);return null!=n?e.writeTree_.get(n.path).getChild($u(n.path,t)):null}function fd(e){const t=[],n=e.writeTree_.value;return null!=n?n.isLeafNode()||n.forEachChild(mc,((e,n)=>{t.push(new Xu(e,n))})):e.writeTree_.children.inorderTraversal(((e,n)=>{null!=n.value&&t.push(new Xu(e,n.value))})),t}function pd(e,t){if(Hu(t))return e;{const n=hd(e,t);return new ad(null!=n?new sd(n):e.writeTree_.subtree(t))}}function md(e){return e.writeTree_.isEmpty()}function gd(e,t){return vd(Du(),e.writeTree_,t)}function vd(e,t,n){if(null!=t.value)return n.updateChild(e,t.value);{let r=null;return t.children.inorderTraversal(((t,i)=>{".priority"===t?(Bn(null!==i.value,"Priority writes must always be leaf nodes"),r=i.value):n=vd(qu(e,t),i,n)})),n.getChild(e).isEmpty()||null===r||(n=n.updateChild(qu(e,".priority"),r)),n}}function yd(e,t){return Nd(t,e)}function _d(e,t){const n=e.allWrites.findIndex((e=>e.writeId===t));Bn(n>=0,"removeWrite called with nonexistent writeId.");const r=e.allWrites[n];e.allWrites.splice(n,1);let i=r.visible,o=!1,s=e.allWrites.length-1;for(;i&&s>=0;){const t=e.allWrites[s];t.visible&&(s>=n&&bd(t,r.path)?i=!1:Wu(r.path,t.path)&&(o=!0)),s--}if(i){if(o)return function(e){e.visibleWrites=Sd(e.allWrites,wd,Du()),e.allWrites.length>0?e.lastWriteId=e.allWrites[e.allWrites.length-1].writeId:e.lastWriteId=-1}(e),!0;if(r.snap)e.visibleWrites=cd(e.visibleWrites,r.path);else{nu(r.children,(t=>{e.visibleWrites=cd(e.visibleWrites,qu(r.path,t))}))}return!0}return!1}function bd(e,t){if(e.snap)return Wu(e.path,t);for(const n in e.children)if(e.children.hasOwnProperty(n)&&Wu(qu(e.path,n),t))return!0;return!1}function wd(e){return e.visible}function Sd(e,t,n){let r=ad.empty();for(let i=0;i<e.length;++i){const o=e[i];if(t(o)){const e=o.path;let t;if(o.snap)Wu(n,e)?(t=$u(n,e),r=ld(r,t,o.snap)):Wu(e,n)&&(t=$u(e,n),r=ld(r,Du(),o.snap.getChild(t)));else{if(!o.children)throw Qn("WriteRecord should have .snap or .children");if(Wu(n,e))t=$u(n,e),r=ud(r,t,o.children);else if(Wu(e,n))if(t=$u(e,n),Hu(t))r=ud(r,Du(),o.children);else{const e=_r(o.children,Lu(t));if(e){const n=e.getChild(Fu(t));r=ld(r,Du(),n)}}}}}return r}function kd(e,t,n,r,i){if(r||i){const o=pd(e.visibleWrites,t);if(!i&&md(o))return n;if(i||null!=n||dd(o,Du())){const o=function(e){return(e.visible||i)&&(!r||!~r.indexOf(e.writeId))&&(Wu(e.path,t)||Wu(t,e.path))};return gd(Sd(e.allWrites,o,t),n||kc.EMPTY_NODE)}return null}{const r=hd(e.visibleWrites,t);if(null!=r)return r;{const r=pd(e.visibleWrites,t);if(md(r))return n;if(null!=n||dd(r,Du())){return gd(r,n||kc.EMPTY_NODE)}return null}}}function Cd(e,t,n,r){return kd(e.writeTree,e.treePath,t,n,r)}function Ed(e,t){return function(e,t,n){let r=kc.EMPTY_NODE;const i=hd(e.visibleWrites,t);if(i)return i.isLeafNode()||i.forEachChild(mc,((e,t)=>{r=r.updateImmediateChild(e,t)})),r;if(n){const i=pd(e.visibleWrites,t);return n.forEachChild(mc,((e,t)=>{const n=gd(pd(i,new Au(e)),t);r=r.updateImmediateChild(e,n)})),fd(i).forEach((e=>{r=r.updateImmediateChild(e.name,e.node)})),r}return fd(pd(e.visibleWrites,t)).forEach((e=>{r=r.updateImmediateChild(e.name,e.node)})),r}(e.writeTree,e.treePath,t)}function Td(e,t,n,r){return function(e,t,n,r,i){Bn(r||i,"Either existingEventSnap or existingServerSnap must exist");const o=qu(t,n);if(dd(e.visibleWrites,o))return null;{const t=pd(e.visibleWrites,o);return md(t)?i.getChild(n):gd(t,i.getChild(n))}}(e.writeTree,e.treePath,t,n,r)}function Id(e,t){return function(e,t){return hd(e.visibleWrites,t)}(e.writeTree,qu(e.treePath,t))}function xd(e,t,n,r,i,o){return function(e,t,n,r,i,o,s){let a;const l=pd(e.visibleWrites,t),u=hd(l,Du());if(null!=u)a=u;else{if(null==n)return[];a=gd(l,n)}if(a=a.withIndex(s),a.isEmpty()||a.isLeafNode())return[];{const e=[],t=s.getCompare(),n=o?a.getReverseIteratorFrom(r,s):a.getIteratorFrom(r,s);let l=n.getNext();for(;l&&e.length<i;)0!==t(l,r)&&e.push(l),l=n.getNext();return e}}(e.writeTree,e.treePath,t,n,r,i,o)}function Pd(e,t,n){return function(e,t,n,r){const i=qu(t,n),o=hd(e.visibleWrites,i);if(null!=o)return o;if(r.isCompleteForChild(n))return gd(pd(e.visibleWrites,i),r.getNode().getImmediateChild(n));return null}(e.writeTree,e.treePath,t,n)}function Rd(e,t){return Nd(qu(e.treePath,t),e.writeTree)}function Nd(e,t){return{treePath:e,writeTree:t}}class Od{constructor(){this.changeMap=new Map}trackChildChange(e){const t=e.type,n=e.childName;Bn("child_added"===t||"child_changed"===t||"child_removed"===t,"Only child changes supported for tracking"),Bn(".priority"!==n,"Only non-priority child changes can be tracked.");const r=this.changeMap.get(n);if(r){const i=r.type;if("child_added"===t&&"child_removed"===i)this.changeMap.set(n,Nc(n,e.snapshotNode,r.snapshotNode));else if("child_removed"===t&&"child_added"===i)this.changeMap.delete(n);else if("child_removed"===t&&"child_changed"===i)this.changeMap.set(n,Rc(n,r.oldSnap));else if("child_changed"===t&&"child_added"===i)this.changeMap.set(n,Pc(n,e.snapshotNode));else{if("child_changed"!==t||"child_changed"!==i)throw Qn("Illegal combination of changes: "+e+" occurred after "+r);this.changeMap.set(n,Nc(n,e.snapshotNode,r.oldSnap))}}else this.changeMap.set(n,e)}getChanges(){return Array.from(this.changeMap.values())}}const Ad=new class{getCompleteChild(e){return null}getChildAfterChild(e,t,n){return null}};class Dd{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;this.writes_=e,this.viewCache_=t,this.optCompleteServerCache_=n}getCompleteChild(e){const t=this.viewCache_.eventCache;if(t.isCompleteForChild(e))return t.getNode().getImmediateChild(e);{const t=null!=this.optCompleteServerCache_?new Jc(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return Pd(this.writes_,e,t)}}getChildAfterChild(e,t,n){const r=null!=this.optCompleteServerCache_?this.optCompleteServerCache_:id(this.viewCache_),i=xd(this.writes_,r,t,1,n,e);return 0===i.length?null:i[0]}}function Ld(e,t,n,r,i){const o=new Od;let s,a;if(n.type===Wc.OVERWRITE){const l=n;l.source.fromUser?s=jd(e,t,l.path,l.snap,r,i,o):(Bn(l.source.fromServer,"Unknown source."),a=l.source.tagged||t.serverCache.isFiltered()&&!Hu(l.path),s=Fd(e,t,l.path,l.snap,r,i,a,o))}else if(n.type===Wc.MERGE){const l=n;l.source.fromUser?s=function(e,t,n,r,i,o,s){let a=t;return r.foreach(((r,l)=>{const u=qu(n,r);Ud(t,Lu(u))&&(a=jd(e,a,u,l,i,o,s))})),r.foreach(((r,l)=>{const u=qu(n,r);Ud(t,Lu(u))||(a=jd(e,a,u,l,i,o,s))})),a}(e,t,l.path,l.children,r,i,o):(Bn(l.source.fromServer,"Unknown source."),a=l.source.tagged||t.serverCache.isFiltered(),s=qd(e,t,l.path,l.children,r,i,a,o))}else if(n.type===Wc.ACK_USER_WRITE){const a=n;s=a.revert?function(e,t,n,r,i,o){let s;if(null!=Id(r,n))return t;{const a=new Dd(r,t,i),l=t.eventCache.getNode();let u;if(Hu(n)||".priority"===Lu(n)){let n;if(t.serverCache.isFullyInitialized())n=Cd(r,id(t));else{const e=t.serverCache.getNode();Bn(e instanceof kc,"serverChildren would be complete if leaf node"),n=Ed(r,e)}u=e.filter.updateFullNode(l,n,o)}else{const i=Lu(n);let c=Pd(r,i,t.serverCache);null==c&&t.serverCache.isCompleteForChild(i)&&(c=l.getImmediateChild(i)),u=null!=c?e.filter.updateChild(l,i,c,Fu(n),a,o):t.eventCache.getNode().hasChild(i)?e.filter.updateChild(l,i,kc.EMPTY_NODE,Fu(n),a,o):l,u.isEmpty()&&t.serverCache.isFullyInitialized()&&(s=Cd(r,id(t)),s.isLeafNode()&&(u=e.filter.updateFullNode(u,s,o)))}return s=t.serverCache.isFullyInitialized()||null!=Id(r,Du()),td(t,u,s,e.filter.filtersNodes())}}(e,t,a.path,r,i,o):function(e,t,n,r,i,o,s){if(null!=Id(i,n))return t;const a=t.serverCache.isFiltered(),l=t.serverCache;if(null!=r.value){if(Hu(n)&&l.isFullyInitialized()||l.isCompleteForPath(n))return Fd(e,t,n,l.getNode().getChild(n),i,o,a,s);if(Hu(n)){let r=new sd(null);return l.getNode().forEachChild(nc,((e,t)=>{r=r.set(new Au(e),t)})),qd(e,t,n,r,i,o,a,s)}return t}{let u=new sd(null);return r.foreach(((e,t)=>{const r=qu(n,e);l.isCompleteForPath(r)&&(u=u.set(e,l.getNode().getChild(r)))})),qd(e,t,n,u,i,o,a,s)}}(e,t,a.path,a.affectedTree,r,i,o)}else{if(n.type!==Wc.LISTEN_COMPLETE)throw Qn("Unknown operation type: "+n.type);s=function(e,t,n,r,i){const o=t.serverCache,s=nd(t,o.getNode(),o.isFullyInitialized()||Hu(n),o.isFiltered());return Md(e,s,n,r,Ad,i)}(e,t,n.path,r,o)}const l=o.getChanges();return function(e,t,n){const r=t.eventCache;if(r.isFullyInitialized()){const i=r.getNode().isLeafNode()||r.getNode().isEmpty(),o=rd(e);(n.length>0||!e.eventCache.isFullyInitialized()||i&&!r.getNode().equals(o)||!r.getNode().getPriority().equals(o.getPriority()))&&n.push(xc(rd(t)))}}(t,s,l),{viewCache:s,changes:l}}function Md(e,t,n,r,i,o){const s=t.eventCache;if(null!=Id(r,n))return t;{let a,l;if(Hu(n))if(Bn(t.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),t.serverCache.isFiltered()){const n=id(t),i=Ed(r,n instanceof kc?n:kc.EMPTY_NODE);a=e.filter.updateFullNode(t.eventCache.getNode(),i,o)}else{const n=Cd(r,id(t));a=e.filter.updateFullNode(t.eventCache.getNode(),n,o)}else{const u=Lu(n);if(".priority"===u){Bn(1===Mu(n),"Can't have a priority with additional path components");const i=s.getNode();l=t.serverCache.getNode();const o=Td(r,n,i,l);a=null!=o?e.filter.updatePriority(i,o):s.getNode()}else{const c=Fu(n);let d;if(s.isCompleteForChild(u)){l=t.serverCache.getNode();const e=Td(r,n,s.getNode(),l);d=null!=e?s.getNode().getImmediateChild(u).updateChild(c,e):s.getNode().getImmediateChild(u)}else d=Pd(r,u,t.serverCache);a=null!=d?e.filter.updateChild(s.getNode(),u,d,c,i,o):s.getNode()}}return td(t,a,s.isFullyInitialized()||Hu(n),e.filter.filtersNodes())}}function Fd(e,t,n,r,i,o,s,a){const l=t.serverCache;let u;const c=s?e.filter:e.filter.getIndexedFilter();if(Hu(n))u=c.updateFullNode(l.getNode(),r,null);else if(c.filtersNodes()&&!l.isFiltered()){const e=l.getNode().updateChild(n,r);u=c.updateFullNode(l.getNode(),e,null)}else{const e=Lu(n);if(!l.isCompleteForPath(n)&&Mu(n)>1)return t;const i=Fu(n),o=l.getNode().getImmediateChild(e).updateChild(i,r);u=".priority"===e?c.updatePriority(l.getNode(),o):c.updateChild(l.getNode(),e,o,i,Ad,null)}const d=nd(t,u,l.isFullyInitialized()||Hu(n),c.filtersNodes());return Md(e,d,n,i,new Dd(i,d,o),a)}function jd(e,t,n,r,i,o,s){const a=t.eventCache;let l,u;const c=new Dd(i,t,o);if(Hu(n))u=e.filter.updateFullNode(t.eventCache.getNode(),r,s),l=td(t,u,!0,e.filter.filtersNodes());else{const i=Lu(n);if(".priority"===i)u=e.filter.updatePriority(t.eventCache.getNode(),r),l=td(t,u,a.isFullyInitialized(),a.isFiltered());else{const o=Fu(n),u=a.getNode().getImmediateChild(i);let d;if(Hu(o))d=r;else{const e=c.getCompleteChild(i);d=null!=e?".priority"===ju(o)&&e.getChild(zu(o)).isEmpty()?e:e.updateChild(o,r):kc.EMPTY_NODE}if(u.equals(d))l=t;else{l=td(t,e.filter.updateChild(a.getNode(),i,d,o,c,s),a.isFullyInitialized(),e.filter.filtersNodes())}}}return l}function Ud(e,t){return e.eventCache.isCompleteForChild(t)}function zd(e,t,n){return n.foreach(((e,n)=>{t=t.updateChild(e,n)})),t}function qd(e,t,n,r,i,o,s,a){if(t.serverCache.getNode().isEmpty()&&!t.serverCache.isFullyInitialized())return t;let l,u=t;l=Hu(n)?r:new sd(null).setTree(n,r);const c=t.serverCache.getNode();return l.children.inorderTraversal(((n,r)=>{if(c.hasChild(n)){const l=zd(0,t.serverCache.getNode().getImmediateChild(n),r);u=Fd(e,u,new Au(n),l,i,o,s,a)}})),l.children.inorderTraversal(((n,r)=>{const l=!t.serverCache.isCompleteForChild(n)&&null===r.value;if(!c.hasChild(n)&&!l){const l=zd(0,t.serverCache.getNode().getImmediateChild(n),r);u=Fd(e,u,new Au(n),l,i,o,s,a)}})),u}class Hd{constructor(e,t){this.query_=e,this.eventRegistrations_=[];const n=this.query_._queryParams,r=new Oc(n.getIndex()),i=(o=n).loadsAllData()?new Oc(o.getIndex()):o.hasLimit()?new Dc(o):new Ac(o);var o;this.processor_=function(e){return{filter:e}}(i);const s=t.serverCache,a=t.eventCache,l=r.updateFullNode(kc.EMPTY_NODE,s.getNode(),null),u=i.updateFullNode(kc.EMPTY_NODE,a.getNode(),null),c=new Jc(l,s.isFullyInitialized(),r.filtersNodes()),d=new Jc(u,a.isFullyInitialized(),i.filtersNodes());this.viewCache_=ed(d,c),this.eventGenerator_=new Xc(this.query_)}get query(){return this.query_}}function $d(e,t){const n=id(e.viewCache_);return n&&(e.query._queryParams.loadsAllData()||!Hu(t)&&!n.getImmediateChild(Lu(t)).isEmpty())?n.getChild(t):null}function Vd(e){return 0===e.eventRegistrations_.length}function Wd(e,t,n){const r=[];if(n){Bn(null==t,"A cancel should cancel all event registrations.");const i=e.query._path;e.eventRegistrations_.forEach((e=>{const t=e.createCancelEvent(n,i);t&&r.push(t)}))}if(t){let n=[];for(let r=0;r<e.eventRegistrations_.length;++r){const i=e.eventRegistrations_[r];if(i.matches(t)){if(t.hasAnyCallback()){n=n.concat(e.eventRegistrations_.slice(r+1));break}}else n.push(i)}e.eventRegistrations_=n}else e.eventRegistrations_=[];return r}function Bd(e,t,n,r){t.type===Wc.MERGE&&null!==t.source.queryId&&(Bn(id(e.viewCache_),"We should always have a full cache before handling merges"),Bn(rd(e.viewCache_),"Missing event cache, even though we have a server cache"));const i=e.viewCache_,o=Ld(e.processor_,i,t,n,r);var s,a;return s=e.processor_,a=o.viewCache,Bn(a.eventCache.getNode().isIndexed(s.filter.getIndex()),"Event snap not indexed"),Bn(a.serverCache.getNode().isIndexed(s.filter.getIndex()),"Server snap not indexed"),Bn(o.viewCache.serverCache.isFullyInitialized()||!i.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),e.viewCache_=o.viewCache,Qd(e,o.changes,o.viewCache.eventCache.getNode(),null)}function Qd(e,t,n,r){const i=r?[r]:e.eventRegistrations_;return function(e,t,n,r){const i=[],o=[];return t.forEach((t=>{var n;"child_changed"===t.type&&e.index_.indexedValueChanged(t.oldSnap,t.snapshotNode)&&o.push((n=t.childName,{type:"child_moved",snapshotNode:t.snapshotNode,childName:n}))})),Zc(e,i,"child_removed",t,r,n),Zc(e,i,"child_added",t,r,n),Zc(e,i,"child_moved",o,r,n),Zc(e,i,"child_changed",t,r,n),Zc(e,i,"value",t,r,n),i}(e.eventGenerator_,t,n,i)}let Kd,Yd;class Gd{constructor(){this.views=new Map}}function Jd(e,t,n,r){const i=t.source.queryId;if(null!==i){const o=e.views.get(i);return Bn(null!=o,"SyncTree gave us an op for an invalid query."),Bd(o,t,n,r)}{let i=[];for(const o of e.views.values())i=i.concat(Bd(o,t,n,r));return i}}function Xd(e,t,n,r,i){const o=t._queryIdentifier,s=e.views.get(o);if(!s){let e=Cd(n,i?r:null),o=!1;e?o=!0:r instanceof kc?(e=Ed(n,r),o=!1):(e=kc.EMPTY_NODE,o=!1);const s=ed(new Jc(e,o,!1),new Jc(r,i,!1));return new Hd(t,s)}return s}function Zd(e,t,n,r,i,o){const s=Xd(e,t,r,i,o);return e.views.has(t._queryIdentifier)||e.views.set(t._queryIdentifier,s),function(e,t){e.eventRegistrations_.push(t)}(s,n),function(e,t){const n=e.viewCache_.eventCache,r=[];n.getNode().isLeafNode()||n.getNode().forEachChild(mc,((e,t)=>{r.push(Pc(e,t))}));return n.isFullyInitialized()&&r.push(xc(n.getNode())),Qd(e,r,n.getNode(),t)}(s,n)}function eh(e,t,n,r){const i=t._queryIdentifier,o=[];let s=[];const a=oh(e);if("default"===i)for(const[l,u]of e.views.entries())s=s.concat(Wd(u,n,r)),Vd(u)&&(e.views.delete(l),u.query._queryParams.loadsAllData()||o.push(u.query));else{const t=e.views.get(i);t&&(s=s.concat(Wd(t,n,r)),Vd(t)&&(e.views.delete(i),t.query._queryParams.loadsAllData()||o.push(t.query)))}return a&&!oh(e)&&o.push(new(Bn(Kd,"Reference.ts has not been loaded"),Kd)(t._repo,t._path)),{removed:o,events:s}}function th(e){const t=[];for(const n of e.views.values())n.query._queryParams.loadsAllData()||t.push(n);return t}function nh(e,t){let n=null;for(const r of e.views.values())n=n||$d(r,t);return n}function rh(e,t){if(t._queryParams.loadsAllData())return sh(e);{const n=t._queryIdentifier;return e.views.get(n)}}function ih(e,t){return null!=rh(e,t)}function oh(e){return null!=sh(e)}function sh(e){for(const t of e.views.values())if(t.query._queryParams.loadsAllData())return t;return null}let ah=1;class lh{constructor(e){this.listenProvider_=e,this.syncPointTree_=new sd(null),this.pendingWriteTree_={visibleWrites:ad.empty(),allWrites:[],lastWriteId:-1},this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function uh(e,t,n,r,i){return function(e,t,n,r,i){Bn(r>e.lastWriteId,"Stacking an older write on top of newer ones"),void 0===i&&(i=!0),e.allWrites.push({path:t,snap:n,writeId:r,visible:i}),i&&(e.visibleWrites=ld(e.visibleWrites,t,n)),e.lastWriteId=r}(e.pendingWriteTree_,t,n,r,i),i?vh(e,new Yc({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},t,n)):[]}function ch(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r=function(e,t){for(let n=0;n<e.allWrites.length;n++){const r=e.allWrites[n];if(r.writeId===t)return r}return null}(e.pendingWriteTree_,t);if(_d(e.pendingWriteTree_,t)){let t=new sd(null);return null!=r.snap?t=t.set(Du(),!0):nu(r.children,(e=>{t=t.set(new Au(e),!0)})),vh(e,new Qc(r.path,t,n))}return[]}function dh(e,t,n){return vh(e,new Yc({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t,n))}function hh(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]&&arguments[4];const o=t._path,s=e.syncPointTree_.get(o);let a=[];if(s&&("default"===t._queryIdentifier||ih(s,t))){const l=eh(s,t,n,r);0===s.views.size&&(e.syncPointTree_=e.syncPointTree_.remove(o));const u=l.removed;if(a=l.events,!i){const n=-1!==u.findIndex((e=>e._queryParams.loadsAllData())),i=e.syncPointTree_.findOnPath(o,((e,t)=>oh(t)));if(n&&!i){const t=e.syncPointTree_.subtree(o);if(!t.isEmpty()){const n=function(e){return e.fold(((e,t,n)=>{if(t&&oh(t)){return[sh(t)]}{let e=[];return t&&(e=th(t)),nu(n,((t,n)=>{e=e.concat(n)})),e}}))}(t);for(let t=0;t<n.length;++t){const r=n[t],i=r.query,o=bh(e,r);e.listenProvider_.startListening(Th(i),wh(e,i),o.hashFn,o.onComplete)}}}if(!i&&u.length>0&&!r)if(n){const n=null;e.listenProvider_.stopListening(Th(t),n)}else u.forEach((t=>{const n=e.queryToTagMap.get(Sh(t));e.listenProvider_.stopListening(Th(t),n)}))}!function(e,t){for(let n=0;n<t.length;++n){const r=t[n];if(!r._queryParams.loadsAllData()){const t=Sh(r),n=e.queryToTagMap.get(t);e.queryToTagMap.delete(t),e.tagToQueryMap.delete(n)}}}(e,u)}return a}function fh(e,t,n,r){const i=kh(e,r);if(null!=i){const r=Ch(i),o=r.path,s=r.queryId,a=$u(o,t);return Eh(e,o,new Yc(Bc(s),a,n))}return[]}function ph(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const i=t._path;let o=null,s=!1;e.syncPointTree_.foreachOnPath(i,((e,t)=>{const n=$u(e,i);o=o||nh(t,n),s=s||oh(t)}));let a,l=e.syncPointTree_.get(i);if(l?(s=s||oh(l),o=o||nh(l,Du())):(l=new Gd,e.syncPointTree_=e.syncPointTree_.set(i,l)),null!=o)a=!0;else{a=!1,o=kc.EMPTY_NODE;e.syncPointTree_.subtree(i).foreachChild(((e,t)=>{const n=nh(t,Du());n&&(o=o.updateImmediateChild(e,n))}))}const u=ih(l,t);if(!u&&!t._queryParams.loadsAllData()){const n=Sh(t);Bn(!e.queryToTagMap.has(n),"View does not exist, but we have a tag");const r=ah++;e.queryToTagMap.set(n,r),e.tagToQueryMap.set(r,n)}let c=Zd(l,t,n,yd(e.pendingWriteTree_,i),o,a);if(!u&&!s&&!r){const n=rh(l,t);c=c.concat(function(e,t,n){const r=t._path,i=wh(e,t),o=bh(e,n),s=e.listenProvider_.startListening(Th(t),i,o.hashFn,o.onComplete),a=e.syncPointTree_.subtree(r);if(i)Bn(!oh(a.value),"If we're adding a query, it shouldn't be shadowed");else{const t=a.fold(((e,t,n)=>{if(!Hu(e)&&t&&oh(t))return[sh(t).query];{let e=[];return t&&(e=e.concat(th(t).map((e=>e.query)))),nu(n,((t,n)=>{e=e.concat(n)})),e}}));for(let n=0;n<t.length;++n){const r=t[n];e.listenProvider_.stopListening(Th(r),wh(e,r))}}return s}(e,t,n))}return c}function mh(e,t,n){const r=e.pendingWriteTree_,i=e.syncPointTree_.findOnPath(t,((e,n)=>{const r=nh(n,$u(e,t));if(r)return r}));return kd(r,t,i,n,!0)}function gh(e,t){const n=t._path;let r=null;e.syncPointTree_.foreachOnPath(n,((e,t)=>{const i=$u(e,n);r=r||nh(t,i)}));let i=e.syncPointTree_.get(n);i?r=r||nh(i,Du()):(i=new Gd,e.syncPointTree_=e.syncPointTree_.set(n,i));const o=null!=r,s=o?new Jc(r,!0,!1):null;return function(e){return rd(e.viewCache_)}(Xd(i,t,yd(e.pendingWriteTree_,t._path),o?s.getNode():kc.EMPTY_NODE,o))}function vh(e,t){return yh(t,e.syncPointTree_,null,yd(e.pendingWriteTree_,Du()))}function yh(e,t,n,r){if(Hu(e.path))return _h(e,t,n,r);{const i=t.get(Du());null==n&&null!=i&&(n=nh(i,Du()));let o=[];const s=Lu(e.path),a=e.operationForChild(s),l=t.children.get(s);if(l&&a){const e=n?n.getImmediateChild(s):null,t=Rd(r,s);o=o.concat(yh(a,l,e,t))}return i&&(o=o.concat(Jd(i,e,r,n))),o}}function _h(e,t,n,r){const i=t.get(Du());null==n&&null!=i&&(n=nh(i,Du()));let o=[];return t.children.inorderTraversal(((t,i)=>{const s=n?n.getImmediateChild(t):null,a=Rd(r,t),l=e.operationForChild(t);l&&(o=o.concat(_h(l,i,s,a)))})),i&&(o=o.concat(Jd(i,e,r,n))),o}function bh(e,t){const n=t.query,r=wh(e,n);return{hashFn:()=>{const e=function(e){return e.viewCache_.serverCache.getNode()}(t)||kc.EMPTY_NODE;return e.hash()},onComplete:t=>{if("ok"===t)return r?function(e,t,n){const r=kh(e,n);if(r){const n=Ch(r),i=n.path,o=n.queryId,s=$u(i,t);return Eh(e,i,new Kc(Bc(o),s))}return[]}(e,n._path,r):function(e,t){return vh(e,new Kc({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t))}(e,n._path);{const r=function(e,t){let n="Unknown Error";"too_big"===e?n="The data requested exceeds the maximum size that can be accessed with a single request.":"permission_denied"===e?n="Client doesn't have permission to access the desired data.":"unavailable"===e&&(n="The service is unavailable");const r=new Error(e+" at "+t._path.toString()+": "+n);return r.code=e.toUpperCase(),r}(t,n);return hh(e,n,null,r)}}}}function wh(e,t){const n=Sh(t);return e.queryToTagMap.get(n)}function Sh(e){return e._path.toString()+"$"+e._queryIdentifier}function kh(e,t){return e.tagToQueryMap.get(t)}function Ch(e){const t=e.indexOf("$");return Bn(-1!==t&&t<e.length-1,"Bad queryKey."),{queryId:e.substr(t+1),path:new Au(e.substr(0,t))}}function Eh(e,t,n){const r=e.syncPointTree_.get(t);Bn(r,"Missing sync point for query tag that we're tracking");return Jd(r,n,yd(e.pendingWriteTree_,t),null)}function Th(e){return e._queryParams.loadsAllData()&&!e._queryParams.isDefault()?new(Bn(Yd,"Reference.ts has not been loaded"),Yd)(e._repo,e._path):e}class Ih{constructor(e){this.node_=e}getImmediateChild(e){const t=this.node_.getImmediateChild(e);return new Ih(t)}node(){return this.node_}}class xh{constructor(e,t){this.syncTree_=e,this.path_=t}getImmediateChild(e){const t=qu(this.path_,e);return new xh(this.syncTree_,t)}node(){return mh(this.syncTree_,this.path_)}}const Ph=function(e,t,n){return e&&"object"===typeof e?(Bn(".sv"in e,"Unexpected leaf node or priority contents"),"string"===typeof e[".sv"]?Rh(e[".sv"],t,n):"object"===typeof e[".sv"]?Nh(e[".sv"],t):void Bn(!1,"Unexpected server value: "+JSON.stringify(e,null,2))):e},Rh=function(e,t,n){if("timestamp"===e)return n.timestamp;Bn(!1,"Unexpected server value: "+e)},Nh=function(e,t,n){e.hasOwnProperty("increment")||Bn(!1,"Unexpected server value: "+JSON.stringify(e,null,2));const r=e.increment;"number"!==typeof r&&Bn(!1,"Unexpected increment value: "+r);const i=t.node();if(Bn(null!==i&&"undefined"!==typeof i,"Expected ChildrenNode.EMPTY_NODE for nulls"),!i.isLeafNode())return r;const o=i.getValue();return"number"!==typeof o?r:o+r},Oh=function(e,t,n,r){return Dh(t,new xh(n,e),r)},Ah=function(e,t,n){return Dh(e,new Ih(t),n)};function Dh(e,t,n){const r=e.getPriority().val(),i=Ph(r,t.getImmediateChild(".priority"),n);let o;if(e.isLeafNode()){const r=e,o=Ph(r.getValue(),t,n);return o!==r.getValue()||i!==r.getPriority().val()?new pc(o,Ec(i)):e}{const r=e;return o=r,i!==r.getPriority().val()&&(o=o.updatePriority(new pc(i))),r.forEachChild(mc,((e,r)=>{const i=Dh(r,t.getImmediateChild(e),n);i!==r&&(o=o.updateImmediateChild(e,i))})),o}}class Lh{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{children:{},childCount:0};this.name=e,this.parent=t,this.node=n}}function Mh(e,t){let n=t instanceof Au?t:new Au(t),r=e,i=Lu(n);for(;null!==i;){const e=_r(r.node.children,i)||{children:{},childCount:0};r=new Lh(i,r,e),n=Fu(n),i=Lu(n)}return r}function Fh(e){return e.node.value}function jh(e,t){e.node.value=t,$h(e)}function Uh(e){return e.node.childCount>0}function zh(e,t){nu(e.node.children,((n,r)=>{t(new Lh(n,e,r))}))}function qh(e,t,n,r){n&&!r&&t(e),zh(e,(e=>{qh(e,t,!0,r)})),n&&r&&t(e)}function Hh(e){return new Au(null===e.parent?e.name:Hh(e.parent)+"/"+e.name)}function $h(e){null!==e.parent&&function(e,t,n){const r=function(e){return void 0===Fh(e)&&!Uh(e)}(n),i=yr(e.node.children,t);r&&i?(delete e.node.children[t],e.node.childCount--,$h(e)):r||i||(e.node.children[t]=n.node,e.node.childCount++,$h(e))}(e.parent,e.name,e)}const Vh=/[\[\].#$\/\u0000-\u001F\u007F]/,Wh=/[\[\].#$\u0000-\u001F\u007F]/,Bh=10485760,Qh=function(e){return"string"===typeof e&&0!==e.length&&!Vh.test(e)},Kh=function(e){return"string"===typeof e&&0!==e.length&&!Wh.test(e)},Yh=function(e,t,n,r){r&&void 0===t||Gh(Rr(e,"value"),t,n)},Gh=function(e,t,n){const r=n instanceof Au?new Bu(n,e):n;if(void 0===t)throw new Error(e+"contains undefined "+Ku(r));if("function"===typeof t)throw new Error(e+"contains a function "+Ku(r)+" with contents = "+t.toString());if(Kl(t))throw new Error(e+"contains "+t.toString()+" "+Ku(r));if("string"===typeof t&&t.length>Bh/3&&Nr(t)>Bh)throw new Error(e+"contains a string greater than "+Bh+" utf8 bytes "+Ku(r)+" ('"+t.substring(0,50)+"...')");if(t&&"object"===typeof t){let n=!1,i=!1;if(nu(t,((t,o)=>{if(".value"===t)n=!0;else if(".priority"!==t&&".sv"!==t&&(i=!0,!Qh(t)))throw new Error(e+" contains an invalid key ("+t+") "+Ku(r)+'.  Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');!function(e,t){e.parts_.length>0&&(e.byteLength_+=1),e.parts_.push(t),e.byteLength_+=Nr(t),Qu(e)}(r,t),Gh(e,o,r),function(e){const t=e.parts_.pop();e.byteLength_-=Nr(t),e.parts_.length>0&&(e.byteLength_-=1)}(r)})),n&&i)throw new Error(e+' contains ".value" child '+Ku(r)+" in addition to actual children.")}},Jh=function(e,t,n,r){if((!r||void 0!==n)&&!Kh(n))throw new Error(Rr(e,t)+'was an invalid path = "'+n+'". Paths must be non-empty strings and can\'t contain ".", "#", "$", "[", or "]"')},Xh=function(e,t){if(".info"===Lu(t))throw new Error(e+" failed = Can't modify data under /.info/")},Zh=function(e,t){const n=t.path.toString();if("string"!==typeof t.repoInfo.host||0===t.repoInfo.host.length||!Qh(t.repoInfo.namespace)&&"localhost"!==t.repoInfo.host.split(":")[0]||0!==n.length&&!function(e){return e&&(e=e.replace(/^\/*\.info(\/|$)/,"/")),Kh(e)}(n))throw new Error(Rr(e,"url")+'must be a valid firebase URL and the path can\'t contain ".", "#", "$", "[", or "]".')};class ef{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function tf(e,t){let n=null;for(let r=0;r<t.length;r++){const i=t[r],o=i.getPath();null===n||Vu(o,n.path)||(e.eventLists_.push(n),n=null),null===n&&(n={events:[],path:o}),n.events.push(i)}n&&e.eventLists_.push(n)}function nf(e,t,n){tf(e,n),rf(e,(e=>Wu(e,t)||Wu(t,e)))}function rf(e,t){e.recursionDepth_++;let n=!0;for(let r=0;r<e.eventLists_.length;r++){const i=e.eventLists_[r];if(i){t(i.path)?(of(e.eventLists_[r]),e.eventLists_[r]=null):n=!1}}n&&(e.eventLists_=[]),e.recursionDepth_--}function of(e){for(let t=0;t<e.events.length;t++){const n=e.events[t];if(null!==n){e.events[t]=null;const r=n.getEventRunner();zl&&$l("event: "+n.toString()),su(r)}}}const sf="repo_interrupt";class af{constructor(e,t,n,r){this.repoInfo_=e,this.forceRestClient_=t,this.authTokenProvider_=n,this.appCheckProvider_=r,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new ef,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=zc(),this.transactionQueueTree_=new Lh,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function lf(e,t,n){if(e.stats_=wu(e.repoInfo_),e.forceRestClient_||("object"===typeof window&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0)e.server_=new jc(e.repoInfo_,((t,n,r,i)=>{df(e,t,n,r,i)}),e.authTokenProvider_,e.appCheckProvider_),setTimeout((()=>hf(e,!0)),0);else{if("undefined"!==typeof n&&null!==n){if("object"!==typeof n)throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{gr(n)}catch(Mm){throw new Error("Invalid authOverride provided: "+Mm)}}e.persistentConnection_=new Ju(e.repoInfo_,t,((t,n,r,i)=>{df(e,t,n,r,i)}),(t=>{hf(e,t)}),(t=>{!function(e,t){nu(t,((t,n)=>{ff(e,t,n)}))}(e,t)}),e.authTokenProvider_,e.appCheckProvider_,n),e.server_=e.persistentConnection_}e.authTokenProvider_.addTokenChangeListener((t=>{e.server_.refreshAuthToken(t)})),e.appCheckProvider_.addTokenChangeListener((t=>{e.server_.refreshAppCheckToken(t.token)})),e.statsReporter_=function(e,t){const n=e.toString();return bu[n]||(bu[n]=t()),bu[n]}(e.repoInfo_,(()=>new Vc(e.stats_,e.server_))),e.infoData_=new Uc,e.infoSyncTree_=new lh({startListening:(t,n,r,i)=>{let o=[];const s=e.infoData_.getNode(t._path);return s.isEmpty()||(o=dh(e.infoSyncTree_,t._path,s),setTimeout((()=>{i("ok")}),0)),o},stopListening:()=>{}}),ff(e,"connected",!1),e.serverSyncTree_=new lh({startListening:(t,n,r,i)=>(e.server_.listen(t,r,n,((n,r)=>{const o=i(n,r);nf(e.eventQueue_,t._path,o)})),[]),stopListening:(t,n)=>{e.server_.unlisten(t,n)}})}function uf(e){const t=e.infoData_.getNode(new Au(".info/serverTimeOffset")).val()||0;return(new Date).getTime()+t}function cf(e){return(t=(t={timestamp:uf(e)})||{}).timestamp=t.timestamp||(new Date).getTime(),t;var t}function df(e,t,n,r,i){e.dataUpdateCount++;const o=new Au(t);n=e.interceptServerDataCallback_?e.interceptServerDataCallback_(t,n):n;let s=[];if(i)if(r){const t=wr(n,(e=>Ec(e)));s=function(e,t,n,r){const i=kh(e,r);if(i){const r=Ch(i),o=r.path,s=r.queryId,a=$u(o,t),l=sd.fromObject(n);return Eh(e,o,new Gc(Bc(s),a,l))}return[]}(e.serverSyncTree_,o,t,i)}else{const t=Ec(n);s=fh(e.serverSyncTree_,o,t,i)}else if(r){const t=wr(n,(e=>Ec(e)));s=function(e,t,n){const r=sd.fromObject(n);return vh(e,new Gc({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t,r))}(e.serverSyncTree_,o,t)}else{const t=Ec(n);s=dh(e.serverSyncTree_,o,t)}let a=o;s.length>0&&(a=wf(e,o)),nf(e.eventQueue_,a,s)}function hf(e,t){ff(e,"connected",t),!1===t&&function(e){vf(e,"onDisconnectEvents");const t=cf(e),n=zc();Hc(e.onDisconnect_,Du(),((r,i)=>{const o=Oh(r,i,e.serverSyncTree_,t);qc(n,r,o)}));let r=[];Hc(n,Du(),((t,n)=>{r=r.concat(dh(e.serverSyncTree_,t,n));const i=Tf(e,t);wf(e,i)})),e.onDisconnect_=zc(),nf(e.eventQueue_,Du(),r)}(e)}function ff(e,t,n){const r=new Au("/.info/"+t),i=Ec(n);e.infoData_.updateSnapshot(r,i);const o=dh(e.infoSyncTree_,r,i);nf(e.eventQueue_,r,o)}function pf(e){return e.nextWriteId_++}function mf(e,t,n,r,i){vf(e,"set",{path:t.toString(),value:n,priority:r});const o=cf(e),s=Ec(n,r),a=mh(e.serverSyncTree_,t),l=Ah(s,a,o),u=pf(e),c=uh(e.serverSyncTree_,t,l,u,!0);tf(e.eventQueue_,c),e.server_.put(t.toString(),s.val(!0),((n,r)=>{const o="ok"===n;o||Ql("set at "+t+" failed: "+n);const s=ch(e.serverSyncTree_,u,!o);nf(e.eventQueue_,t,s),yf(e,i,n,r)}));const d=Tf(e,t);wf(e,d),nf(e.eventQueue_,d,[])}function gf(e){e.persistentConnection_&&e.persistentConnection_.interrupt(sf)}function vf(e){let t="";e.persistentConnection_&&(t=e.persistentConnection_.id+":");for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];$l(t,...r)}function yf(e,t,n,r){t&&su((()=>{if("ok"===n)t(null);else{const e=(n||"error").toUpperCase();let i=e;r&&(i+=": "+r);const o=new Error(i);o.code=e,t(o)}}))}function _f(e,t,n){return mh(e.serverSyncTree_,t,n)||kc.EMPTY_NODE}function bf(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.transactionQueueTree_;if(t||Ef(e,t),Fh(t)){const n=kf(e,t);Bn(n.length>0,"Sending zero length transaction queue");n.every((e=>0===e.status))&&function(e,t,n){const r=n.map((e=>e.currentWriteId)),i=_f(e,t,r);let o=i;const s=i.hash();for(let u=0;u<n.length;u++){const e=n[u];Bn(0===e.status,"tryToSendTransactionQueue_: items in queue should all be run."),e.status=1,e.retryCount++;const r=$u(t,e.path);o=o.updateChild(r,e.currentOutputSnapshotRaw)}const a=o.val(!0),l=t;e.server_.put(l.toString(),a,(r=>{vf(e,"transaction put response",{path:l.toString(),status:r});let i=[];if("ok"===r){const r=[];for(let t=0;t<n.length;t++)n[t].status=2,i=i.concat(ch(e.serverSyncTree_,n[t].currentWriteId)),n[t].onComplete&&r.push((()=>n[t].onComplete(null,!0,n[t].currentOutputSnapshotResolved))),n[t].unwatcher();Ef(e,Mh(e.transactionQueueTree_,t)),bf(e,e.transactionQueueTree_),nf(e.eventQueue_,t,i);for(let e=0;e<r.length;e++)su(r[e])}else{if("datastale"===r)for(let e=0;e<n.length;e++)3===n[e].status?n[e].status=4:n[e].status=0;else{Ql("transaction at "+l.toString()+" failed: "+r);for(let e=0;e<n.length;e++)n[e].status=4,n[e].abortReason=r}wf(e,t)}}),s)}(e,Hh(t),n)}else Uh(t)&&zh(t,(t=>{bf(e,t)}))}function wf(e,t){const n=Sf(e,t),r=Hh(n);return function(e,t,n){if(0===t.length)return;const r=[];let i=[];const o=t.filter((e=>0===e.status)),s=o.map((e=>e.currentWriteId));for(let l=0;l<t.length;l++){const o=t[l],u=$u(n,o.path);let c,d=!1;if(Bn(null!==u,"rerunTransactionsUnderNode_: relativePath should not be null."),4===o.status)d=!0,c=o.abortReason,i=i.concat(ch(e.serverSyncTree_,o.currentWriteId,!0));else if(0===o.status)if(o.retryCount>=25)d=!0,c="maxretry",i=i.concat(ch(e.serverSyncTree_,o.currentWriteId,!0));else{const n=_f(e,o.path,s);o.currentInputSnapshot=n;const r=t[l].update(n.val());if(void 0!==r){Gh("transaction failed: Data returned ",r,o.path);let t=Ec(r);"object"===typeof r&&null!=r&&yr(r,".priority")||(t=t.updatePriority(n.getPriority()));const a=o.currentWriteId,l=cf(e),u=Ah(t,n,l);o.currentOutputSnapshotRaw=t,o.currentOutputSnapshotResolved=u,o.currentWriteId=pf(e),s.splice(s.indexOf(a),1),i=i.concat(uh(e.serverSyncTree_,o.path,u,o.currentWriteId,o.applyLocally)),i=i.concat(ch(e.serverSyncTree_,a,!0))}else d=!0,c="nodata",i=i.concat(ch(e.serverSyncTree_,o.currentWriteId,!0))}nf(e.eventQueue_,n,i),i=[],d&&(t[l].status=2,a=t[l].unwatcher,setTimeout(a,Math.floor(0)),t[l].onComplete&&("nodata"===c?r.push((()=>t[l].onComplete(null,!1,t[l].currentInputSnapshot))):r.push((()=>t[l].onComplete(new Error(c),!1,null)))))}var a;Ef(e,e.transactionQueueTree_);for(let l=0;l<r.length;l++)su(r[l]);bf(e,e.transactionQueueTree_)}(e,kf(e,n),r),r}function Sf(e,t){let n,r=e.transactionQueueTree_;for(n=Lu(t);null!==n&&void 0===Fh(r);)r=Mh(r,n),n=Lu(t=Fu(t));return r}function kf(e,t){const n=[];return Cf(e,t,n),n.sort(((e,t)=>e.order-t.order)),n}function Cf(e,t,n){const r=Fh(t);if(r)for(let i=0;i<r.length;i++)n.push(r[i]);zh(t,(t=>{Cf(e,t,n)}))}function Ef(e,t){const n=Fh(t);if(n){let e=0;for(let t=0;t<n.length;t++)2!==n[t].status&&(n[e]=n[t],e++);n.length=e,jh(t,n.length>0?n:void 0)}zh(t,(t=>{Ef(e,t)}))}function Tf(e,t){const n=Hh(Sf(e,t)),r=Mh(e.transactionQueueTree_,t);return function(e,t,n){let r=n?e:e.parent;for(;null!==r;){if(t(r))return!0;r=r.parent}}(r,(t=>{If(e,t)})),If(e,r),qh(r,(t=>{If(e,t)})),n}function If(e,t){const n=Fh(t);if(n){const r=[];let i=[],o=-1;for(let t=0;t<n.length;t++)3===n[t].status||(1===n[t].status?(Bn(o===t-1,"All SENT items should be at beginning of queue."),o=t,n[t].status=3,n[t].abortReason="set"):(Bn(0===n[t].status,"Unexpected transaction status in abort"),n[t].unwatcher(),i=i.concat(ch(e.serverSyncTree_,n[t].currentWriteId,!0)),n[t].onComplete&&r.push(n[t].onComplete.bind(null,new Error("set"),!1,null))));-1===o?jh(t,void 0):n.length=o+1,nf(e.eventQueue_,Hh(t),i);for(let e=0;e<r.length;e++)su(r[e])}}const xf=function(e,t){const n=Pf(e),r=n.namespace;"firebase.com"===n.domain&&Bl(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),r&&"undefined"!==r||"localhost"===n.domain||Bl("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||"undefined"!==typeof window&&window.location&&window.location.protocol&&-1!==window.location.protocol.indexOf("https:")&&Ql("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().");const i="ws"===n.scheme||"wss"===n.scheme;return{repoInfo:new gu(n.host,n.secure,r,i,t,"",r!==n.subdomain),path:new Au(n.pathString)}},Pf=function(e){let t="",n="",r="",i="",o="",s=!0,a="https",l=443;if("string"===typeof e){let u=e.indexOf("//");u>=0&&(a=e.substring(0,u-1),e=e.substring(u+2));let c=e.indexOf("/");-1===c&&(c=e.length);let d=e.indexOf("?");-1===d&&(d=e.length),t=e.substring(0,Math.min(c,d)),c<d&&(i=function(e){let t="";const n=e.split("/");for(let r=0;r<n.length;r++)if(n[r].length>0){let e=n[r];try{e=decodeURIComponent(e.replace(/\+/g," "))}catch(Mm){}t+="/"+e}return t}(e.substring(c,d)));const h=function(e){const t={};"?"===e.charAt(0)&&(e=e.substring(1));for(const n of e.split("&")){if(0===n.length)continue;const r=n.split("=");2===r.length?t[decodeURIComponent(r[0])]=decodeURIComponent(r[1]):Ql(`Invalid query segment '${n}' in query '${e}'`)}return t}(e.substring(Math.min(e.length,d)));u=t.indexOf(":"),u>=0?(s="https"===a||"wss"===a,l=parseInt(t.substring(u+1),10)):u=t.length;const f=t.slice(0,u);if("localhost"===f.toLowerCase())n="localhost";else if(f.split(".").length<=2)n=f;else{const e=t.indexOf(".");r=t.substring(0,e).toLowerCase(),n=t.substring(e+1),o=r}"ns"in h&&(o=h.ns)}return{host:t,port:l,domain:n,subdomain:r,secure:s,scheme:a,pathString:i,namespace:o}},Rf="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz";!function(){let e=0;const t=[]}();class Nf{constructor(e,t,n,r){this.eventType=e,this.eventRegistration=t,this.snapshot=n,this.prevName=r}getPath(){const e=this.snapshot.ref;return"value"===this.eventType?e._path:e.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+gr(this.snapshot.exportVal())}}class Of{constructor(e,t,n){this.eventRegistration=e,this.error=t,this.path=n}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}class Af{constructor(e,t){this.snapshotCallback=e,this.cancelCallback=t}onValue(e,t){this.snapshotCallback.call(null,e,t)}onCancel(e){return Bn(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,e)}get hasCancelCallback(){return!!this.cancelCallback}matches(e){return this.snapshotCallback===e.snapshotCallback||void 0!==this.snapshotCallback.userCallback&&this.snapshotCallback.userCallback===e.snapshotCallback.userCallback&&this.snapshotCallback.context===e.snapshotCallback.context}}class Df{constructor(e,t,n,r){this._repo=e,this._path=t,this._queryParams=n,this._orderByCalled=r}get key(){return Hu(this._path)?null:ju(this._path)}get ref(){return new Lf(this._repo,this._path)}get _queryIdentifier(){const e=Fc(this._queryParams),t=eu(e);return"{}"===t?"default":t}get _queryObject(){return Fc(this._queryParams)}isEqual(e){if(!((e=Or(e))instanceof Df))return!1;const t=this._repo===e._repo,n=Vu(this._path,e._path),r=this._queryIdentifier===e._queryIdentifier;return t&&n&&r}toJSON(){return this.toString()}toString(){return this._repo.toString()+function(e){let t="";for(let n=e.pieceNum_;n<e.pieces_.length;n++)""!==e.pieces_[n]&&(t+="/"+encodeURIComponent(String(e.pieces_[n])));return t||"/"}(this._path)}}class Lf extends Df{constructor(e,t){super(e,t,new Lc,!1)}get parent(){const e=zu(this._path);return null===e?null:new Lf(this._repo,e)}get root(){let e=this;for(;null!==e.parent;)e=e.parent;return e}}class Mf{constructor(e,t,n){this._node=e,this.ref=t,this._index=n}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(e){const t=new Au(e),n=jf(this.ref,e);return new Mf(this._node.getChild(t),n,mc)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(e){if(this._node.isLeafNode())return!1;return!!this._node.forEachChild(this._index,((t,n)=>e(new Mf(n,jf(this.ref,t),mc))))}hasChild(e){const t=new Au(e);return!this._node.getChild(t).isEmpty()}hasChildren(){return!this._node.isLeafNode()&&!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function Ff(e,t){return(e=Or(e))._checkNotDeleted("ref"),void 0!==t?jf(e._root,t):e._root}function jf(e,t){var n,r,i,o;return null===Lu((e=Or(e))._path)?(n="child",r="path",o=!1,(i=t)&&(i=i.replace(/^\/*\.info(\/|$)/,"/")),Jh(n,r,i,o)):Jh("child","path",t,!1),new Lf(e._repo,qu(e._path,t))}function Uf(e,t){e=Or(e),Xh("set",e._path),Yh("set",t,e._path,!1);const n=new ar;return mf(e._repo,e._path,t,null,n.wrapCallback((()=>{}))),n.promise}function zf(e){e=Or(e);const t=new Af((()=>{})),n=new qf(t);return function(e,t,n){const r=gh(e.serverSyncTree_,t);return null!=r?Promise.resolve(r):e.server_.get(t).then((r=>{const i=Ec(r).withIndex(t._queryParams.getIndex());let o;if(ph(e.serverSyncTree_,t,n,!0),t._queryParams.loadsAllData())o=dh(e.serverSyncTree_,t._path,i);else{const n=wh(e.serverSyncTree_,t);o=fh(e.serverSyncTree_,t._path,i,n)}return nf(e.eventQueue_,t._path,o),hh(e.serverSyncTree_,t,n,null,!0),i}),(n=>(vf(e,"get for query "+gr(t)+" failed: "+n),Promise.reject(new Error(n)))))}(e._repo,e,n).then((t=>new Mf(t,new Lf(e._repo,e._path),e._queryParams.getIndex())))}class qf{constructor(e){this.callbackContext=e}respondsTo(e){return"value"===e}createEvent(e,t){const n=t._queryParams.getIndex();return new Nf("value",this,new Mf(e.snapshotNode,new Lf(t._repo,t._path),n))}getEventRunner(e){return"cancel"===e.getEventType()?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,null)}createCancelEvent(e,t){return this.callbackContext.hasCancelCallback?new Of(this,e,t):null}matches(e){return e instanceof qf&&(!e.callbackContext||!this.callbackContext||e.callbackContext.matches(this.callbackContext))}hasAnyCallback(){return null!==this.callbackContext}}!function(e){Bn(!Kd,"__referenceConstructor has already been defined"),Kd=e}(Lf),function(e){Bn(!Yd,"__referenceConstructor has already been defined"),Yd=e}(Lf);const Hf={};let $f=!1;function Vf(e,t,n,r,i){let o=r||e.options.databaseURL;void 0===o&&(e.options.projectId||Bl("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),$l("Using default host for project ",e.options.projectId),o=`${e.options.projectId}-default-rtdb.firebaseio.com`);let s,a,l=xf(o,i),u=l.repoInfo;"undefined"!==typeof process&&(a={NODE_ENV:"production",PUBLIC_URL:"/music_archive",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_CLOUDNARY_PRESET:"ml_default",REACT_APP_CLOUDNARY_URL:"https://api.cloudinary.com/v1_1/dlgctkdxf/image/upload",REACT_APP_FIREBASE_API_KEY:"AIzaSyDmYN-hU-QjLp-kjUMGlH3KQtBqUfp3t5g",REACT_APP_FIREBASE_AUTH_DOMAIN:"musicarchive-cb448.firebaseapp.com",REACT_APP_FIREBASE_DB_URL:"https://musicarchive-cb448-default-rtdb.asia-southeast1.firebasedatabase.app",REACT_APP_FIREBASE_PROJECT_ID:"musicarchive-cb448"}.FIREBASE_DATABASE_EMULATOR_HOST),a?(s=!0,o=`http://${a}?ns=${u.namespace}`,l=xf(o,i),u=l.repoInfo):s=!l.repoInfo.secure;const c=i&&s?new cu(cu.OWNER):new uu(e.name,e.options,t);Zh("Invalid Firebase Database URL",l),Hu(l.path)||Bl("Database URL must point to the root of a Firebase Database (not including a child path).");const d=function(e,t,n,r){let i=Hf[t.name];i||(i={},Hf[t.name]=i);let o=i[e.toURLString()];o&&Bl("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call.");return o=new af(e,$f,n,r),i[e.toURLString()]=o,o}(u,e,c,new lu(e,n));return new Wf(d,e)}class Wf{constructor(e,t){this._repoInternal=e,this.app=t,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(lf(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new Lf(this._repo,Du())),this._rootInternal}_delete(){return null!==this._rootInternal&&(!function(e,t){const n=Hf[t];n&&n[e.key]===e||Bl(`Database ${t}(${e.repoInfo_}) has already been deleted.`),gf(e),delete n[e.key]}(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(e){null===this._rootInternal&&Bl("Cannot call "+e+" on a deleted database.")}}Ju.prototype.simpleListen=function(e,t){this.sendRequest("q",{p:e},t)},Ju.prototype.echo=function(e,t){this.sendRequest("echo",{d:e},t)};!function(e){Rl(Qi),Hi(new Ar("database",((e,t)=>{let{instanceIdentifier:n}=t;return Vf(e.getProvider("app").getImmediate(),e.getProvider("auth-internal"),e.getProvider("app-check-internal"),n)}),"PUBLIC").setMultipleInstances(!0)),Gi(Il,xl,e),Gi(Il,xl,"esm2017")}();Gi("firebase","11.4.0","app");const Bf=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Yi(),t=arguments.length>1?arguments[1]:void 0;const n=$i(e,"database").getImmediate({identifier:t});if(!n._instanceStarted){const e=(e=>{const t=ir(e);if(!t)return;const n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const r=parseInt(t.substring(n+1),10);return"["===t[0]?[t.substring(1,n-1),r]:[t.substring(0,n),r]})("database");e&&function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};e=Or(e),e._checkNotDeleted("useEmulator");const i=`${t}:${n}`,o=e._repoInternal;if(e._instanceStarted){if(i===e._repoInternal.repoInfo_.host&&Sr(r,o.repoInfo_.emulatorOptions))return;Bl("connectDatabaseEmulator() cannot initialize or alter the emulator configuration after the database instance has started.")}let s;if(o.repoInfo_.nodeAdmin)r.mockUserToken&&Bl('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),s=new cu(cu.OWNER);else if(r.mockUserToken){const t="string"===typeof r.mockUserToken?r.mockUserToken:function(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n=t||"demo-project",r=e.iat||0,i=e.sub||e.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${n}`,aud:n,iat:r,exp:r+3600,auth_time:r,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},e);return[Xn(JSON.stringify({alg:"none",type:"JWT"})),Xn(JSON.stringify(o)),""].join(".")}(r.mockUserToken,e.app.options.projectId);s=new cu(t)}!function(e,t,n,r){e.repoInfo_=new gu(t,!1,e.repoInfo_.namespace,e.repoInfo_.webSocketOnly,e.repoInfo_.nodeAdmin,e.repoInfo_.persistenceKey,e.repoInfo_.includeNamespaceInQueryParams,!0,n),r&&(e.authTokenProvider_=r)}(o,i,r,s)}(n,...e)}return n}(Ki({apiKey:"AIzaSyDmYN-hU-QjLp-kjUMGlH3KQtBqUfp3t5g",authDomain:"musicarchive-cb448.firebaseapp.com",databaseURL:"https://musicarchive-cb448-default-rtdb.asia-southeast1.firebasedatabase.app",projectId:"musicarchive-cb448"})),Qf=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Yi();const t=$i(e,"auth");if(t.isInitialized())return t.getImmediate();const n=function(e,t){const n=$i(e,"auth");if(n.isInitialized()){const e=n.getImmediate();if(Sr(n.getOptions(),null!==t&&void 0!==t?t:{}))return e;po(e,"already-initialized")}return n.initialize({options:t})}(e,{popupRedirectResolver:_l,persistence:[Pa,ha,pa]}),r=sr("authTokenSyncURL");if(r&&"boolean"===typeof isSecureContext&&isSecureContext){const e=new URL(r,location.origin);if(location.origin===e.origin){const t=(i=e.toString(),async e=>{const t=e&&await e.getIdTokenResult(),n=t&&((new Date).getTime()-Date.parse(t.issuedAtTime))/1e3;if(n&&n>kl)return;const r=null===t||void 0===t?void 0:t.token;Cl!==r&&(Cl=r,await fetch(i,{method:r?"POST":"DELETE",headers:r?{Authorization:`Bearer ${r}`}:{}}))});!function(e,t,n){Or(e).beforeAuthStateChanged(t,n)}(n,t,(()=>t(n.currentUser))),function(e,t,n,r){Or(e).onIdTokenChanged(t,n,r)}(n,(e=>t(e)))}}var i;const o=ir("auth");return o&&Ls(n,`http://${o}`),n}(),Kf=new Xs;async function Yf(){return zf(Ff(Bf,"products")).then((e=>e.exists()?Object.values(e.val()):[]))}async function Gf(e,t){return function(e){return Xh("remove",e._path),Uf(e,null)}(Ff(Bf,`carts/${e}/${t}`))}function Jf(){(async function(e,t,n){if(Vi(e.app))return Promise.reject(mo(e,"operation-not-supported-in-this-environment"));const r=ks(e);yo(e,t,Ys);const i=La(r,n);return new Ha(r,"signInViaPopup",t,i).executeNotNull()})(Qf,Kf).catch(console.error)}function Xf(){(function(e){return Or(e).signOut()})(Qf).catch(console.error)}function Zf(e){!function(e,t,n,r){Or(e).onAuthStateChanged(t,n,r)}(Qf,(async t=>{const n=t?await async function(e){return zf(Ff(Bf,"admins")).then((t=>{if(t.exists()){const n=t.val().includes(e.uid);return{...e,isAdmin:n}}return e}))}(t):null;e(n)}))}const ep=(0,r.createContext)();function tp(e){let{children:t}=e;const[n,i]=(0,r.useState)();return(0,r.useEffect)((()=>{Zf((e=>{console.log(e),i(e)}))}),[]),(0,Dn.jsx)(ep.Provider,{value:{user:n,uid:n&&n.uid,login:Jf,logout:Xf},children:t})}function np(){return(0,r.useContext)(ep)}var rp=r.createContext(void 0),ip=e=>{const t=r.useContext(rp);if(e)return e;if(!t)throw new Error("No QueryClient set, use QueryClientProvider to set one");return t},op=e=>{let{client:t,children:n}=e;return r.useEffect((()=>(t.mount(),()=>{t.unmount()})),[t]),(0,Dn.jsx)(rp.Provider,{value:t,children:n})},sp=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},ap="undefined"===typeof window||"Deno"in globalThis;function lp(){}function up(e){return"number"===typeof e&&e>=0&&e!==1/0}function cp(e,t){return Math.max(e+(t||0)-Date.now(),0)}function dp(e,t){return"function"===typeof e?e(t):e}function hp(e,t){return"function"===typeof e?e(t):e}function fp(e,t){const{type:n="all",exact:r,fetchStatus:i,predicate:o,queryKey:s,stale:a}=e;if(s)if(r){if(t.queryHash!==mp(s,t.options))return!1}else if(!vp(t.queryKey,s))return!1;if("all"!==n){const e=t.isActive();if("active"===n&&!e)return!1;if("inactive"===n&&e)return!1}return("boolean"!==typeof a||t.isStale()===a)&&((!i||i===t.state.fetchStatus)&&!(o&&!o(t)))}function pp(e,t){const{exact:n,status:r,predicate:i,mutationKey:o}=e;if(o){if(!t.options.mutationKey)return!1;if(n){if(gp(t.options.mutationKey)!==gp(o))return!1}else if(!vp(t.options.mutationKey,o))return!1}return(!r||t.state.status===r)&&!(i&&!i(t))}function mp(e,t){return(t?.queryKeyHashFn||gp)(e)}function gp(e){return JSON.stringify(e,((e,t)=>wp(t)?Object.keys(t).sort().reduce(((e,n)=>(e[n]=t[n],e)),{}):t))}function vp(e,t){return e===t||typeof e===typeof t&&(!(!e||!t||"object"!==typeof e||"object"!==typeof t)&&!Object.keys(t).some((n=>!vp(e[n],t[n]))))}function yp(e,t){if(e===t)return e;const n=bp(e)&&bp(t);if(n||wp(e)&&wp(t)){const r=n?e:Object.keys(e),i=r.length,o=n?t:Object.keys(t),s=o.length,a=n?[]:{};let l=0;for(let u=0;u<s;u++){const i=n?u:o[u];(!n&&r.includes(i)||n)&&void 0===e[i]&&void 0===t[i]?(a[i]=void 0,l++):(a[i]=yp(e[i],t[i]),a[i]===e[i]&&void 0!==e[i]&&l++)}return i===s&&l===i?e:a}return t}function _p(e,t){if(!t||Object.keys(e).length!==Object.keys(t).length)return!1;for(const n in e)if(e[n]!==t[n])return!1;return!0}function bp(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function wp(e){if(!Sp(e))return!1;const t=e.constructor;if(void 0===t)return!0;const n=t.prototype;return!!Sp(n)&&(!!n.hasOwnProperty("isPrototypeOf")&&Object.getPrototypeOf(e)===Object.prototype)}function Sp(e){return"[object Object]"===Object.prototype.toString.call(e)}function kp(e,t,n){return"function"===typeof n.structuralSharing?n.structuralSharing(e,t):!1!==n.structuralSharing?yp(e,t):t}function Cp(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;const r=[...e,t];return n&&r.length>n?r.slice(1):r}function Ep(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;const r=[t,...e];return n&&r.length>n?r.slice(0,-1):r}var Tp=Symbol();function Ip(e,t){return!e.queryFn&&t?.initialPromise?()=>t.initialPromise:e.queryFn&&e.queryFn!==Tp?e.queryFn:()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`))}var xp=new class extends sp{#e;#t;#n;constructor(){super(),this.#n=e=>{if(!ap&&window.addEventListener){const t=()=>e();return window.addEventListener("visibilitychange",t,!1),()=>{window.removeEventListener("visibilitychange",t)}}}}onSubscribe(){this.#t||this.setEventListener(this.#n)}onUnsubscribe(){this.hasListeners()||(this.#t?.(),this.#t=void 0)}setEventListener(e){this.#n=e,this.#t?.(),this.#t=e((e=>{"boolean"===typeof e?this.setFocused(e):this.onFocus()}))}setFocused(e){this.#e!==e&&(this.#e=e,this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach((t=>{t(e)}))}isFocused(){return"boolean"===typeof this.#e?this.#e:"hidden"!==globalThis.document?.visibilityState}},Pp=e=>setTimeout(e,0);var Rp=function(){let e=[],t=0,n=e=>{e()},r=e=>{e()},i=Pp;const o=r=>{t?e.push(r):i((()=>{n(r)}))};return{batch:o=>{let s;t++;try{s=o()}finally{t--,t||(()=>{const t=e;e=[],t.length&&i((()=>{r((()=>{t.forEach((e=>{n(e)}))}))}))})()}return s},batchCalls:e=>function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];o((()=>{e(...n)}))},schedule:o,setNotifyFunction:e=>{n=e},setBatchNotifyFunction:e=>{r=e},setScheduler:e=>{i=e}}}(),Np=new class extends sp{#r=!0;#t;#n;constructor(){super(),this.#n=e=>{if(!ap&&window.addEventListener){const t=()=>e(!0),n=()=>e(!1);return window.addEventListener("online",t,!1),window.addEventListener("offline",n,!1),()=>{window.removeEventListener("online",t),window.removeEventListener("offline",n)}}}}onSubscribe(){this.#t||this.setEventListener(this.#n)}onUnsubscribe(){this.hasListeners()||(this.#t?.(),this.#t=void 0)}setEventListener(e){this.#n=e,this.#t?.(),this.#t=e(this.setOnline.bind(this))}setOnline(e){this.#r!==e&&(this.#r=e,this.listeners.forEach((t=>{t(e)})))}isOnline(){return this.#r}};function Op(){let e,t;const n=new Promise(((n,r)=>{e=n,t=r}));function r(e){Object.assign(n,e),delete n.resolve,delete n.reject}return n.status="pending",n.catch((()=>{})),n.resolve=t=>{r({status:"fulfilled",value:t}),e(t)},n.reject=e=>{r({status:"rejected",reason:e}),t(e)},n}function Ap(e){return Math.min(1e3*2**e,3e4)}function Dp(e){return"online"!==(e??"online")||Np.isOnline()}var Lp=class extends Error{constructor(e){super("CancelledError"),this.revert=e?.revert,this.silent=e?.silent}};function Mp(e){return e instanceof Lp}function Fp(e){let t,n=!1,r=0,i=!1;const o=Op(),s=()=>xp.isFocused()&&("always"===e.networkMode||Np.isOnline())&&e.canRun(),a=()=>Dp(e.networkMode)&&e.canRun(),l=n=>{i||(i=!0,e.onSuccess?.(n),t?.(),o.resolve(n))},u=n=>{i||(i=!0,e.onError?.(n),t?.(),o.reject(n))},c=()=>new Promise((n=>{t=e=>{(i||s())&&n(e)},e.onPause?.()})).then((()=>{t=void 0,i||e.onContinue?.()})),d=()=>{if(i)return;let t;const o=0===r?e.initialPromise:void 0;try{t=o??e.fn()}catch(Wl){t=Promise.reject(Wl)}Promise.resolve(t).then(l).catch((t=>{if(i)return;const o=e.retry??(ap?0:3),a=e.retryDelay??Ap,l="function"===typeof a?a(r,t):a,h=!0===o||"number"===typeof o&&r<o||"function"===typeof o&&o(r,t);var f;!n&&h?(r++,e.onFail?.(r,t),(f=l,new Promise((e=>{setTimeout(e,f)}))).then((()=>s()?void 0:c())).then((()=>{n?u(t):d()}))):u(t)}))};return{promise:o,cancel:t=>{i||(u(new Lp(t)),e.abort?.())},continue:()=>(t?.(),o),cancelRetry:()=>{n=!0},continueRetry:()=>{n=!1},canStart:a,start:()=>(a()?d():c().then(d),o)}}var jp=class{#i;destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),up(this.gcTime)&&(this.#i=setTimeout((()=>{this.optionalRemove()}),this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(ap?1/0:3e5))}clearGcTimeout(){this.#i&&(clearTimeout(this.#i),this.#i=void 0)}},Up=class extends jp{#o;#s;#a;#l;#u;#c;#d;constructor(e){super(),this.#d=!1,this.#c=e.defaultOptions,this.setOptions(e.options),this.observers=[],this.#l=e.client,this.#a=this.#l.getQueryCache(),this.queryKey=e.queryKey,this.queryHash=e.queryHash,this.#o=function(e){const t="function"===typeof e.initialData?e.initialData():e.initialData,n=void 0!==t,r=n?"function"===typeof e.initialDataUpdatedAt?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:n?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}(this.options),this.state=e.state??this.#o,this.scheduleGc()}get meta(){return this.options.meta}get promise(){return this.#u?.promise}setOptions(e){this.options={...this.#c,...e},this.updateGcTime(this.options.gcTime)}optionalRemove(){this.observers.length||"idle"!==this.state.fetchStatus||this.#a.remove(this)}setData(e,t){const n=kp(this.state.data,e,this.options);return this.#h({data:n,type:"success",dataUpdatedAt:t?.updatedAt,manual:t?.manual}),n}setState(e,t){this.#h({type:"setState",state:e,setStateOptions:t})}cancel(e){const t=this.#u?.promise;return this.#u?.cancel(e),t?t.then(lp).catch(lp):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(this.#o)}isActive(){return this.observers.some((e=>!1!==hp(e.options.enabled,this)))}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===Tp||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStale(){return!!this.state.isInvalidated||(this.getObserversCount()>0?this.observers.some((e=>e.getCurrentResult().isStale)):void 0===this.state.data)}isStaleByTime(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return this.state.isInvalidated||void 0===this.state.data||!cp(this.state.dataUpdatedAt,e)}onFocus(){const e=this.observers.find((e=>e.shouldFetchOnWindowFocus()));e?.refetch({cancelRefetch:!1}),this.#u?.continue()}onOnline(){const e=this.observers.find((e=>e.shouldFetchOnReconnect()));e?.refetch({cancelRefetch:!1}),this.#u?.continue()}addObserver(e){this.observers.includes(e)||(this.observers.push(e),this.clearGcTimeout(),this.#a.notify({type:"observerAdded",query:this,observer:e}))}removeObserver(e){this.observers.includes(e)&&(this.observers=this.observers.filter((t=>t!==e)),this.observers.length||(this.#u&&(this.#d?this.#u.cancel({revert:!0}):this.#u.cancelRetry()),this.scheduleGc()),this.#a.notify({type:"observerRemoved",query:this,observer:e}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||this.#h({type:"invalidate"})}fetch(e,t){if("idle"!==this.state.fetchStatus)if(void 0!==this.state.data&&t?.cancelRefetch)this.cancel({silent:!0});else if(this.#u)return this.#u.continueRetry(),this.#u.promise;if(e&&this.setOptions(e),!this.options.queryFn){const e=this.observers.find((e=>e.options.queryFn));e&&this.setOptions(e.options)}const n=new AbortController,r=e=>{Object.defineProperty(e,"signal",{enumerable:!0,get:()=>(this.#d=!0,n.signal)})},i={fetchOptions:t,options:this.options,queryKey:this.queryKey,client:this.#l,state:this.state,fetchFn:()=>{const e=Ip(this.options,t),n={client:this.#l,queryKey:this.queryKey,meta:this.meta};return r(n),this.#d=!1,this.options.persister?this.options.persister(e,n,this):e(n)}};r(i),this.options.behavior?.onFetch(i,this),this.#s=this.state,"idle"!==this.state.fetchStatus&&this.state.fetchMeta===i.fetchOptions?.meta||this.#h({type:"fetch",meta:i.fetchOptions?.meta});const o=e=>{Mp(e)&&e.silent||this.#h({type:"error",error:e}),Mp(e)||(this.#a.config.onError?.(e,this),this.#a.config.onSettled?.(this.state.data,e,this)),this.scheduleGc()};return this.#u=Fp({initialPromise:t?.initialPromise,fn:i.fetchFn,abort:n.abort.bind(n),onSuccess:e=>{if(void 0!==e){try{this.setData(e)}catch(Wl){return void o(Wl)}this.#a.config.onSuccess?.(e,this),this.#a.config.onSettled?.(e,this.state.error,this),this.scheduleGc()}else o(new Error(`${this.queryHash} data is undefined`))},onError:o,onFail:(e,t)=>{this.#h({type:"failed",failureCount:e,error:t})},onPause:()=>{this.#h({type:"pause"})},onContinue:()=>{this.#h({type:"continue"})},retry:i.options.retry,retryDelay:i.options.retryDelay,networkMode:i.options.networkMode,canRun:()=>!0}),this.#u.start()}#h(e){this.state=(t=>{switch(e.type){case"failed":return{...t,fetchFailureCount:e.failureCount,fetchFailureReason:e.error};case"pause":return{...t,fetchStatus:"paused"};case"continue":return{...t,fetchStatus:"fetching"};case"fetch":return{...t,...zp(t.data,this.options),fetchMeta:e.meta??null};case"success":return{...t,data:e.data,dataUpdateCount:t.dataUpdateCount+1,dataUpdatedAt:e.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!e.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const n=e.error;return Mp(n)&&n.revert&&this.#s?{...this.#s,fetchStatus:"idle"}:{...t,error:n,errorUpdateCount:t.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:t.fetchFailureCount+1,fetchFailureReason:n,fetchStatus:"idle",status:"error"};case"invalidate":return{...t,isInvalidated:!0};case"setState":return{...t,...e.state}}})(this.state),Rp.batch((()=>{this.observers.forEach((e=>{e.onQueryUpdate()})),this.#a.notify({query:this,type:"updated",action:e})}))}};function zp(e,t){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:Dp(t.networkMode)?"fetching":"paused",...void 0===e&&{error:null,status:"pending"}}}var qp=class extends sp{constructor(e,t){super(),this.options=t,this.#l=e,this.#f=null,this.#p=Op(),this.options.experimental_prefetchInRender||this.#p.reject(new Error("experimental_prefetchInRender feature flag is not enabled")),this.bindMethods(),this.setOptions(t)}#l;#m=void 0;#g=void 0;#v=void 0;#y;#_;#p;#f;#b;#w;#S;#k;#C;#E;#T=(()=>new Set)();bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){1===this.listeners.size&&(this.#m.addObserver(this),Hp(this.#m,this.options)?this.#I():this.updateResult(),this.#x())}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return $p(this.#m,this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return $p(this.#m,this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,this.#P(),this.#R(),this.#m.removeObserver(this)}setOptions(e){const t=this.options,n=this.#m;if(this.options=this.#l.defaultQueryOptions(e),void 0!==this.options.enabled&&"boolean"!==typeof this.options.enabled&&"function"!==typeof this.options.enabled&&"boolean"!==typeof hp(this.options.enabled,this.#m))throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");this.#N(),this.#m.setOptions(this.options),t._defaulted&&!_p(this.options,t)&&this.#l.getQueryCache().notify({type:"observerOptionsUpdated",query:this.#m,observer:this});const r=this.hasListeners();r&&Vp(this.#m,n,this.options,t)&&this.#I(),this.updateResult(),!r||this.#m===n&&hp(this.options.enabled,this.#m)===hp(t.enabled,this.#m)&&dp(this.options.staleTime,this.#m)===dp(t.staleTime,this.#m)||this.#O();const i=this.#A();!r||this.#m===n&&hp(this.options.enabled,this.#m)===hp(t.enabled,this.#m)&&i===this.#E||this.#D(i)}getOptimisticResult(e){const t=this.#l.getQueryCache().build(this.#l,e),n=this.createResult(t,e);return function(e,t){if(!_p(e.getCurrentResult(),t))return!0;return!1}(this,n)&&(this.#v=n,this.#_=this.options,this.#y=this.#m.state),n}getCurrentResult(){return this.#v}trackResult(e,t){const n={};return Object.keys(e).forEach((r=>{Object.defineProperty(n,r,{configurable:!1,enumerable:!0,get:()=>(this.trackProp(r),t?.(r),e[r])})})),n}trackProp(e){this.#T.add(e)}getCurrentQuery(){return this.#m}refetch(){let{...e}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this.fetch({...e})}fetchOptimistic(e){const t=this.#l.defaultQueryOptions(e),n=this.#l.getQueryCache().build(this.#l,t);return n.fetch().then((()=>this.createResult(n,t)))}fetch(e){return this.#I({...e,cancelRefetch:e.cancelRefetch??!0}).then((()=>(this.updateResult(),this.#v)))}#I(e){this.#N();let t=this.#m.fetch(this.options,e);return e?.throwOnError||(t=t.catch(lp)),t}#O(){this.#P();const e=dp(this.options.staleTime,this.#m);if(ap||this.#v.isStale||!up(e))return;const t=cp(this.#v.dataUpdatedAt,e)+1;this.#k=setTimeout((()=>{this.#v.isStale||this.updateResult()}),t)}#A(){return("function"===typeof this.options.refetchInterval?this.options.refetchInterval(this.#m):this.options.refetchInterval)??!1}#D(e){this.#R(),this.#E=e,!ap&&!1!==hp(this.options.enabled,this.#m)&&up(this.#E)&&0!==this.#E&&(this.#C=setInterval((()=>{(this.options.refetchIntervalInBackground||xp.isFocused())&&this.#I()}),this.#E))}#x(){this.#O(),this.#D(this.#A())}#P(){this.#k&&(clearTimeout(this.#k),this.#k=void 0)}#R(){this.#C&&(clearInterval(this.#C),this.#C=void 0)}createResult(e,t){const n=this.#m,r=this.options,i=this.#v,o=this.#y,s=this.#_,a=e!==n?e.state:this.#g,{state:l}=e;let u,c={...l},d=!1;if(t._optimisticResults){const i=this.hasListeners(),o=!i&&Hp(e,t),s=i&&Vp(e,n,t,r);(o||s)&&(c={...c,...zp(l.data,e.options)}),"isRestoring"===t._optimisticResults&&(c.fetchStatus="idle")}let{error:h,errorUpdatedAt:f,status:p}=c;if(t.select&&void 0!==c.data)if(i&&c.data===o?.data&&t.select===this.#b)u=this.#w;else try{this.#b=t.select,u=t.select(c.data),u=kp(i?.data,u,t),this.#w=u,this.#f=null}catch(w){this.#f=w}else u=c.data;if(void 0!==t.placeholderData&&void 0===u&&"pending"===p){let e;if(i?.isPlaceholderData&&t.placeholderData===s?.placeholderData)e=i.data;else if(e="function"===typeof t.placeholderData?t.placeholderData(this.#S?.state.data,this.#S):t.placeholderData,t.select&&void 0!==e)try{e=t.select(e),this.#f=null}catch(w){this.#f=w}void 0!==e&&(p="success",u=kp(i?.data,e,t),d=!0)}this.#f&&(h=this.#f,u=this.#w,f=Date.now(),p="error");const m="fetching"===c.fetchStatus,g="pending"===p,v="error"===p,y=g&&m,_=void 0!==u,b={status:p,fetchStatus:c.fetchStatus,isPending:g,isSuccess:"success"===p,isError:v,isInitialLoading:y,isLoading:y,data:u,dataUpdatedAt:c.dataUpdatedAt,error:h,errorUpdatedAt:f,failureCount:c.fetchFailureCount,failureReason:c.fetchFailureReason,errorUpdateCount:c.errorUpdateCount,isFetched:c.dataUpdateCount>0||c.errorUpdateCount>0,isFetchedAfterMount:c.dataUpdateCount>a.dataUpdateCount||c.errorUpdateCount>a.errorUpdateCount,isFetching:m,isRefetching:m&&!g,isLoadingError:v&&!_,isPaused:"paused"===c.fetchStatus,isPlaceholderData:d,isRefetchError:v&&_,isStale:Wp(e,t),refetch:this.refetch,promise:this.#p};if(this.options.experimental_prefetchInRender){const t=e=>{"error"===b.status?e.reject(b.error):void 0!==b.data&&e.resolve(b.data)},r=()=>{const e=this.#p=b.promise=Op();t(e)},i=this.#p;switch(i.status){case"pending":e.queryHash===n.queryHash&&t(i);break;case"fulfilled":"error"!==b.status&&b.data===i.value||r();break;case"rejected":"error"===b.status&&b.error===i.reason||r()}}return b}updateResult(){const e=this.#v,t=this.createResult(this.#m,this.options);if(this.#y=this.#m.state,this.#_=this.options,void 0!==this.#y.data&&(this.#S=this.#m),_p(t,e))return;this.#v=t;this.#L({listeners:(()=>{if(!e)return!0;const{notifyOnChangeProps:t}=this.options,n="function"===typeof t?t():t;if("all"===n||!n&&!this.#T.size)return!0;const r=new Set(n??this.#T);return this.options.throwOnError&&r.add("error"),Object.keys(this.#v).some((t=>{const n=t;return this.#v[n]!==e[n]&&r.has(n)}))})()})}#N(){const e=this.#l.getQueryCache().build(this.#l,this.options);if(e===this.#m)return;const t=this.#m;this.#m=e,this.#g=e.state,this.hasListeners()&&(t?.removeObserver(this),e.addObserver(this))}onQueryUpdate(){this.updateResult(),this.hasListeners()&&this.#x()}#L(e){Rp.batch((()=>{e.listeners&&this.listeners.forEach((e=>{e(this.#v)})),this.#l.getQueryCache().notify({query:this.#m,type:"observerResultsUpdated"})}))}};function Hp(e,t){return function(e,t){return!1!==hp(t.enabled,e)&&void 0===e.state.data&&!("error"===e.state.status&&!1===t.retryOnMount)}(e,t)||void 0!==e.state.data&&$p(e,t,t.refetchOnMount)}function $p(e,t,n){if(!1!==hp(t.enabled,e)){const r="function"===typeof n?n(e):n;return"always"===r||!1!==r&&Wp(e,t)}return!1}function Vp(e,t,n,r){return(e!==t||!1===hp(r.enabled,e))&&(!n.suspense||"error"!==e.state.status)&&Wp(e,n)}function Wp(e,t){return!1!==hp(t.enabled,e)&&e.isStaleByTime(dp(t.staleTime,e))}function Bp(){let e=!1;return{clearReset:()=>{e=!1},reset:()=>{e=!0},isReset:()=>e}}var Qp=r.createContext(Bp());function Kp(e,t){return"function"===typeof e?e(...t):!!e}function Yp(){}var Gp=r.createContext(!1),Jp=(Gp.Provider,(e,t,n)=>t.fetchOptimistic(e).catch((()=>{n.clearReset()})));function Xp(e,t,n){const i=ip(n),o=r.useContext(Gp),s=r.useContext(Qp),a=i.defaultQueryOptions(e);i.getDefaultOptions().queries?._experimental_beforeQuery?.(a),a._optimisticResults=o?"isRestoring":"optimistic",(e=>{const t=e.staleTime;e.suspense&&(e.staleTime="function"===typeof t?function(){return Math.max(t(...arguments),1e3)}:Math.max(t??1e3,1e3),"number"===typeof e.gcTime&&(e.gcTime=Math.max(e.gcTime,1e3)))})(a),((e,t)=>{(e.suspense||e.throwOnError||e.experimental_prefetchInRender)&&(t.isReset()||(e.retryOnMount=!1))})(a,s),(e=>{r.useEffect((()=>{e.clearReset()}),[e])})(s);const l=!i.getQueryCache().get(a.queryHash),[u]=r.useState((()=>new t(i,a))),c=u.getOptimisticResult(a),d=!o&&!1!==e.subscribed;if(r.useSyncExternalStore(r.useCallback((e=>{const t=d?u.subscribe(Rp.batchCalls(e)):Yp;return u.updateResult(),t}),[u,d]),(()=>u.getCurrentResult()),(()=>u.getCurrentResult())),r.useEffect((()=>{u.setOptions(a)}),[a,u]),((e,t)=>e?.suspense&&t.isPending)(a,c))throw Jp(a,u,s);if((e=>{let{result:t,errorResetBoundary:n,throwOnError:r,query:i,suspense:o}=e;return t.isError&&!n.isReset()&&!t.isFetching&&i&&(o&&void 0===t.data||Kp(r,[t.error,i]))})({result:c,errorResetBoundary:s,throwOnError:a.throwOnError,query:i.getQueryCache().get(a.queryHash),suspense:a.suspense}))throw c.error;if(i.getDefaultOptions().queries?._experimental_afterQuery?.(a,c),a.experimental_prefetchInRender&&!ap&&((e,t)=>e.isLoading&&e.isFetching&&!t)(c,o)){const e=l?Jp(a,u,s):i.getQueryCache().get(a.queryHash)?.promise;e?.catch(Yp).finally((()=>{u.updateResult()}))}return a.notifyOnChangeProps?c:u.trackResult(c)}function Zp(e,t){return Xp(e,qp,t)}var em=class extends jp{#M;#F;#u;constructor(e){super(),this.mutationId=e.mutationId,this.#F=e.mutationCache,this.#M=[],this.state=e.state||{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0},this.setOptions(e.options),this.scheduleGc()}setOptions(e){this.options=e,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(e){this.#M.includes(e)||(this.#M.push(e),this.clearGcTimeout(),this.#F.notify({type:"observerAdded",mutation:this,observer:e}))}removeObserver(e){this.#M=this.#M.filter((t=>t!==e)),this.scheduleGc(),this.#F.notify({type:"observerRemoved",mutation:this,observer:e})}optionalRemove(){this.#M.length||("pending"===this.state.status?this.scheduleGc():this.#F.remove(this))}continue(){return this.#u?.continue()??this.execute(this.state.variables)}async execute(e){this.#u=Fp({fn:()=>this.options.mutationFn?this.options.mutationFn(e):Promise.reject(new Error("No mutationFn found")),onFail:(e,t)=>{this.#h({type:"failed",failureCount:e,error:t})},onPause:()=>{this.#h({type:"pause"})},onContinue:()=>{this.#h({type:"continue"})},retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>this.#F.canRun(this)});const t="pending"===this.state.status,n=!this.#u.canStart();try{if(!t){this.#h({type:"pending",variables:e,isPaused:n}),await(this.#F.config.onMutate?.(e,this));const t=await(this.options.onMutate?.(e));t!==this.state.context&&this.#h({type:"pending",context:t,variables:e,isPaused:n})}const r=await this.#u.start();return await(this.#F.config.onSuccess?.(r,e,this.state.context,this)),await(this.options.onSuccess?.(r,e,this.state.context)),await(this.#F.config.onSettled?.(r,null,this.state.variables,this.state.context,this)),await(this.options.onSettled?.(r,null,e,this.state.context)),this.#h({type:"success",data:r}),r}catch(Wl){try{throw await(this.#F.config.onError?.(Wl,e,this.state.context,this)),await(this.options.onError?.(Wl,e,this.state.context)),await(this.#F.config.onSettled?.(void 0,Wl,this.state.variables,this.state.context,this)),await(this.options.onSettled?.(void 0,Wl,e,this.state.context)),Wl}finally{this.#h({type:"error",error:Wl})}}finally{this.#F.runNext(this)}}#h(e){this.state=(t=>{switch(e.type){case"failed":return{...t,failureCount:e.failureCount,failureReason:e.error};case"pause":return{...t,isPaused:!0};case"continue":return{...t,isPaused:!1};case"pending":return{...t,context:e.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:e.isPaused,status:"pending",variables:e.variables,submittedAt:Date.now()};case"success":return{...t,data:e.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...t,data:void 0,error:e.error,failureCount:t.failureCount+1,failureReason:e.error,isPaused:!1,status:"error"}}})(this.state),Rp.batch((()=>{this.#M.forEach((t=>{t.onMutationUpdate(e)})),this.#F.notify({mutation:this,type:"updated",action:e})}))}};var tm=class extends sp{#l;#v=void 0;#j;#U;constructor(e,t){super(),this.#l=e,this.setOptions(t),this.bindMethods(),this.#z()}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(e){const t=this.options;this.options=this.#l.defaultMutationOptions(e),_p(this.options,t)||this.#l.getMutationCache().notify({type:"observerOptionsUpdated",mutation:this.#j,observer:this}),t?.mutationKey&&this.options.mutationKey&&gp(t.mutationKey)!==gp(this.options.mutationKey)?this.reset():"pending"===this.#j?.state.status&&this.#j.setOptions(this.options)}onUnsubscribe(){this.hasListeners()||this.#j?.removeObserver(this)}onMutationUpdate(e){this.#z(),this.#L(e)}getCurrentResult(){return this.#v}reset(){this.#j?.removeObserver(this),this.#j=void 0,this.#z(),this.#L()}mutate(e,t){return this.#U=t,this.#j?.removeObserver(this),this.#j=this.#l.getMutationCache().build(this.#l,this.options),this.#j.addObserver(this),this.#j.execute(e)}#z(){const e=this.#j?.state??{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0};this.#v={...e,isPending:"pending"===e.status,isSuccess:"success"===e.status,isError:"error"===e.status,isIdle:"idle"===e.status,mutate:this.mutate,reset:this.reset}}#L(e){Rp.batch((()=>{if(this.#U&&this.hasListeners()){const t=this.#v.variables,n=this.#v.context;"success"===e?.type?(this.#U.onSuccess?.(e.data,t,n),this.#U.onSettled?.(e.data,null,t,n)):"error"===e?.type&&(this.#U.onError?.(e.error,t,n),this.#U.onSettled?.(void 0,e.error,t,n))}this.listeners.forEach((e=>{e(this.#v)}))}))}};function nm(e,t){const n=ip(t),[i]=r.useState((()=>new tm(n,e)));r.useEffect((()=>{i.setOptions(e)}),[i,e]);const o=r.useSyncExternalStore(r.useCallback((e=>i.subscribe(Rp.batchCalls(e))),[i]),(()=>i.getCurrentResult()),(()=>i.getCurrentResult())),s=r.useCallback(((e,t)=>{i.mutate(e,t).catch(Yp)}),[i]);if(o.error&&Kp(i.options.throwOnError,[o.error]))throw o.error;return{...o,mutate:s,mutateAsync:o.mutate}}function rm(){const{uid:e}=np(),t=ip();return{cartQuery:Zp({queryKey:["carts",e||""],queryFn:()=>async function(e){return zf(Ff(Bf,`carts/${e}`)).then((e=>{const t=e.val()||{};return Object.values(t)}))}(e),enabled:!!e}),addOrUpdateItem:nm({mutationFn:t=>async function(e,t){return Uf(Ff(Bf,`carts/${e}/${t.id}`),t)}(e,t),onSuccess:()=>{t.invalidateQueries(["carts",e])}}),removeItem:nm({mutationFn:t=>Gf(e,t),onSuccess:()=>{t.invalidateQueries(["carts",e])}})}}function im(){const{cartQuery:{data:e}}=rm();return(0,Dn.jsxs)("div",{className:"relative",children:[(0,Dn.jsx)(Nn,{className:"text-4xl"}),e&&(0,Dn.jsxs)("p",{className:"w-6 h-6 text-center bg-brand text-white font-bold rounded-full absolute -top-1 -right-2",children:[" ",e.length," "]})]})}function om(){const{user:e,login:t,logout:n}=np();return(0,Dn.jsxs)("header",{className:"sticky top-0 z-50 flex justify-between border-b border-gray-300 p-2 bg-white",children:[(0,Dn.jsxs)(ln,{to:"/",className:"flex items-center text-4xl text-brand",children:[(0,Dn.jsx)(An,{}),(0,Dn.jsx)("h1",{children:"Music Archive"})]}),(0,Dn.jsxs)("nav",{className:"flex items-center gap-4 font-semibold",children:[e&&(0,Dn.jsx)(ln,{to:"/carts",children:(0,Dn.jsx)(im,{})}),e&&e.isAdmin&&(0,Dn.jsx)(ln,{to:"/products/new",className:"text-2xl",children:(0,Dn.jsx)(Pn,{})}),e&&(0,Dn.jsx)(Ln,{user:e}),!e&&(0,Dn.jsx)(Mn,{text:"Login",onClick:t}),e&&(0,Dn.jsx)(Mn,{text:"Logout",onClick:n})]})]})}var sm=class extends sp{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};super(),this.config=e,this.#q=new Map}#q;build(e,t,n){const r=t.queryKey,i=t.queryHash??mp(r,t);let o=this.get(i);return o||(o=new Up({client:e,queryKey:r,queryHash:i,options:e.defaultQueryOptions(t),state:n,defaultOptions:e.getQueryDefaults(r)}),this.add(o)),o}add(e){this.#q.has(e.queryHash)||(this.#q.set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const t=this.#q.get(e.queryHash);t&&(e.destroy(),t===e&&this.#q.delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){Rp.batch((()=>{this.getAll().forEach((e=>{this.remove(e)}))}))}get(e){return this.#q.get(e)}getAll(){return[...this.#q.values()]}find(e){const t={exact:!0,...e};return this.getAll().find((e=>fp(t,e)))}findAll(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const t=this.getAll();return Object.keys(e).length>0?t.filter((t=>fp(e,t))):t}notify(e){Rp.batch((()=>{this.listeners.forEach((t=>{t(e)}))}))}onFocus(){Rp.batch((()=>{this.getAll().forEach((e=>{e.onFocus()}))}))}onOnline(){Rp.batch((()=>{this.getAll().forEach((e=>{e.onOnline()}))}))}},am=class extends sp{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};super(),this.config=e,this.#H=new Set,this.#$=new Map,this.#V=0}#H;#$;#V;build(e,t,n){const r=new em({mutationCache:this,mutationId:++this.#V,options:e.defaultMutationOptions(t),state:n});return this.add(r),r}add(e){this.#H.add(e);const t=lm(e);if("string"===typeof t){const n=this.#$.get(t);n?n.push(e):this.#$.set(t,[e])}this.notify({type:"added",mutation:e})}remove(e){if(this.#H.delete(e)){const t=lm(e);if("string"===typeof t){const n=this.#$.get(t);if(n)if(n.length>1){const t=n.indexOf(e);-1!==t&&n.splice(t,1)}else n[0]===e&&this.#$.delete(t)}}this.notify({type:"removed",mutation:e})}canRun(e){const t=lm(e);if("string"===typeof t){const n=this.#$.get(t),r=n?.find((e=>"pending"===e.state.status));return!r||r===e}return!0}runNext(e){const t=lm(e);if("string"===typeof t){const n=this.#$.get(t)?.find((t=>t!==e&&t.state.isPaused));return n?.continue()??Promise.resolve()}return Promise.resolve()}clear(){Rp.batch((()=>{this.#H.forEach((e=>{this.notify({type:"removed",mutation:e})})),this.#H.clear(),this.#$.clear()}))}getAll(){return Array.from(this.#H)}find(e){const t={exact:!0,...e};return this.getAll().find((e=>pp(t,e)))}findAll(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this.getAll().filter((t=>pp(e,t)))}notify(e){Rp.batch((()=>{this.listeners.forEach((t=>{t(e)}))}))}resumePausedMutations(){const e=this.getAll().filter((e=>e.state.isPaused));return Rp.batch((()=>Promise.all(e.map((e=>e.continue().catch(lp))))))}};function lm(e){return e.options.scope?.id}function um(e){return{onFetch:(t,n)=>{const r=t.options,i=t.fetchOptions?.meta?.fetchMore?.direction,o=t.state.data?.pages||[],s=t.state.data?.pageParams||[];let a={pages:[],pageParams:[]},l=0;const u=async()=>{let n=!1;const u=Ip(t.options,t.fetchOptions),c=async(e,r,i)=>{if(n)return Promise.reject();if(null==r&&e.pages.length)return Promise.resolve(e);const o={client:t.client,queryKey:t.queryKey,pageParam:r,direction:i?"backward":"forward",meta:t.options.meta};var s;s=o,Object.defineProperty(s,"signal",{enumerable:!0,get:()=>(t.signal.aborted?n=!0:t.signal.addEventListener("abort",(()=>{n=!0})),t.signal)});const a=await u(o),{maxPages:l}=t.options,c=i?Ep:Cp;return{pages:c(e.pages,a,l),pageParams:c(e.pageParams,r,l)}};if(i&&o.length){const e="backward"===i,t={pages:o,pageParams:s},n=(e?dm:cm)(r,t);a=await c(t,n,e)}else{const t=e??o.length;do{const e=0===l?s[0]??r.initialPageParam:cm(r,a);if(l>0&&null==e)break;a=await c(a,e),l++}while(l<t)}return a};t.options.persister?t.fetchFn=()=>t.options.persister?.(u,{client:t.client,queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},n):t.fetchFn=u}}}function cm(e,t){let{pages:n,pageParams:r}=t;const i=n.length-1;return n.length>0?e.getNextPageParam(n[i],n,r[i],r):void 0}function dm(e,t){let{pages:n,pageParams:r}=t;return n.length>0?e.getPreviousPageParam?.(n[0],n,r[0],r):void 0}const hm=new class{#W;#F;#c;#B;#Q;#K;#Y;#G;constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.#W=e.queryCache||new sm,this.#F=e.mutationCache||new am,this.#c=e.defaultOptions||{},this.#B=new Map,this.#Q=new Map,this.#K=0}mount(){this.#K++,1===this.#K&&(this.#Y=xp.subscribe((async e=>{e&&(await this.resumePausedMutations(),this.#W.onFocus())})),this.#G=Np.subscribe((async e=>{e&&(await this.resumePausedMutations(),this.#W.onOnline())})))}unmount(){this.#K--,0===this.#K&&(this.#Y?.(),this.#Y=void 0,this.#G?.(),this.#G=void 0)}isFetching(e){return this.#W.findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return this.#F.findAll({...e,status:"pending"}).length}getQueryData(e){const t=this.defaultQueryOptions({queryKey:e});return this.#W.get(t.queryHash)?.state.data}ensureQueryData(e){const t=this.defaultQueryOptions(e),n=this.#W.build(this,t),r=n.state.data;return void 0===r?this.fetchQuery(e):(e.revalidateIfStale&&n.isStaleByTime(dp(t.staleTime,n))&&this.prefetchQuery(t),Promise.resolve(r))}getQueriesData(e){return this.#W.findAll(e).map((e=>{let{queryKey:t,state:n}=e;return[t,n.data]}))}setQueryData(e,t,n){const r=this.defaultQueryOptions({queryKey:e}),i=this.#W.get(r.queryHash),o=i?.state.data,s=function(e,t){return"function"===typeof e?e(t):e}(t,o);if(void 0!==s)return this.#W.build(this,r).setData(s,{...n,manual:!0})}setQueriesData(e,t,n){return Rp.batch((()=>this.#W.findAll(e).map((e=>{let{queryKey:r}=e;return[r,this.setQueryData(r,t,n)]}))))}getQueryState(e){const t=this.defaultQueryOptions({queryKey:e});return this.#W.get(t.queryHash)?.state}removeQueries(e){const t=this.#W;Rp.batch((()=>{t.findAll(e).forEach((e=>{t.remove(e)}))}))}resetQueries(e,t){const n=this.#W;return Rp.batch((()=>(n.findAll(e).forEach((e=>{e.reset()})),this.refetchQueries({type:"active",...e},t))))}cancelQueries(e){const t={revert:!0,...arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}},n=Rp.batch((()=>this.#W.findAll(e).map((e=>e.cancel(t)))));return Promise.all(n).then(lp).catch(lp)}invalidateQueries(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return Rp.batch((()=>(this.#W.findAll(e).forEach((e=>{e.invalidate()})),"none"===e?.refetchType?Promise.resolve():this.refetchQueries({...e,type:e?.refetchType??e?.type??"active"},t))))}refetchQueries(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n={...t,cancelRefetch:t.cancelRefetch??!0},r=Rp.batch((()=>this.#W.findAll(e).filter((e=>!e.isDisabled())).map((e=>{let t=e.fetch(void 0,n);return n.throwOnError||(t=t.catch(lp)),"paused"===e.state.fetchStatus?Promise.resolve():t}))));return Promise.all(r).then(lp)}fetchQuery(e){const t=this.defaultQueryOptions(e);void 0===t.retry&&(t.retry=!1);const n=this.#W.build(this,t);return n.isStaleByTime(dp(t.staleTime,n))?n.fetch(t):Promise.resolve(n.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(lp).catch(lp)}fetchInfiniteQuery(e){return e.behavior=um(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(lp).catch(lp)}ensureInfiniteQueryData(e){return e.behavior=um(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return Np.isOnline()?this.#F.resumePausedMutations():Promise.resolve()}getQueryCache(){return this.#W}getMutationCache(){return this.#F}getDefaultOptions(){return this.#c}setDefaultOptions(e){this.#c=e}setQueryDefaults(e,t){this.#B.set(gp(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){const t=[...this.#B.values()],n={};return t.forEach((t=>{vp(e,t.queryKey)&&Object.assign(n,t.defaultOptions)})),n}setMutationDefaults(e,t){this.#Q.set(gp(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){const t=[...this.#Q.values()],n={};return t.forEach((t=>{vp(e,t.mutationKey)&&Object.assign(n,t.defaultOptions)})),n}defaultQueryOptions(e){if(e._defaulted)return e;const t={...this.#c.queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return t.queryHash||(t.queryHash=mp(t.queryKey,t)),void 0===t.refetchOnReconnect&&(t.refetchOnReconnect="always"!==t.networkMode),void 0===t.throwOnError&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.queryFn===Tp&&(t.enabled=!1),t}defaultMutationOptions(e){return e?._defaulted?e:{...this.#c.mutations,...e?.mutationKey&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){this.#W.clear(),this.#F.clear()}};const fm=function(){return(0,Dn.jsx)(tp,{children:(0,Dn.jsxs)(op,{client:hm,children:[(0,Dn.jsx)(om,{}),(0,Dn.jsx)(Ct,{})]})})};function pm(){const e=tt(),{isLoading:t,error:n,data:i}=Zp({queryKey:["products"],queryFn:Yf}),[o,s]=(0,r.useState)([]),[a,l]=(0,r.useState)(0);return(0,r.useEffect)((()=>{i&&i.length>0&&s(i.slice(0,3))}),[i]),(0,r.useEffect)((()=>{const e=setInterval((()=>{l((e=>(e+1)%o.length))}),2e3);return()=>clearInterval(e)}),[o.length]),(0,Dn.jsxs)("div",{className:"train sticky top-16 z-40 flex justify-center mx-4 bg-white",children:[t&&(0,Dn.jsx)("p",{children:"Loading..."}),n&&(0,Dn.jsx)("p",{children:n.message}),(0,Dn.jsx)("div",{className:"relative w-full h-96 text-center flex-shrink-0 overflow-hidden mb-4",children:(0,Dn.jsx)("div",{className:"flex transition-transform duration-400 ease-in-out",style:{transform:`translateX(-${100*a}%)`},children:o.map(((t,n)=>{var r,i;return(0,Dn.jsx)("div",{onClick:()=>(t=>{e("/products",{state:{product:t}})})(t),className:"w-full  h-96 flex-shrink-0 bg-zinc-200",children:(0,Dn.jsxs)("div",{className:"flex m-16 h-4/6",children:[(0,Dn.jsx)("img",{src:t.image,alt:""}),(0,Dn.jsxs)("div",{className:"text-left px-6",children:[(0,Dn.jsx)("p",{className:"text-4xl font-bold",children:t.albumName}),(0,Dn.jsx)("p",{className:"text-lg font-semibold",children:t.artist}),(0,Dn.jsx)("p",{className:"text-sm mt-7 text-gray-700 \n                                        "+((null===(r=t.albumAccount)||void 0===r?void 0:r.length)>500?"max-h-24 overflow-hidden":""),children:t.albumAccount}),(null===(i=t.albumAccount)||void 0===i?void 0:i.length)>500&&(0,Dn.jsx)("button",{className:"mt-2",children:"\ub354\ubcf4\uae30..."})]})]})},n)}))})})]})}function mm(e){let{product:t,product:{id:n,image:r,title:i,price:o,albumName:s,artist:a}}=e;const l=t,u=tt();return(0,Dn.jsx)("li",{onClick:()=>{u("/products",{state:{product:l}})},children:(0,Dn.jsxs)("div",{className:"ml-10",children:[(0,Dn.jsx)("img",{className:"w-4/5 h-4/5",src:r,alt:i}),(0,Dn.jsxs)("div",{children:[(0,Dn.jsx)("h3",{className:"text-xl font-bold",children:s}),(0,Dn.jsx)("p",{children:a}),(0,Dn.jsx)("p",{children:`\uffe6${o}`})]})]})})}function gm(){const e=ip();return{getProducts:Zp({queryKey:["products"],queryFn:()=>Yf()}),addProduct:nm({mutationFn:e=>{let{product:t,url:n}=e;return async function(e,t){const n=Hn();return Uf(Ff(Bf,`products/${Hn(n)}`),{...e,id:n,price:parseInt(e.price),image:t,title:e.title.split("-")})}(t,n)},onSuccess:async()=>e.invalidateQueries(["products"])})}}function vm(){const{getProducts:{isLoading:e,error:t,data:n}}=gm();return(0,Dn.jsxs)(Dn.Fragment,{children:[e&&(0,Dn.jsx)("p",{children:"Loading..."}),t&&(0,Dn.jsx)("p",{className:"text-red-500",children:t.message}),(0,Dn.jsx)("ul",{className:"grid grid-cols-1 md:grid-cols-4 lg:grid-cols-4 gap-4 p-4",children:n&&n.map((e=>(0,Dn.jsx)(mm,{product:e},e.id)))})]})}function ym(){return(0,Dn.jsxs)(Dn.Fragment,{children:[(0,Dn.jsx)(pm,{}),(0,Dn.jsx)(vm,{})]})}function _m(e){let{song:t,onClose:n}=e;return(0,Dn.jsx)("div",{className:"modal-overlay",onClick:n,children:(0,Dn.jsxs)("div",{className:"modal-content",onClick:e=>e.stopPropagation(),children:[(0,Dn.jsxs)("div",{className:"modal-top",children:[(0,Dn.jsx)("img",{className:"modalImg",src:t.image,alt:""}),(0,Dn.jsxs)("div",{className:"modal-title",children:[(0,Dn.jsx)("p",{className:"songName",children:t.song}),(0,Dn.jsx)("p",{className:"songArtist",children:t.artist}),(0,Dn.jsx)("p",{className:"songDate",children:t.date})]}),(0,Dn.jsx)("button",{onClick:n,className:"modal-close-button",children:(0,Dn.jsx)(On,{})})]}),"more"===t.type?(0,Dn.jsx)("p",{className:"songAccount",children:t.songAccount}):(0,Dn.jsx)("pre",{className:"songAccount",children:t.songAccount})]})})}function bm(){const{user:e,login:t}=np(),{cartQuery:{data:n},addOrUpdateItem:i}=rm(),{state:{product:{id:o,price:s,albumName:a,image:l,artist:u,albumAccount:c,date:d,songList:h,title:f}}}=Xe(),p=Array.isArray(n)&&n.some((e=>e.albumName===a&&e.artist===u)),[m,g]=(0,r.useState)(!1),[v,y]=(0,r.useState)(null),_=(e,t)=>{if("more"===e){y({artist:u,date:d,image:l,song:a,songAccount:c,type:e})}else t.artist=u,t.date=d,t.image=l,t.type=e,y(t);g(!0)};return(0,Dn.jsxs)("div",{className:"p-8",children:[(0,Dn.jsxs)("div",{className:"relative flex h-96 bg-zinc-200 p-4",children:[(0,Dn.jsx)("img",{src:l,alt:a}),(0,Dn.jsxs)("div",{className:"text-left p-6",children:[(0,Dn.jsx)("p",{className:"text-4xl font-bold",children:a}),(0,Dn.jsx)("p",{className:"text-lg font-semibold",children:u}),(0,Dn.jsx)("p",{className:"text-lg",children:d}),(0,Dn.jsx)("p",{className:"text-sm mt-7 text-gray-700 \n                        "+(c.length>300?"max-h-24 overflow-hidden":""),children:c}),c.length>300&&(0,Dn.jsx)("button",{onClick:()=>_("more"),className:"mt-2",children:"\ub354\ubcf4\uae30..."}),(0,Dn.jsx)("button",{onClick:n=>{if(e){if(p)alert("\uc7a5\ubc14\uad6c\ub2c8\uc5d0 \ucd94\uac00 \ub418\uc5b4 \uc788\uc2b5\ub2c8\ub2e4.");else if(window.confirm("\uc7a5\ubc14\uad6c\ub2c8\uc5d0 \ucd94\uac00 \ud558\uc2dc\uaca0\uc2b5\ub2c8\uae4c?")){const e={id:o,image:l,albumName:a,price:s,quantity:1,artist:u};i.mutate(e),alert("\ucd94\uac00 \ub418\uc5c8\uc2b5\ub2c8\ub2e4.")}}else t()},className:"w-28 h-9 mt-10 bg-brand block text-white font-semibold",children:"\uad6c\ub9e4\ud558\uae30"})]})]}),(0,Dn.jsx)("div",{className:"h-auto mt-10",children:h.map(((e,t)=>(0,Dn.jsxs)("div",{onClick:()=>_("songList",e),className:"flex justify-between h-14 bg-brand text-white p-4 mt-3 rounded",children:[(0,Dn.jsxs)("div",{className:"flex items-center gap-2",children:[(0,Dn.jsx)("p",{className:"text-left font-semibold",children:e.song}),f.includes(e.song)&&(0,Dn.jsx)("div",{className:" text-white bg-red-500 px-2 rounded",children:"title"})]}),(0,Dn.jsx)("p",{className:"flex items-center text-right font-semibold",children:u})]},t)))}),m&&(0,Dn.jsx)(_m,{song:v,onClose:()=>{g(!1)}})]})}function wm(e){return In({tag:"svg",attr:{viewBox:"0 0 16 16",fill:"currentColor"},child:[{tag:"path",attr:{fillRule:"evenodd",clipRule:"evenodd",d:"M7.116 8l-4.558 4.558.884.884L8 8.884l4.558 4.558.884-.884L8.884 8l4.558-4.558-.884-.884L8 7.116 3.442 2.558l-.884.884L7.116 8z"},child:[]}]})(e)}function Sm(){var e,t,n,i,o,s;const[a,l]=(0,r.useState)({}),[u,c]=(0,r.useState)(),[d,h]=(0,r.useState)(!1),[f,p]=(0,r.useState)([{id:1}]),m=(0,r.useRef)(),{addProduct:g}=gm(),v="p-4 outline-none border border-gray-300 my-1",y=e=>{const{name:t,value:n,files:r}=e.target;"file"!==t?l((e=>({...e,[t]:n}))):c(r&&r[0])},_=e=>{let{name:t,value:n}=e.target;const r=t.includes("songName")?n:"",i=t.includes("songAccount")?n:"",o=t.replace(/songName/g,"").replace(/songAccount/g,"").trim();l((e=>{const t=(e.songList||[]).map((e=>e.songName===o?r?{...e,song:n}:{...e,songAccount:n}:e)),s=t.some((e=>e.songName===o));return{...e,songList:s?t:[...t,{songName:o,song:r,songAccount:i}]}}))};return(0,Dn.jsxs)("section",{className:"w-full text-center mb-10",children:[(0,Dn.jsx)("h2",{className:"text-2xl font-bold my-4",children:"\uc568\ubc94 \ub4f1\ub85d"}),(0,Dn.jsxs)("form",{className:"flex flex-col px-12",onSubmit:e=>{e.preventDefault(),h(!0),async function(e){const t=new FormData;return t.append("file",e),t.append("upload_preset","ml_default"),fetch("https://api.cloudinary.com/v1_1/dlgctkdxf/image/upload",{method:"POST",body:t}).then((e=>e.json())).then((e=>e.url))}(u).then((e=>{g.mutate({product:a,url:e},{onSuccess:()=>{window.confirm("\uc568\ubc94 \ub4f1\ub85d\uc774 \uc644\ub8cc\ub418\uc5c8\uc2b5\ub2c8\ub2e4."),l({}),c(null),p([{id:1}]),m.current&&(m.current.value="")}})})).finally((()=>h(!1)))},children:[u&&(0,Dn.jsx)("img",{className:"w-96 mx-auto mb-2",src:URL.createObjectURL(u),alt:"local file"}),(0,Dn.jsx)("input",{className:v,type:"file",accept:"image/*",name:"file",required:!0,onChange:y,ref:m}),(0,Dn.jsx)("input",{className:v,type:"text",name:"albumName",value:null!==(e=a.albumName)&&void 0!==e?e:"",placeholder:"\uc568\ubc94\uba85",required:!0,onBlur:y,onChange:y}),(0,Dn.jsx)("input",{className:v,type:"text",name:"artist",value:null!==(t=a.artist)&&void 0!==t?t:"",placeholder:"\uac00\uc218\uba85",required:!0,onBlur:y,onChange:y}),(0,Dn.jsx)("input",{className:v,type:"text",name:"date",value:null!==(n=a.date)&&void 0!==n?n:"",placeholder:"\ubc1c\ub9e4\uc77c",required:!0,onBlur:y,onChange:y}),(0,Dn.jsx)("input",{className:v,type:"text",name:"title",value:null!==(i=a.title)&&void 0!==i?i:"",placeholder:"\ud0c0\uc774\ud2c0 \uace1 (\uc5ec\ub7ec \uac1c\ub294 \ucf64\ub9c8 - \ub85c \uad6c\ubd84)",required:!0,onBlur:y,onChange:y}),(0,Dn.jsx)("input",{className:v,type:"number",name:"price",value:null!==(o=a.price)&&void 0!==o?o:"",placeholder:"\uac00\uaca9",required:!0,onBlur:y,onChange:y}),(0,Dn.jsx)("textarea",{className:v,type:"text",name:"albumAccount",value:null!==(s=a.albumAccount)&&void 0!==s?s:"",placeholder:"\uc568\ubc94\uc18c\uac1c",required:!0,onBlur:y,onChange:y}),(0,Dn.jsx)("p",{className:"font-semibold text-lg mb-2 mt-10",children:"\uc568\ubc94 \ub9ac\uc2a4\ud2b8"}),(0,Dn.jsxs)("div",{className:"mt-6 border-solid border-red-500",children:[f.map((e=>{const t=(a.songList||[]).find((t=>t.songName===String(e.id)))||{};return(0,Dn.jsxs)("div",{className:"flex flex-col relative bg-zinc-200 rounded px-4 pt-10 pb-4 my-2",children:[(0,Dn.jsx)("button",{type:"button",className:"absolute top-2 right-2 text-red-500 font-bold text-sm",onClick:()=>{return t=e.id,void(1!==f.length?(p((e=>e.filter((e=>e.id!==t)))),l((e=>({...e,songList:(e.songList||[]).filter((e=>e.songName!==String(t)))})))):alert("1\uac1c \uc774\uc0c1 \uc785\ub825\ud574\uc57c \ub4f1\ub85d\uc774 \uac00\ub2a5\ud569\ub2c8\ub2e4."));var t},children:(0,Dn.jsx)(wm,{className:"text-2xl"})}),(0,Dn.jsx)("input",{className:v,type:"text",name:`songName${e.id}`,placeholder:"\uace1\uba85",required:!0,value:t.song||"",onChange:_,onBlur:_}),(0,Dn.jsx)("textarea",{className:v,name:`songAccount${e.id}`,placeholder:"\uac00\uc0ac",required:!0,value:t.songAccount||"",onChange:_,onBlur:_})]},e.id)})),(0,Dn.jsx)("button",{type:"button",onClick:()=>{p([...f,{id:f.length+1}])},className:"bg-slate-600 text-white p-2 mt-2 rounded",children:"+ \uace1 \ucd94\uac00"})]}),(0,Dn.jsx)("button",{className:"bg-slate-600 text-white p-4 mt-6 rounded",disabled:d,children:d?"\uc5c5\ub85c\ub4dc \uc911...":"\uc568\ubc94 \ub4f1\ub85d\ud558\uae30"})]})]})}function km(e){return In({tag:"svg",attr:{viewBox:"0 0 1024 1024"},child:[{tag:"path",attr:{d:"M328 544h368c4.4 0 8-3.6 8-8v-48c0-4.4-3.6-8-8-8H328c-4.4 0-8 3.6-8 8v48c0 4.4 3.6 8 8 8z"},child:[]},{tag:"path",attr:{d:"M880 112H144c-17.7 0-32 14.3-32 32v736c0 17.7 14.3 32 32 32h736c17.7 0 32-14.3 32-32V144c0-17.7-14.3-32-32-32zm-40 728H184V184h656v656z"},child:[]}]})(e)}function Cm(e){return In({tag:"svg",attr:{viewBox:"0 0 1024 1024"},child:[{tag:"path",attr:{d:"M328 544h152v152c0 4.4 3.6 8 8 8h48c4.4 0 8-3.6 8-8V544h152c4.4 0 8-3.6 8-8v-48c0-4.4-3.6-8-8-8H544V328c0-4.4-3.6-8-8-8h-48c-4.4 0-8 3.6-8 8v152H328c-4.4 0-8 3.6-8 8v48c0 4.4 3.6 8 8 8z"},child:[]},{tag:"path",attr:{d:"M880 112H144c-17.7 0-32 14.3-32 32v736c0 17.7 14.3 32 32 32h736c17.7 0 32-14.3 32-32V144c0-17.7-14.3-32-32-32zm-40 728H184V184h656v656z"},child:[]}]})(e)}function Em(e){return In({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M17 4H22V6H20V21C20 21.5523 19.5523 22 19 22H5C4.44772 22 4 21.5523 4 21V6H2V4H7V2H17V4ZM9 9V17H11V9H9ZM13 9V17H15V9H13Z"},child:[]}]})(e)}const Tm="transition-all cursor-pointer hover:text-brand hover:scale-105 mx-1";function Im(e){let{product:t,product:{id:n,image:r,albumName:i,quantity:o,price:s,artist:a}}=e;const{addOrUpdateItem:l,removeItem:u}=rm();return(0,Dn.jsxs)("li",{className:"flex justify-between my-2 items-center",children:[(0,Dn.jsx)("img",{className:"w-24 md:w-48",src:r,alt:i}),(0,Dn.jsxs)("div",{className:"flex-1 flex justify-between ml-4",children:[(0,Dn.jsxs)("div",{className:"basis-3/5",children:[(0,Dn.jsx)("p",{className:"text-xl font-bold",children:i}),(0,Dn.jsx)("p",{className:"text-sm",children:a}),(0,Dn.jsxs)("p",{children:["\uffe6",s]})]}),(0,Dn.jsxs)("div",{className:"text-2xl flex items-center",children:[(0,Dn.jsx)(km,{className:Tm,onClick:()=>{o<=1||l.mutate({...t,quantity:o-1})}}),(0,Dn.jsx)("span",{children:o}),(0,Dn.jsx)(Cm,{className:Tm,onClick:()=>{l.mutate({...t,quantity:o+1})}}),(0,Dn.jsx)(Em,{className:Tm,onClick:()=>{u.mutate(n)}})]})]})]})}function xm(e){return In({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M416 304H32c-17.67 0-32 14.33-32 32v32c0 17.67 14.33 32 32 32h384c17.67 0 32-14.33 32-32v-32c0-17.67-14.33-32-32-32zm0-192H32c-17.67 0-32 14.33-32 32v32c0 17.67 14.33 32 32 32h384c17.67 0 32-14.33 32-32v-32c0-17.67-14.33-32-32-32z"},child:[]}]})(e)}function Pm(e){let{text:t,price:n}=e;return(0,Dn.jsxs)("div",{className:"bg-gray-50 p-8 mx-2 rounded-2xl text-center text-lg md:text-xl",children:[(0,Dn.jsx)("p",{children:t}),(0,Dn.jsxs)("p",{className:"font-bold text-brand text-xl md:text-2xl",children:["\uffe6",n]})]})}function Rm(){const{cartQuery:{isLoading:e,data:t}}=rm();if(e)return(0,Dn.jsx)("p",{children:"Loading..."});const n=t&&t.length>0,r=t&&t.reduce(((e,t)=>e+parseInt(t.price)*t.quantity),0);return(0,Dn.jsxs)("section",{className:"p-8 flex flex-col",children:[(0,Dn.jsx)("p",{className:"text-2xl text-center font-bold pb-4 border-b border-gray-300",children:"\ub0b4 \uc7a5\ubc14\uad6c\ub2c8"}),!n&&(0,Dn.jsx)("p",{children:"\uc7a5\ubc14\uad6c\ub2c8\uc5d0 \uc0c1\ud488\uc774 \uc5c6\uc2b5\ub2c8\ub2e4."}),n&&(0,Dn.jsxs)(Dn.Fragment,{children:[(0,Dn.jsx)("ul",{className:"border-b border-gray-300 mb-8 p-4 px-8",children:t&&t.map((e=>(0,Dn.jsx)(Im,{product:e},e.id)))}),(0,Dn.jsxs)("div",{className:"flex justify-between items-center mb-6 p-2 md:px-8 lg:px-16",children:[(0,Dn.jsx)(Pm,{text:"\uc0c1\ud488\ucd1d\uc561",price:r}),(0,Dn.jsx)(Rn,{className:"shrink-0"}),(0,Dn.jsx)(Pm,{text:"\ubc30\uc1a1\ube44",price:3e3}),(0,Dn.jsx)(xm,{className:"shrink-0"}),(0,Dn.jsx)(Pm,{text:"\ucd1d\uac00\uaca9",price:r+3e3})]}),(0,Dn.jsx)(Mn,{text:"\uc8fc\ubb38\ud558\uae30"})]})]})}function Nm(){return(0,Dn.jsx)("div",{children:"NotFound"})}function Om(e){let{children:t,requireAdmin:n}=e;const{user:r}=np();return!r||n&&!r.isAdmin?(0,Dn.jsx)(kt,{to:"/",replace:!0}):t}const Am=(Dm=[{path:"/",element:(0,Dn.jsx)(fm,{}),errorElement:(0,Dn.jsx)(Nm,{}),children:[{index:!0,path:"/",element:(0,Dn.jsx)(ym,{})},{path:"/products",element:(0,Dn.jsx)(bm,{})},{path:"/products/new",element:(0,Dn.jsx)(Om,{requireAdmin:!0,children:(0,Dn.jsx)(Sm,{})})},{path:"/carts",element:(0,Dn.jsx)(Om,{children:(0,Dn.jsx)(Rm,{})})}]}],ne({basename:Lm?.basename,future:Lm?.future,history:s({window:Lm?.window}),hydrationData:Lm?.hydrationData||on(),routes:Dm,mapRouteProperties:_t,dataStrategy:Lm?.dataStrategy,patchRoutesOnNavigation:Lm?.patchRoutesOnNavigation,window:Lm?.window}).initialize());var Dm,Lm;i.createRoot(document.getElementById("root")).render((0,Dn.jsx)(r.StrictMode,{children:(0,Dn.jsx)(vn,{router:Am})}))})();
//# sourceMappingURL=main.21ba591f.js.map